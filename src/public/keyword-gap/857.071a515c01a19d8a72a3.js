!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0d89fcbc-99bd-4479-9738-12d3e12912cf",e._sentryDebugIdIdentifier="sentry-dbid-0d89fcbc-99bd-4479-9738-12d3e12912cf")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"keyword-gap@9752af52"},(self.webpackChunkkeyword_gap=self.webpackChunkkeyword_gap||[]).push([[857],{97116:(e,t,a)=>{var r={"./limit_api.svg":[95423,250,423],"./limit_databases.svg":[60201,250,201],"./limit_excel.svg":[26678,250,678],"./limit_historical.svg":[57705,250,705],"./limit_keyword_per_report.svg":[26943,250,943],"./limit_reports_per_day.svg":[35561,250,561],"./limit_subdomain.svg":[71205,250,205]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(n)))}n.keys=()=>Object.keys(r),n.id=97116,e.exports=n},98981:(e,t,a)=>{var r={"./de/countries.json":[52255,65],"./en/countries.json":[63431,61],"./es/countries.json":[49540,294],"./fr/countries.json":[59084,990],"./it/countries.json":[41361,919],"./ja/countries.json":[66405,843],"./ko/countries.json":[70030,956],"./nl/countries.json":[40142,208],"./pl/countries.json":[49892,570],"./pt/countries.json":[83308,578],"./sv/countries.json":[94277,567],"./tr/countries.json":[59210,936],"./vi/countries.json":[65409,975],"./zh/countries.json":[82742,424]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((()=>a.t(n,19)))}n.keys=()=>Object.keys(r),n.id=98981,e.exports=n},20006:(e,t,a)=>{var r={"./de/translation.json":[51770,580],"./en/translation.json":[10946,72],"./es/translation.json":[91489,531],"./fr/translation.json":[23369,435],"./it/translation.json":[44164,154],"./ja/translation.json":[48416,478],"./ko/translation.json":[49115,761],"./nl/translation.json":[31003,277],"./pl/translation.json":[20014,503],"./pt/translation.json":[35017,271],"./sv/translation.json":[54304,346],"./tr/translation.json":[94831,717],"./vi/translation.json":[13588,714],"./zh/translation.json":[3555,557]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return a.e(t[1]).then((()=>a.t(n,19)))}n.keys=()=>Object.keys(r),n.id=20006,e.exports=n},59367:(e,t,a)=>{var r={"./find-insights.svg":[22995,250,995],"./select-keywords-type.svg":[95548,250,548],"./type-competitor.svg":[52845,250,845]};function n(e){if(!a.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(n)))}n.keys=()=>Object.keys(r),n.id=59367,e.exports=n},45857:(e,t,a)=>{"use strict";var r={};a.r(r),a.d(r,{RANKING_TYPES:()=>Jn,stateKey:()=>Bn});var n=a(96540),l=a(5338),o=a(69733),i=a(97673),s=a(57971);const c=(0,s.zR)();var d=a(20827),p=a.n(d);const u=new function(){function e(e,t,a){const r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);const n=`; expires=${r.toGMTString()}`;document.cookie=`${e}=${t}${n}; path=/`}function t(t){e("localStorage",JSON.stringify(t),365)}let a=function(){const e=function(){const e="localStorage=",t=document.cookie.split(";");let a;for(let r=0;r<t.length;r+=1){for(a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e))return a.substring(13,a.length)}return null}();return e?JSON.parse(e):{}}();function r(){return Object.keys(a).length}return{clear(){a={},e("localStorage","",365),this.length=r()},getItem(e){const t=encodeURIComponent(e);return void 0===a[t]?null:a[t]},key(e){const t=Object.keys(a).filter(((t,a)=>a===e))[0];return null!=t?decodeURIComponent(t):null},removeItem(e){const n=encodeURIComponent(e);delete a[n],t(a),this.length=r()},setItem(e,n){const l=encodeURIComponent(e);a[l]=String(n),t(a),this.length=r()},length:0}},m=void 0===window.localStorage?u:localStorage,y={set(e,t){try{m.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}},get(e){let t;try{t=m.getItem(e)}catch(e){console.log(e)}return function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(t)?JSON.parse(t):t}},g="gaEvents",h=Boolean(window.ga)?window.ga.bind(window):(...e)=>{const t=y.get(g)||[];for(;t.length>200;)t.shift();t.push(((e,t,a,...r)=>({timestamp:e,actionType:t,action:a,value:r}))(Date.now(),...e)),y.set(g,t),console.info(`ga(${JSON.stringify(e)})`),void 0!==window.ga&&window.ga(...e)},b=()=>{h("set","page",window.location.pathname+window.location.search),h("send","pageview")},f=e=>{const t=e.category||p().gaCategory,a=[t,e.action];void 0!==e.label&&e.label.length>0&&a.push(e.label),void 0!==e.value&&("number"==typeof e.value||e.value.length>0)&&a.push(e.value);const r={};e.dimension100&&(r.dimension100=JSON.stringify(e.dimension100)),e.dimension101&&(r.dimension101=JSON.stringify(e.dimension101));const[n,l,o,i]=a;h("send",{hitType:"event",eventCategory:n,eventAction:l,eventLabel:o,eventValue:i,...r}),(({category:e,action:t="",label:a="",...r})=>{const n=e||p().gaCategory,l={event:n,eventCategory:n,eventAction:t,eventLabel:a,...r};"undefined"==typeof dataLayer?(console.groupCollapsed("DataLayer push"),console.info("dataLayer",l),console.groupEnd()):dataLayer.push(l)})({category:t,label:e.label,action:e.action,...r})},E=(e="")=>e.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join("_");var k=a(5556),v=a.n(k),w=a(20265),T=a(23364);const A=()=>{window.location.reload()},C=({locale:e,children:t})=>n.createElement(T.tH,{fallback:n.createElement(w.A,{onClick:A,locale:e})},t);C.propTypes={locale:v().string.isRequired,children:v().node.isRequired};const S=C;var x,R,_=a(38798),L=a(61785),O=a(53797),P=a(55497),I=I||function(){function e(e,a={decode:!0}){var r,n,l,o,d,p,u=Object.create(null);if(this[i]=u,this.decodeOn=a.decode,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),d=0,p=(o=e.split("&")).length;d<p;d++)-1<(r=(l=o[d]).indexOf("="))?s(u,c(l.slice(0,r),this.decodeOn),c(l.slice(r+1),this.decodeOn)):l.length&&s(u,c(l,this.decodeOn),"");else if(t(e))for(d=0,p=e.length;d<p;d++)s(u,(l=e[d])[0],l[1]);else for(n in e)s(u,n,e[n])}var t=Array.isArray,a=e.prototype,r=/[!'\(\)~]|%20|%00/g,n=/\+/g,l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},o=function(e){return l[e]},i="__URLSearchParams__:"+Math.random();function s(e,a,r){a in e?e[a].push(""+r):e[a]=t(r)?r:[""+r]}function c(e,t){return t?decodeURIComponent(e.replace(n," ")):e}function d(e,t){return t?encodeURIComponent(e).replace(r,o):e}a.append=function(e,t){s(this[i],e,t)},a.delete=function(e){delete this[i][e]},a.get=function(e){var t=this[i];return e in t?t[e][0]:null},a.getAll=function(e){var t=this[i];return e in t?t[e].slice(0):[]},a.has=function(e){return e in this[i]},a.set=function(e,t){this[i][e]=[""+t]},a.forEach=function(e,t){var a=this[i];Object.getOwnPropertyNames(a).forEach((function(r){a[r].forEach((function(a){e.call(t,a,r,this)}),this)}),this)},a.toJSON=function(){return{}},a.toString=function(){var e,t,a,r,n=this[i],l=[];for(t in n)for(a=d(t,this.decodeOn),e=0,r=n[t];e<r.length;e++)l.push(a+"="+d(r[e]));return l.join("&")};var p=Object.defineProperty,u=Object.getOwnPropertyDescriptor,m=function(t){var r=t.append;t.append=a.append,e.call(t,t._usp.search.slice(1)),t.append=r},y=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},g=function(t){var r,n,l=t.prototype,o=u(l,"searchParams"),i=u(l,"href"),s=u(l,"search");!o&&s&&s.set&&(n=function(e){function t(t,r){a.append.call(this,t,r),t=this.toString(),e.set.call(this._usp,t?"?"+t:"")}function r(t){a.delete.call(this,t),t=this.toString(),e.set.call(this._usp,t?"?"+t:"")}function n(t,r){a.set.call(this,t,r),t=this.toString(),e.set.call(this._usp,t?"?"+t:"")}return function(e,a){return e.append=t,e.delete=r,e.set=n,p(e,"_usp",{configurable:!0,writable:!0,value:a})}}(s),r=function(e,t){return p(e,"_searchParams",{configurable:!0,writable:!0,value:n(t,e)}),t},Object.defineProperties(l,{href:{get:function(){return i.get.call(this)},set:function(e){var t=this._searchParams;i.set.call(this,e),t&&m(t)}},search:{get:function(){return s.get.call(this)},set:function(e){var t=this._searchParams;s.set.call(this,e),t&&m(t)}},searchParams:{get:function(){return y(this,t),this._searchParams||r(this,new e(this.search.slice(1)))},set:function(e){y(this,t),r(this,e)}}}))};return g(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&g(URL),e}();x=I.prototype,R=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),"forEach"in x||(x.forEach=function(e,t){var a=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in a)&&(a[r]=this.getAll(r)).forEach((function(a){e.call(t,a,r,this)}),this)}),this)}),"keys"in x||(x.keys=function(){var e=[];this.forEach((function(t,a){e.push(a)}));var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return R&&(t[Symbol.iterator]=function(){return t}),t}),"values"in x||(x.values=function(){var e=[];this.forEach((function(t){e.push(t)}));var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return R&&(t[Symbol.iterator]=function(){return t}),t}),"entries"in x||(x.entries=function(){var e=[];this.forEach((function(t,a){e.push([a,t])}));var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return R&&(t[Symbol.iterator]=function(){return t}),t}),R&&!(Symbol.iterator in x)&&(x[Symbol.iterator]=x.entries),"sort"in x||(x.sort=function(){for(var e,t,a,r=this.entries(),n=r.next(),l=n.done,o=[],i=Object.create(null);!l;)t=(a=n.value)[0],o.push(t),t in i||(i[t]=[]),i[t].push(a[1]),l=(n=r.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,i[t].shift())});const M=I,D={searchItem:"",searchType:"domain",keywordType:"organic"},F="keywordGap.opportunities",{defaultLocale:N}=i.Constants,j="keyword-gap",$=JSON.parse('{"reportTitle.keywordGap":"Keyword Gap","landing.description":"A tool that helps you compare your keyword profile with your competitors.","buttons.compare":"Compare","howToUse.typeCompetitors.title":"Enter your competitors","panel.addAllCompetitors":"Add up to {NUM} competitors","page.breadcrumbs.keyword_gap":"Keyword Gap","header.database":"Database:","header.currency":"Currency:","header.date":"Date:","header.device":"Device:","header.userManual":"User manual","buttons.cancel":"Cancel","opportunities.title":"Top Opportunities","kgTable.competitorSelector.label":"All keyword details for:","pdf.exportButton":"Export to PDF","feedback.sendFeedback":"Send feedback","searchTypes.domainType":"Root domain","searchTypes.subdomainType":"Subdomain","searchTypes.urlType":"Exact URL","searchTypes.subfolderType":"Subfolder","panel.selectMultipleKwType":"Select keyword type for each domain","keywordTypes.organicPills":"Organic keywords","keywordTypes.adwordsPills":"Paid keywords","keywordTypes.plaPills":"PLA keywords","keywords.missing":"Missing","keywords.weak":"Weak","opportunities.keyword":"Keyword","opportunities.volume":"Volume","overlapChart.caption":"Keyword Overlap","":""}'),q=JSON.parse('{"reportTitle.keywordGap":"关键词差异","landing.description":"有助于比较您与竞争对手的关键词整体情况的工具。","buttons.compare":"比较","howToUse.typeCompetitors.title":"输入您的竞争对手","panel.addAllCompetitors":"添加多达 {NUM} 个竞争对手","page.breadcrumbs.keyword_gap":"关键词差异","header.database":"数据库：","header.currency":"货币：","header.date":"日期：","header.device":"设备：","header.userManual":"用户手册","buttons.cancel":"取消","opportunities.title":"最佳机会","kgTable.competitorSelector.label":"所有关键词详细信息：","pdf.exportButton":"导出成 PDF","feedback.sendFeedback":"发送反馈","searchTypes.domainType":"根域名","searchTypes.subdomainType":"子域名","searchTypes.urlType":"精确 URL","searchTypes.subfolderType":"子文件夹","panel.selectMultipleKwType":"为每个域名选择关键词类型","keywordTypes.organicPills":"自然搜索关键词","keywordTypes.adwordsPills":"付费关键词","keywordTypes.plaPills":"谷歌购物广告关键词","keywords.missing":"缺失","keywords.weak":"弱","opportunities.keyword":"关键词","opportunities.volume":"搜索量","overlapChart.caption":"关键词重叠","":""}'),U=JSON.parse('{"reportTitle.keywordGap":"Keyword-Gap","landing.description":"Dieses Tool ermöglicht Ihnen umfassende Vergleiche zwischen Ihren Keywords und den Keywords Ihrer Mitbewerber.","buttons.compare":"Vergleichen","howToUse.typeCompetitors.title":"Mitbewerber eingeben","panel.addAllCompetitors":"Bis zu {NUM} Mitbewerber hinzufügen","page.breadcrumbs.keyword_gap":"Keyword-Gap","header.database":"Datenbank:","header.currency":"Währung:","header.date":"Datum:","header.device":"Gerät:","header.userManual":"Anleitung für Benutzer","buttons.cancel":"Abbrechen","opportunities.title":"Top-Chancen","kgTable.competitorSelector.label":"Alle Keyword-Details für:","pdf.exportButton":"Export als PDF","feedback.sendFeedback":"Feedback senden","searchTypes.domainType":"Root-Domain","searchTypes.subdomainType":"Subdomain","searchTypes.urlType":"Exakte URL","searchTypes.subfolderType":"Unterordner","panel.selectMultipleKwType":"Wählen Sie einen Keyword-Typ pro Domain","keywordTypes.organicPills":"Organische Keywords","keywordTypes.adwordsPills":"Bezahlte Keywords","keywordTypes.plaPills":"PLA-Keywords","keywords.missing":"Fehlend","keywords.weak":"Schwach","opportunities.keyword":"Keyword","opportunities.volume":"Suchvolumen","overlapChart.caption":"Keyword-Überschneidung","":""}'),V=JSON.parse('{"reportTitle.keywordGap":"Brecha de palabras clave","landing.description":"Una herramienta que te ayuda a comparar tu perfil de palabras clave con el de tus competidores.","buttons.compare":"Comparar","howToUse.typeCompetitors.title":"Introduce tus competidores","panel.addAllCompetitors":"Añade hasta {NUM} competidores","page.breadcrumbs.keyword_gap":"Brecha de palabras clave","header.database":"Base de datos:","header.currency":"Moneda:","header.date":"Fecha:","header.device":"Dispositivo:","header.userManual":"Manual de usuario","buttons.cancel":"Cancelar","opportunities.title":"Principales oportunidades","kgTable.competitorSelector.label":"Detalles de palabras clave de:","pdf.exportButton":"Exportar a PDF","feedback.sendFeedback":"Enviar opinión","searchTypes.domainType":"Dominio raíz","searchTypes.subdomainType":"Subdominio","searchTypes.urlType":"URL exacta","searchTypes.subfolderType":"Subcarpeta","panel.selectMultipleKwType":"Selecciona el tipo de palabra clave para cada dominio","keywordTypes.organicPills":"Palabras clave orgánicas","keywordTypes.adwordsPills":"Palabras clave de pago","keywordTypes.plaPills":"Palabras clave de PLA","keywords.missing":"Faltantes","keywords.weak":"Débiles","opportunities.keyword":"Palabra clave","opportunities.volume":"Volumen","overlapChart.caption":"Superposición de palabras clave","":""}'),z=JSON.parse('{"reportTitle.keywordGap":"Possibilités de mots clés","landing.description":"Un outil qui vous aide à comparer votre profil de mots clés à celui de vos concurrents.","buttons.compare":"Comparer","howToUse.typeCompetitors.title":"Saisissez vos concurrents","panel.addAllCompetitors":"Ajoutez jusqu\'à {NUM} concurrents","page.breadcrumbs.keyword_gap":"Possibilités de mots clés","header.database":"Base de données :","header.currency":"Devise :","header.date":"Date :","header.device":"Appareil :","header.userManual":"Manuel de l\'utilisateur","buttons.cancel":"Annuler","opportunities.title":"Top opportunités","kgTable.competitorSelector.label":"Détails des mots clés pour :","pdf.exportButton":"Exporter vers PDF","feedback.sendFeedback":"Envoyer des commentaires","searchTypes.domainType":"Domaine racine","searchTypes.subdomainType":"Sous-domaine","searchTypes.urlType":"URL exacte","searchTypes.subfolderType":"Sous-dossier","panel.selectMultipleKwType":"Sélectionnez un type de mot clé pour chaque domaine","keywordTypes.organicPills":"Mots clés organiques","keywordTypes.adwordsPills":"Mots clés payants","keywordTypes.plaPills":"Mots clés PLA","keywords.missing":"Manquants","keywords.weak":"Faibles","opportunities.keyword":"Mot clé","opportunities.volume":"Volume","overlapChart.caption":"Chevauchement des mots clés","":""}'),K=JSON.parse('{"reportTitle.keywordGap":"Gap di keyword","landing.description":"Uno strumento che aiuta a confrontare il tuo profilo di keyword con i tuoi competitor.","buttons.compare":"Confronta","howToUse.typeCompetitors.title":"Inserisci i tuoi competitor","panel.addAllCompetitors":"Aggiungi fino a {NUM} competitor","page.breadcrumbs.keyword_gap":"Gap di keyword","header.database":"Database:","header.currency":"Valuta:","header.date":"Data:","header.device":"Dispositivo:","header.userManual":"Manuale utente","buttons.cancel":"Annulla","opportunities.title":"Migliori opportunità","kgTable.competitorSelector.label":"Tutti i dettagli delle keyword per:","pdf.exportButton":"Esporta in formato PDF","feedback.sendFeedback":"Invia feedback","searchTypes.domainType":"Dominio principale","searchTypes.subdomainType":"Sottodominio","searchTypes.urlType":"URL esatto","searchTypes.subfolderType":"Sottocartella","panel.selectMultipleKwType":"Seleziona tipo di keyword per ogni dominio","keywordTypes.organicPills":"Keyword organiche","keywordTypes.adwordsPills":"Keyword a pagamento","keywordTypes.plaPills":"Keyword PLA","keywords.missing":"Mancanti","keywords.weak":"Deboli","opportunities.keyword":"Keyword","opportunities.volume":"Volume","overlapChart.caption":"Sovrapposizione di keyword","":""}'),B=JSON.parse('{"reportTitle.keywordGap":"Lacunas nas palavras-chave","landing.description":"Uma ferramenta que ajuda você a comparar seu perfil de palavras-chave com seus concorrentes.","buttons.compare":"Comparar","howToUse.typeCompetitors.title":"Digite os concorrentes","panel.addAllCompetitors":"Acrescente até {NUM} concorrentes","page.breadcrumbs.keyword_gap":"Lacunas nas palavras-chave","header.database":"Banco de dados:","header.currency":"Moeda:","header.date":"Data:","header.device":"Dispositivo:","header.userManual":"Manual do usuário","buttons.cancel":"Cancelar","opportunities.title":"Principais oportunidades","kgTable.competitorSelector.label":"Detalhes das palavras-chave de:","pdf.exportButton":"Exportar para PDF","feedback.sendFeedback":"Enviar comentários","searchTypes.domainType":"Domínio raiz","searchTypes.subdomainType":"Subdomínio","searchTypes.urlType":"URL exata","searchTypes.subfolderType":"Subpasta","panel.selectMultipleKwType":"Selecione o tipo de palavra-chave para cada domínio","keywordTypes.organicPills":"Palavras-chave orgânicas","keywordTypes.adwordsPills":"Palavras-chave pagas","keywordTypes.plaPills":"Palavras-chave de PLA","keywords.missing":"Ausentes","keywords.weak":"Fracas","opportunities.keyword":"Palavra-chave","opportunities.volume":"Volume","overlapChart.caption":"Sobreposição de palavras-chave","":""}'),J=JSON.parse('{"reportTitle.keywordGap":"キーワード比較","landing.description":"キーワードプロフィールを競合他社と比較するためのツールです。","buttons.compare":"比較","howToUse.typeCompetitors.title":"競合他社を入力","panel.addAllCompetitors":"競合他社を{NUM}社まで追加","page.breadcrumbs.keyword_gap":"キーワード比較","header.database":"データベース：","header.currency":"通貨：","header.date":"日付：","header.device":"デバイス：","header.userManual":"ユーザーマニュアル","buttons.cancel":"取り消す","opportunities.title":"絶好の機会","kgTable.competitorSelector.label":"すべてのキーワード詳細：","pdf.exportButton":"PDFにエクスポート","feedback.sendFeedback":"フィードバックを送信","searchTypes.domainType":"ルートドメイン","searchTypes.subdomainType":"サブドメイン","searchTypes.urlType":"正確なURL","searchTypes.subfolderType":"サブフォルダ","panel.selectMultipleKwType":"各ドメインにキーワードタイプを選択","keywordTypes.organicPills":"オーガニック検索キーワード","keywordTypes.adwordsPills":"検索連動型広告キーワード","keywordTypes.plaPills":"PLAキーワード","keywords.missing":"欠けている","keywords.weak":"弱い","opportunities.keyword":"キーワード","opportunities.volume":"ボリューム","overlapChart.caption":"キーワードの重複","":""}'),W=JSON.parse('{"reportTitle.keywordGap":"키워드 갭","landing.description":"나의 키워드 프로필과 경쟁자의 키워드 프로필을 분석할 수 있는 도구입니다.","buttons.compare":"비교","howToUse.typeCompetitors.title":"경쟁자 입력","panel.addAllCompetitors":"최대 {NUM}개의 경쟁자 추가","page.breadcrumbs.keyword_gap":"키워드 갭","header.database":"데이터베이스:","header.currency":"통화:","header.date":"날짜:","header.device":"기기:","header.userManual":"사용자 매뉴얼","buttons.cancel":"취소","opportunities.title":"상위 기회","kgTable.competitorSelector.label":"키워드 상세정보:","pdf.exportButton":"PDF로 내보내기","feedback.sendFeedback":"피드백 보내기","searchTypes.domainType":"루트 도메인","searchTypes.subdomainType":"서브도메인","searchTypes.urlType":"정확한 URL","searchTypes.subfolderType":"하위 폴더","panel.selectMultipleKwType":"도메인별 키워드 유형 선택하기","keywordTypes.organicPills":"자연 키워드","keywordTypes.adwordsPills":"유료 키워드","keywordTypes.plaPills":"PLA 키워드","keywords.missing":"누락","keywords.weak":"약함","opportunities.keyword":"키워드","opportunities.volume":"검색량","overlapChart.caption":"키워드 중복","":""}'),G=JSON.parse('{"reportTitle.keywordGap":"Keyword Gap","landing.description":"Một công cụ giúp bạn so sánh hồ sơ từ khóa của mình với đối thủ cạnh tranh.","buttons.compare":"So sánh","howToUse.typeCompetitors.title":"Nhập các đối thủ cạnh tranh","panel.addAllCompetitors":"Thêm tối đa {NUM} đối thủ","page.breadcrumbs.keyword_gap":"Keyword Gap","header.database":"Cơ sở dữ liệu:","header.currency":"Đơn vị tiền tệ:","header.date":"Ngày:","header.device":"Thiết bị:","header.userManual":"Hướng dẫn sử dụng","buttons.cancel":"Hủy","opportunities.title":"Tiềm năng hàng đầu","kgTable.competitorSelector.label":"Tất cả các chi tiết từ khóa cho:","pdf.exportButton":"Xuất file PDF","feedback.sendFeedback":"Gửi góp ý","searchTypes.domainType":"Domain gốc","searchTypes.subdomainType":"Domain phụ","searchTypes.urlType":"URL chính xác","searchTypes.subfolderType":"Thư mục con","panel.selectMultipleKwType":"Chọn loại từ khóa cho mỗi domain","keywordTypes.organicPills":"Từ khóa tự nhiên","keywordTypes.adwordsPills":"Từ khóa trả phí","keywordTypes.plaPills":"Từ khóa PLA","keywords.missing":"Thiếu","keywords.weak":"Yếu","opportunities.keyword":"Từ khóa","opportunities.volume":"Số lượng","overlapChart.caption":"Trùng từ khóa","":""}'),Y=JSON.parse('{"reportTitle.keywordGap":"Keyword Gap","landing.description":"Rakiplerinizin anahtar kelimeleri ile anahtar kelimenizin tam analizini yapmanızı sağlayan bir araç.","buttons.compare":"Karşılaştır","howToUse.typeCompetitors.title":"Rakiplerinizi girin","panel.addAllCompetitors":"{NUM} Rakibe kadar ekleyin","page.breadcrumbs.keyword_gap":"Keyword Gap","header.database":"Veri tabanı:","header.currency":"Para Birimi:","header.date":"Tarih:","header.device":"Cihaz:","header.userManual":"Kullanım kılavuzu","buttons.cancel":"İptal Et","opportunities.title":"En iyi Fırsatlar","kgTable.competitorSelector.label":"Şunun için tüm anahtar kelime detayları:","pdf.exportButton":"PDF\'ye aktar","feedback.sendFeedback":"Geri bildirim gönder","searchTypes.domainType":"Kök alan adı","searchTypes.subdomainType":"Alt Alan Adı","searchTypes.urlType":"Tam URL","searchTypes.subfolderType":"Alt klasör","panel.selectMultipleKwType":"Her alan adı için anahtar kelime türünü seçin","keywordTypes.organicPills":"Organik anahtar kelimeler","keywordTypes.adwordsPills":"Ücretli anahtar kelimeler","keywordTypes.plaPills":"ÜLR anahtar kelimeleri","keywords.missing":"Eksik","keywords.weak":"Zayıf","opportunities.keyword":"Anahtar Kelime","opportunities.volume":"Hacim","overlapChart.caption":"Anahtar Kelime Çakışması","":""}'),H=JSON.parse('{"reportTitle.keywordGap":"Luka słów kluczowych","landing.description":"Narzędzie pomagające porównać własny profil słów kluczowych z konkurentami.","buttons.compare":"Porównaj","howToUse.typeCompetitors.title":"Wprowadź swoich konkurentów","panel.addAllCompetitors":"Dodaj maksymalnie {NUM} konkurentów","page.breadcrumbs.keyword_gap":"Luka słów kluczowych","header.database":"Baza danych:","header.currency":"Waluta:","header.date":"Data:","header.device":"Urządzenie:","header.userManual":"Instrukcja obsługi","buttons.cancel":"Anuluj","opportunities.title":"Największe możliwości","kgTable.competitorSelector.label":"Szczegóły wszystkich słów kluczowych dla:","pdf.exportButton":"Eksportuj do pliku PDF","feedback.sendFeedback":"Wyślij opinię","searchTypes.domainType":"Domena główna","searchTypes.subdomainType":"Poddomena","searchTypes.urlType":"Dokładny adres URL","searchTypes.subfolderType":"Podfolder","panel.selectMultipleKwType":"Wybierz typ słowa kluczowego dla każdej domeny","keywordTypes.organicPills":"Organiczne słowa kluczowe","keywordTypes.adwordsPills":"Płatne słowa kluczowe","keywordTypes.plaPills":"Słowa kluczowe PLA","keywords.missing":"Brakujące","keywords.weak":"Słabe","opportunities.keyword":"Słowo kluczowe","opportunities.volume":"Wolumen","overlapChart.caption":"Nakładanie się słów kluczowych","":""}'),Q=JSON.parse('{"reportTitle.keywordGap":"Keyword Gap","landing.description":"Ett verktyg som hjälper dig att jämföra din nyckelordsprofil med dina konkurrenter.","buttons.compare":"Jämför","howToUse.typeCompetitors.title":"Ange dina konkurrenter","panel.addAllCompetitors":"Lägg till upp till {NUM} konkurrenter","page.breadcrumbs.keyword_gap":"Keyword Gap","header.database":"Databas:","header.currency":"Valuta:","header.date":"Datum:","header.device":"Enhet:","header.userManual":"Användarmanual","buttons.cancel":"Avbryt","opportunities.title":"Främsta möjligheter","kgTable.competitorSelector.label":"Alla nyckelordsdetaljer för:","pdf.exportButton":"Exportera till PDF","feedback.sendFeedback":"Skicka feedback","searchTypes.domainType":"Rotdomän","searchTypes.subdomainType":"Underdomän","searchTypes.urlType":"Exakt URL","searchTypes.subfolderType":"Undermapp","panel.selectMultipleKwType":"Välj nyckelordstyp för varje domän","keywordTypes.organicPills":"Organiska nyckelord","keywordTypes.adwordsPills":"Betalda nyckelord","keywordTypes.plaPills":"PLA-nyckelord","keywords.missing":"Saknade","keywords.weak":"Svaga","opportunities.keyword":"Nyckelord","opportunities.volume":"Volym","overlapChart.caption":"Överlappning av nyckelord","":""}'),Z=JSON.parse('{"reportTitle.keywordGap":"Keyword Gap","landing.description":"Een tool waarmee je jouw zoekwoordprofiel kunt vergelijken met dat van je concurrenten.","buttons.compare":"Vergelijken","howToUse.typeCompetitors.title":"Voer je concurrenten in","panel.addAllCompetitors":"Voeg tot {NUM} concurrenten toe","page.breadcrumbs.keyword_gap":"Keyword Gap","header.database":"Database:","header.currency":"Valuta:","header.date":"Datum:","header.device":"Apparaat:","header.userManual":"Gebruiksaanwijzing","buttons.cancel":"Annuleren","opportunities.title":"Topkansen","kgTable.competitorSelector.label":"Alle zoekwoorddetails voor:","pdf.exportButton":"Exporteren naar PDF","feedback.sendFeedback":"Feedback sturen","searchTypes.domainType":"Rootdomein","searchTypes.subdomainType":"Subdomein","searchTypes.urlType":"Exacte URL","searchTypes.subfolderType":"Submap","panel.selectMultipleKwType":"Selecteer een zoekwoordtype voor elk domein","keywordTypes.organicPills":"Organische zoekwoorden","keywordTypes.adwordsPills":"Betaalde zoekwoorden","keywordTypes.plaPills":"PLA-zoekwoorden","keywords.missing":"Ontbrekend","keywords.weak":"Zwak","opportunities.keyword":"Zoekwoorden","opportunities.volume":"Volume","overlapChart.caption":"Zoekwoordoverlapping","":""}'),X=new Set,ee=new M(window.location.search);let te=P.A?.locale||N;const ae=ee.get("test_lang");["en","zh","es","de","fr","it","pt","ja","ko","vi","tr","pl","sv","nl"].includes(te)||(te=N),ae&&X.has(ae)&&(te=ae);const re={en:$,zh:q,es:V,de:U,fr:z,it:K,pt:B,ja:J,ko:W,vi:G,tr:Y,pl:H,sv:Q,nl:Z},ne=Reflect.has(re,te)?te:N,le=ne===N?re[ne]:{...re[N],...re[ne]},oe=({children:e})=>{const t=(e=>{const[t,r]=(0,n.useState)(le),{setLoading:l}=(0,L.useTextSmoothLoading)();return(0,n.useEffect)((()=>{var t;Promise.all((t=e,[()=>a(20006)(`./${t}/translation.json`),()=>a(98981)(`./${t}/countries.json`)]).map((e=>e()))).then((([e,t])=>{r({...le,...e.default,...t.default}),l(!1)}))}),[r,l,e]),t})(ne),r=(0,O.useIntlWithMessages)(ne,t);return n.createElement(_.Kq,{value:r},e)},ie=({children:e})=>n.createElement(L.TextSmoothLoadingProvider,null,n.createElement(oe,null,e));oe.propTypes={children:v().node.isRequired},ie.propTypes={children:v().node.isRequired};const se=ie;var ce=a(38267),de=a(65254),pe=a(6442),ue=a(29555),me=a.n(ue),ye=a(41486);const ge=["report","landing"],he={report:"Report",landing:"Landing page"},be=n.createContext({pageType:ge[0],gaAction:he[ge[0]]}),fe=({pageType:e="report",children:t})=>{const a=(0,n.useMemo)((()=>({pageType:e,gaAction:he[e]})),[e]);return n.createElement(be.Provider,{value:a},t)};fe.propTypes={children:v().element.isRequired,pageType:v().oneOf(["landing","report"])};const Ee=fe;var ke=a(78270);const ve=(0,ke.VP)("requestDatabasesConfig"),we=(0,ke.VP)("getDbsSuccess",(e=>({data:e}))),Te=(0,ke.VP)("getCurrenciesSuccess",((e,t,a)=>({data:e,date:a?"live":t}))),Ae=(0,ke.VP)("getTimepointsSuccess",((e,t,a,r)=>({data:e,db:t,device:a,dateType:r}))),Ce=(0,ke.VP)("reloadAll"),Se=(0,ke.VP)("connectDatabase",(e=>({db:e})));var xe=a(49785),Re=a(24016),_e=a.n(Re),Le=a(75564);const Oe=new RegExp(/^\s.*\s?$/,"i"),Pe=e=>e.filter((({searchItem:e})=>e?.length)).length,Ie=(e,t)=>!Oe.test(e)&&!(0,Le.performValidation)(e,t),Me=e=>Pe(e)>0;var De=a(61160),Fe=a.n(De),Ne=a(48379);const je=e=>function(e){const t=new(Fe())(function(e){try{const t=new URL(e);return Boolean(t.protocol.slice(0,-1))}catch(e){return!1}}(e)?e:`//${e}`);return t.hostname=Ne.Ay.toASCII(decodeURIComponent(t.hostname)),t.host=Ne.Ay.toASCII(decodeURIComponent(t.host)),t}(e).hostname;var $e,qe,Ue=a(7053);class Ve{static isSearchbarAvailable(){return Boolean(Ve.api)}static async init(){if(Ve.isSearchbarAvailable())return Ve.api;if(await ze.call(Ve,250),window?.sm2){if(window.sm2?.abTestsLabels.includes("smb_design_on"))return Ve.api=await window.sm2.getSearchbarApi({version:1}),Ke._=!0,Ve.api;if(window.sm2?.navigation)return Ve.api=window.sm2.navigation,Ke._=!1,Ve.api}console.warn("[SB] SM2 not available")}static getSearchItemBySearchType(e,t="domain"){return Ve.isSearchbarAvailable()?"string"==typeof(a=Ve.api.getQueryBySearchType(e,t)||e)?a.replace(/^\./,""):a:e;var a}static getSearchTypeFor(e){return null==e||0===e?.length?Ue.SEARCH_TYPES.domain:Ve.isSearchbarAvailable()&&Ve.api.getAvailableSearchTypeByQuery(e)||Ue.SEARCH_TYPES.domain}static async changeVisibility(){try{Ve.isSearchbarAvailable()||await Ve.init()}catch(e){console.error("[SB] error",e)}finally{Ve.api.changeSearchbarVisibility(Ke._)}}}function ze(e=100){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}$e=Ve,(qe=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(qe="api"))in $e?Object.defineProperty($e,qe,{value:null,enumerable:!0,configurable:!0,writable:!0}):$e[qe]=null;var Ke={_:void 0};const Be=Ve,Je=(0,n.createContext)({}),We=({context:e,children:t})=>n.createElement(Je.Provider,{value:e},t);We.propTypes={context:v().object.isRequired,children:v().node.isRequired};const Ge=()=>(0,n.useContext)(Je),Ye=(0,n.memo)((({competitor:e,index:t})=>{const{setValue:a}=Ge();return((e,t,a=[])=>{const r=(0,n.useRef)(Date.now());(0,n.useEffect)((()=>{const a=setTimeout((()=>{Date.now()-r.current>=t&&(e(),r.current=Date.now())}),t-(Date.now()-r.current));return()=>{clearTimeout(a)}}),[t,e,...a])})((0,n.useCallback)((()=>{const r=Be.getSearchTypeFor(e.searchItem);a(`competitors.${t}.searchType`,r)}),[e.searchItem,a,t]),400,[e.searchItem]),null})),He=()=>{const{control:e}=Ge(),t=(0,xe.FH)({name:"competitors",control:e});return null==t?null:t.map(((e,t)=>n.createElement(Ye,{key:[e,t].join("-"),competitor:e,index:t})))};var Qe=a(64683);const Ze=n.createContext({competitors:[],searchItem:"",setSearchItem:()=>{}}),Xe="user/SET_USER",et=e=>({...e,type:Xe}),tt=(0,ke.VP)("setTrialStatus",(e=>({isTrialAllowed:e}))),at={exportLimit:0,isTrialAllowed:!1,isHistoryAllowed:!1,isPlaAllowed:!1},rt="user",nt=(e=at,{type:t,...a})=>{switch(t){case Xe:return{...e,...a};case tt.getType():return{...e,isTrialAllowed:a.payload.isTrialAllowed};case"user/RESET_USER":return{...at};default:return e}},lt=e=>e.user,ot=e=>lt(e).exportLimit,it=e=>lt(e).isHistoryAllowed,st=e=>lt(e).isTrialAllowed,ct=e=>lt(e).isPlaAllowed,dt=()=>{const e=(0,o.d4)(ot),t=(0,o.d4)(it),a=(0,o.d4)(st),r=(0,o.d4)(ct),{isAdmin:n,isPaid:l,hasProduct:i,productGroup:s,isGuest:c}=P.A;return{hasUserPaid:l,hasUserProduct:i,userRole:s,isGuest:c,exportLimit:e,isHistoryAllowed:t,isTrialAllowed:a,isPlaAllowed:r,isAdmin:n}};var pt=a(39309),ut=a(5445),mt=a(26832),yt=a.n(mt);const gt="guest",{apiKey:ht,productGroup:bt}=P.A,{spectrumUrl:ft,exportUrl:Et}=p(),kt=new(yt())(ft,Et,bt===gt?gt:ht),vt=async({requestId:e,db:t,device:a,searchItem:r})=>{const n={requestId:e,report:ut.REPORT_NAME.meta},l={target:{type:ut.TARGET_TYPE.domain,value:Be.getSearchItemBySearchType(r,ut.TARGET_TYPE.domain)},database:(0,pt.prepareDatabase)(t,a)};return(await kt.fetchData("/Demo/DomainCompetitors",n,l)).domains};var wt=a(9852),Tt=a(35938);const At=()=>{const e=(0,Tt.A)(new Date,1);return(0,wt.A)(new Date(e.valueOf()+60*e.getTimezoneOffset()*1e3),"yyyyMMdd")},Ct=()=>At(),St={Daily:0,Monthly:1,ToString(e){switch(e){case 0:default:return"daily";case 1:return"monthly"}}};var xt=a(82658);(e=>{const t=new Date(e);t.getUTCFullYear(),String(t.getUTCMonth()+1).padStart(2,0),String(t.getUTCDate()).padStart(2,0)})(Ct());const Rt=e=>{return(t=je(e||""),e=>e.replace(t,Ne.Ay.toUnicode(t)))((e||"").replace(/_%26_/g,"&"));var t},_t=e=>{try{return decodeURI(Rt(e||""))}catch(t){return Rt(e||"")}},Lt=e=>e.replace(Ne.Ay.toUnicode(je(e)),je(e)),Ot=e=>Object.keys(e).map((t=>e[t]?`${t}=${e[t]}`:null)).filter(Boolean).join("&"),Pt=()=>{const{competitors:e,searchItem:t,setSearchItem:a}=(0,n.useContext)(Ze);return{competitors:e,searchItem:t,setSearchItem:a}},It=({children:e})=>{const[t,a]=(0,n.useState)(""),r=(0,o.d4)(Qe.Lf),l=(0,o.d4)(Qe.Pf),i=(0,o.d4)(Qe.dW),s=((e,t,a)=>{const[r,l]=(0,n.useState)([]),{isGuest:o}=dt(),i=o();return(0,n.useEffect)((()=>{(async()=>{if(null==e||null==t||null==a||""===a||i)l([]);else try{const r=await vt({db:e,device:t,searchItem:Lt(a)});l(r)}catch(e){console.warn(e),l([])}})()}),[e,t,a,i]),r})(r||i?.db,l||i?.device,t);return n.createElement(Ze.Provider,{value:{competitors:s,searchItem:t,setSearchItem:a}},e)};It.propTypes={children:v().node.isRequired};const Mt=It;var Dt=a(90136);const Ft="landing",Nt=e=>{f({category:"keyword-gap:landing-page",action:"click:database",label:"database:changed",value:`select DB - ${e}`}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.database`,item_label:"click",type:e})},jt=()=>{Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.database`,item_label:"show"})},$t=e=>{var t;f({category:"keyword-gap:landing-page",action:"click:scope",label:"scope:changed",value:(t=e,{domain:1,url:2,subdomain:3,subfolder:4}[t])}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.scope_selector`,item_label:e})},qt=e=>{var t;f({category:"keyword-gap:landing-page",action:"click:keyword-type",label:"keyword-type:changed",value:(t=e,{organic:1,adwords:2,pla:3}[t])}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.keyword_type_selector`,item_label:e})},Ut=e=>{f({category:"keyword-gap:landing-page",action:"click:add-competitors",label:"competitors:added",value:e}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.more_competitors`})},Vt=e=>{var t;f({category:"keyword-gap:landing-page",action:"click:compare",label:"error:showed",value:(t=e,{enterOne:1,enterCompetitor:2,domainErr:3}[t])})},zt=()=>{Dt.A.track(Dt.A.eventName.input,{item_location:`${Ft}.input`,status:"fail"})},Kt=e=>{Dt.A.track(Dt.A.eventName.show,{item_location:`${Ft}.input_error`,item_label:{enterOne:"enter_one",enterCompetitor:"enter_competitor",domainErr:"domain_err"}[e]})},Bt=e=>{Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.domain_delete`,type:`${e}`})},Jt=()=>(0,n.useMemo)((()=>({gaChangeSearchType:$t,gaChangeKeywordType:qt,gaAddCompetitors:Ut,gaValidationError:Vt,gaDBChange:Nt,gaShowDbDropdown:jt,gaInputError:zt,gaShowError:Kt,gaClickDelete:Bt})),[]),Wt=({control:e})=>{const{errors:{competitors:t}}=(0,xe.lN)({control:e,name:"competitors"}),{gaValidationError:a,gaInputError:r}=Jt(),n=t&&t.filter((e=>!!e))?.[0]?.searchItem?.type;return n&&(a(n),r(n)),null};var Gt=a(72719);const{MEDIA_Q:Yt}=i.MediaQ,[Ht,Qt]=(0,Gt.useBreakpointNameFactory)(Yt);var Zt=a(32030),Xt=a(58065),ea=a(69958),ta=a(34587),aa=a(89961);const ra=(e,t,a)=>{const r=t.reduce(((t,a)=>({...t,[a]:`${e}/${a}`})),{}),n=a.reduce(((t,a)=>({...t,[a]:`${e}/${a}`,[`${a}_REQUEST`]:`${e}/${a}_REQUEST`,[`${a}_FAILURE`]:`${e}/${a}_FAILURE`,[`${a}_SUCCESS`]:`${e}/${a}_SUCCESS`})),{});return{...r,...n}};var na=a(67072);const la=ra(na.stateKey,["SET_DB","SET_DOMAIN","SET_DATE","SET_DATE_TYPE","SET_DEVICE","SET_DB_AND_DEVICE","SET_CURRENCY","SET_SCOPE","SET_SCOPE_AND_DOMAIN","SET_SCOPE_AND_DOMAIN_AND_SEARCH_ITEM","SET_SEARCH_ITEM"],[]),oa=(0,ke.VP)("requestSetDb",(e=>({db:e}))),ia=(0,ke.VP)("requestSetDevice",(e=>({device:e}))),sa=(0,ke.VP)("requestSetDate",((e,t,a)=>({date:e,dateType:t,isLive:a}))),ca=((0,ke.VP)("requestSetSearchItem",(e=>({searchItem:e}))),(0,ke.VP)("setDb",(e=>({db:e})))),da=(0,ke.VP)("setDevice",(e=>({device:e}))),pa=(0,ke.VP)("setDate",((e,t,a)=>({date:e,dateType:t,isLive:a}))),ua=(0,ke.VP)("setDateFromString",(e=>({dateString:e}))),ma=(0,ke.VP)("setDBFromString",(e=>({dbString:e}))),ya=(0,ke.VP)("setDeviceFromString",(e=>({deviceString:e}))),ga=(0,ke.VP)("setCurrency",(e=>({currency:e}))),ha=(0,ke.VP)("updateNextReportParams",(e=>({nextParams:e}))),ba=(0,ke.VP)("flashNextPageParams"),fa=(0,ke.VP)("setDefaultDb",(({db:e,isMobile:t})=>({db:e,device:t?aa.W.mobile:aa.W.desktop}))),Ea=(0,ke.VP)("requestSetDefaultDb",(e=>({dbString:e})));var ka=a(1081),va=a(58156),wa=a.n(va),Ta=a(7309),Aa=a.n(Ta);const Ca="Access",Sa="usd",xa=[Sa],Ra=e=>e.data.reportConfig.statusDbs.isLoading,_a=e=>e.data.reportConfig.statusTimepoints.isLoading,La=e=>e.data.reportConfig.statusCurrencies.isLoading,Oa=(0,ka.Mz)([Ra,_a,La],((e,t,a)=>e||t||a)),Pa=(0,ka.Mz)(Oa,(e=>null===e||e)),Ia=(0,ka.Mz)(_a,(e=>null===e||e)),Ma=(0,ka.Mz)(Ra,(e=>null===e||e)),Da=e=>e.data.reportConfig.statusDbs.hasError||e.data.reportConfig.statusTimepoints.hasError||e.data.reportConfig.statusCurrencies.hasError,Fa=(0,ka.Mz)([e=>Oa(e),e=>_a(e),La],((e,t,a)=>e||t||a)),Na=e=>e.data.reportConfig.data.currencies,ja=(0,ka.Mz)([Qe.pp,Qe.VG],((e,t)=>t?"live":e)),$a=["dh","us","uk","de","fr"],qa=({code:e})=>$a.includes(e),Ua=({code:e})=>!$a.includes(e),Va=(e,t)=>$a.indexOf(e.code)-$a.indexOf(t.code),za=(e,t)=>e.code.localeCompare(t.code),Ka=e=>e.data.reportConfig.data.databases,Ba=(0,ka.Mz)(Ka,(e=>{if(!e)return null;let t=((e,t)=>Object.values(e).filter((e=>(0,xt.qF)(e.code)===t)))(e,aa.W.desktop);return t=t.map((e=>{const t=(0,xt.m_)(e.code);return{value:e.code,label:`db.${t}`,code:e.code,country:t,available:e.available,type:e.type}})),[...t.filter(qa).sort(Va),...t.filter(Ua).sort(za)]})),Ja=(0,ka.Mz)(Ba,(e=>e?e.slice(0,3):null)),Wa=(0,ka.Mz)(Ba,(e=>e?e.slice(3):null)),Ga=(0,ka.Mz)([e=>(0,Qe.Lf)(e),e=>(0,Qe.Pf)(e),e=>(e=>wa()(e.data.reportConfig,"data.timepoints"))(e)],((e,t,a)=>{const r=`${e}/${t}`,n=wa()(a,`${r}.daily`)||[],l=wa()(a,`${r}.monthly`)||[];return[...n.map((e=>({date:e,dateType:aa.J5.daily}))),...l.map((e=>({date:e,dateType:aa.J5.monthly})))].sort(((e,t)=>t.date-e.date))})),Ya=(0,ka.Mz)((e=>(0,Qe.Lf)(e)),Ka,((e,t)=>t?Object.keys(t).filter((t=>(0,xt.m_)(t,!1)===e)).map(xt.qF).sort():[])),Ha=(0,ka.Mz)(Ka,((e,t)=>t),((e,t)=>e?Object.keys(e).filter((e=>(0,xt.m_)(e)===t)).map(xt.qF):[])),Qa=(0,ka.Mz)([Qe.Lf,Qe.Pf],((e,t)=>(0,xt.Z0)(e,t))),Za=(0,ka.Mz)([Qa,Ka],((e,t)=>t?.[e])),Xa=((0,ka.Mz)(Ka,((e,t)=>t),(e=>e),((e,t,a)=>wa()(a.data.reportConfig.data.databases,`${t}.currencies`)||[Sa])),e=>{const t=(0,xt.Z0)((0,Qe.Lf)(e),(0,Qe.Pf)(e));return wa()(e.data.reportConfig.data.databases,`${t}.supportedCurrencies`)||xa}),er=(0,ka.Mz)((e=>(0,Qe.Ke)(e)),Xa,((e,t)=>"default"===e?Sa:(e=>{const t=Aa()(e,(e=>e!==Sa));return void 0!==t?t:Sa})(t))),tr=(e,t,a)=>{const r=wa()(Na(e),ja(e),{});return wa()(r,`${t.toUpperCase()}.rate`,1)*a},ar=(0,ka.Mz)([Qe.Lf,Qe.dW,Qe.pp,Qe.Lk,Qe.VG,Qe.Pf],((e,t,a,r,n,l)=>({db:e,defaultDb:t,date:a,dateType:r,isLive:n,device:l}))),rr=(e,t,a)=>wa()(e.data.reportConfig.data,`timepoints.${t}/${a}`,null),nr=(e,t,a)=>wa()(e.data.reportConfig.data,`currencies.${a?"live":t}`,null),lr=(0,ka.Mz)(Ga,(e=>Array.isArray(e)&&e.length>0?e[0]:null)),or=(0,ka.Mz)([Ba],(e=>e.filter((({type:e})=>e===Ca)))),ir=(0,ka.Mz)([or],(e=>e.filter((({available:e})=>e))?.length??0)),sr=(0,ka.Mz)([Za],(e=>e?.type===Ca)),cr=(0,ka.Mz)([Za],(e=>!!e?.available)),dr=(e,t=0)=>{const{formatMessage:a}=(0,pe.A)(),r=e.slice(t).map((e=>({...e,labelLocale:a({id:e.label})}))).sort(((e,t)=>e.labelLocale.localeCompare(t.labelLocale)));return[...e.slice(0,t),...r]};var pr=a(44750),ur=a(99975),mr=a(42443),yr=a.n(mr),gr=a(50974),hr=a.n(gr),br=a(75450),fr=a(54051);const Er=()=>n.createElement(Zt.A,null,n.createElement(fr.A,{size:200,color:"gray60"},"n/a"));var kr=a(67222);const vr=()=>n.createElement(kr.A,{height:8,width:40},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"40",height:"8"}));function wr(){return wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},wr.apply(null,arguments)}const Tr=({topDatabases:e=[],restDatabases:t=[],selectedDatabase:a=null,shortDbTitle:r=!0,loading:l=!1,hasError:o=!1,size:i="m",tagProps:s={},gaAction:c="",onChange:d=()=>{},onVisibleChange:p=()=>{},...u})=>{const{formatMessage:m}=(0,pe.A)(),y=(0,n.useCallback)((e=>{e&&f({action:c,label:"show DB"}),p(e)}),[c,p]),g=(0,n.useCallback)((e=>{f({action:c,label:`select DB - ${e}`})}),[c]);return l?n.createElement(Zt.A,{w:"40px"},n.createElement(vr,null)):o?n.createElement(Er,null):n.createElement(de.A,wr({"aria-label":m({id:"ariaLabel.selectCountry"})},u),n.createElement(yr(),{onChange:d,loading:l,topDatabases:e||[],restDatabases:t||[],selectedDatabase:a,hasError:!1,inline:!1,onVisibleChange:y,selectDbGa:g,showCounters:!1,tag:ur.A,size:i,tagProps:s},a?n.createElement(n.Fragment,null,n.createElement(pr.Ay.Trigger.Addon,null,n.createElement(hr(),{db:a})),n.createElement(pr.Ay.Trigger.Text,null,n.createElement(br.DbTitle,{db:a,short:r}))):null))};Tr.propTypes={topDatabases:v().any,restDatabases:v().any,selectedDatabase:v().any,tagProps:v().any,onChange:v().func,loading:v().bool,hasError:v().bool,gaAction:v().string,size:v().string,shortDbTitle:v().bool,onVisibleChange:v().func};const Ar=Tr;function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Cr.apply(null,arguments)}const Sr=({onChange:e,gaAction:t,databases:a=[],selectedDatabase:r=null,tagProps:l={},size:o="m",shortDbTitle:i=!0,...s})=>{const c=dr(a,4);return n.createElement(Ar,Cr({onChange:e,loading:!1,hasError:!1,topDatabases:c,restDatabases:null,selectedDatabase:r,gaAction:t,size:o,shortDbTitle:i,wMax:240,tagProps:l},s))};Sr.propTypes={databases:v().any,selectedDatabase:v().any,tagProps:v().any,onChange:v().func.isRequired,gaAction:v().string.isRequired,size:v().string,shortDbTitle:v().bool};const xr=(0,n.memo)(Sr);function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rr.apply(null,arguments)}const _r=new M(window.location.search),{db:Lr}=(0,xt.um)(_r.get("db")),Or=({shortDbTitle:e=!0,size:t="m",gaAction:a="",gaDBChange:r=()=>{},w:l="100%",...i})=>{const s=(0,n.useMemo)((()=>({w:l,wMin:"100px"})),[l]),c=(0,o.wA)(),[d,p]=(0,n.useState)(Lr),[u,m]=(0,n.useState)([]),y=(0,o.d4)(Ma),g=(0,o.d4)(Qe.dW),h=(0,o.d4)(Ba),b=(0,n.useCallback)((()=>{const e=Lr||g?.db||xt.nR;p(e),c(ca(e))}),[g?.db,c]),f=(0,n.useCallback)((()=>{var e;y&&0===u.length?m([(e=Lr||g?.db||xt.nR,{value:e,label:`db.${e}`,code:e,country:e})]):h&&m(h)}),[y,u.length,g?.db,h]);return(0,n.useEffect)((()=>{d||b()}),[d,b]),(0,n.useEffect)((()=>{f()}),[f]),n.createElement(xr,Rr({databases:u,selectedDatabase:d,onChange:e=>{r(e),p(e),c(ca(e))},gaAction:a,size:t,shortDbTitle:e,tagProps:s,w:l},i))};Or.propTypes={gaAction:v().string,size:v().string,gaDBChange:v().func,w:v().string,shortDbTitle:v().bool};const Pr=Or;var Ir=a(10070);const{MEDIA_NAMES:Mr}=i.MediaQ,Dr={addButton:{amount:{[Mr.mobile]:1,[Mr.desktop]:3}},row:{controlsLength:{[Mr.mobile]:1,[Mr.desktop]:2},tooltipPlacement:{[Mr.mobile]:"top-start",[Mr.desktop]:"left"}},landingInputs:{isOneColumn:{[Mr.mobile]:!0,[Mr.desktop]:!1}},formButtons:{w:{[Mr.mobile]:"100%",[Mr.desktop]:"auto"}},dbSelector:{w:{[Mr.mobile]:"100%",[Mr.desktop]:"auto"},short:{[Mr.mobile]:!1,[Mr.desktop]:!0}}},Fr=(0,Gt.useMediaValuesFactory)(Dr,Qt,Mr);function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nr.apply(null,arguments)}const jr=({onClick:e,...t})=>{const{formatMessage:a}=(0,pe.A)(),[r]=Fr("addButton.amount");return n.createElement(ea.A,Nr({size:"l",use:"tertiary",onClick:()=>{e(r)},"data-at":`add-competitors-btn add-${r}`,"aria-label":a({id:"ariaLabel.addCompetitors"}),"aria-expanded":"false"},t),n.createElement(ea.A.Addon,{tag:Ir.A}),n.createElement(ea.A.Text,null,1===r?n.createElement(Xt.A,{id:"panel.addCompetitor"}):n.createElement(Xt.A,{id:"panel.addAllCompetitors",values:{NUM:r}})))};jr.propTypes={onClick:v().func.isRequired};const $r=(0,n.memo)(jr),qr=(0,ce.default)(Zt.A)`
  justify-content: space-between;
  margin: 0 auto;
  display: ${({isOneColumn:e})=>e?"block":"flex"};
`,Ur=(0,ce.default)(Zt.A)`
  display: ${({isOneColumn:e})=>e?"block":"flex"};
  margin-left: auto;
`,Vr=({onCompareClick:e,onAppendFields:t,canAddMoreFields:a=!1})=>{const[[r,l,o,i]]=Fr(["landingInputs.isOneColumn","formButtons.w","dbSelector.short","dbSelector.w"]),{formatMessage:s}=(0,pe.A)(),{gaDBChange:c,gaShowDbDropdown:d}=Jt(),p=(0,n.useCallback)((e=>{e&&d()}),[d]);return n.createElement(qr,{wMax:"732px",mt:r?3:8,isOneColumn:r},a&&n.createElement($r,{onClick:t,w:l,"data-path":`${Ft}.more_competitors`}),r&&n.createElement(ta.A,{my:6}),n.createElement(Ur,{isOneColumn:r},n.createElement(de.A,{"data-at":"select-db",w:l,"data-path":`${Ft}.database`},n.createElement(Pr,{size:"l",shortDbTitle:o,wMax:"100%",w:i,gaAction:"Landing",gaDBChange:c,onVisibleChange:p})),n.createElement(ea.A,{theme:"success",use:"primary",onClick:e,ml:r?0:3,mt:r?3:0,"data-at":"compare-btn","aria-label":s({id:"ariaLabel.compareDomains"}),size:"l",w:l,"data-path":`${Ft}.compare`},n.createElement(Xt.A,{id:"buttons.compare"}))))};Vr.propTypes={onCompareClick:v().func.isRequired,onAppendFields:v().func.isRequired,canAddMoreFields:v().bool};const zr=n.memo(Vr),Kr=(0,n.createContext)(),Br=({index:e,children:t})=>n.createElement(Kr.Provider,{value:{index:e}},t);Br.propTypes={index:v().oneOf([0,1,2,3,4]).isRequired,children:v().node.isRequired};const Jr=()=>{const{index:e}=(0,n.useContext)(Kr);return e};var Wr=a(91731),Gr=a(6247);const Yr=(0,n.createContext)({}),Hr=({context:e,children:t})=>n.createElement(Yr.Provider,{value:e},t);Hr.propTypes={context:v().object.isRequired,children:v().node.isRequired};var Qr=a(5672);const Zr=({index:e,onClear:t})=>{const{formatMessage:a}=(0,pe.A)(),{gaClickDelete:r}=Jt(),l=()=>{r(e+1),t()};return n.createElement(Wr.A.Addon,{tag:Qr.A,interactive:!0,onClick:l,onKeyUp:e=>{e.nativeEvent.stopImmediatePropagation(),"Enter"!==e.key&&"Space"!==e.key||l()},"data-at":"clear-competitor","aria-label":a({id:"ariaLabel.clearInput"}),"data-path":`${Ft}.domain_delete`})};Zr.propTypes={index:v().number.isRequired,onClear:v().func.isRequired};const Xr=Zr;var en=a(46522);const tn=()=>n.createElement(en.A,{color:"blue-500",size:"m",theme:"primary","data-at":"tag-you"},n.createElement(en.A.Text,null,n.createElement(fr.A,{color:"blue-500"},n.createElement(Xt.A,{id:"panel.you"}))));function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},an.apply(null,arguments)}const rn=(0,ce.default)(Zt.A)`
  display: inline-block;
  border-radius: 50%;
`,nn=({color:e="green",radius:t=10,inactive:a=!1,...r})=>n.createElement(rn,an({style:{background:a?"#E0E1E9":e,width:`${t}px`,height:`${t}px`}},r));nn.propTypes={color:v().string,radius:v().number,inactive:v().bool};const ln=n.memo(nn),on={0:"#2BB3FF",1:"#59DDAA",2:"#FF8C43",3:"#AB6CFE",4:"#FDC23C"},sn=e=>void 0!==on[e]?on[e]:on[0],cn=({index:e=0,inactive:t=!1})=>0===e?n.createElement(tn,null):n.createElement(ln,{radius:12,inactive:t,color:sn(e),"data-at":`competitor-circle comp-circle-${t?"inactive":e}`});cn.propTypes={inactive:v().bool,index:v().oneOf([0,1,2,3,4])};const dn=cn,{useFocusOnInput:pn}=_e(),un=(0,ce.default)(Wr.A)`
  &:focus-within {
    position: relative;
    z-index: 100;
  }
`,mn=({inputRef:e,value:t="",index:a=0,errorType:r=null,size:l="l",placement:o="left",onChange:i=()=>{},onSubmit:s=()=>{},onClear:c=()=>{},onBlur:d=()=>{},onFocus:p=()=>{}})=>{const{gaShowError:u}=Jt(),[[m]]=Fr(["row.controlsLength"]),{formatMessage:y}=(0,pe.A)(),g=(0,n.useRef)(),[h,b,f]=(e=>{const[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{e.length>0&&a(!0)}),[e]),[t,(0,n.useCallback)((()=>{a(!0)}),[]),(0,n.useCallback)((()=>{0===e.length&&a(!1)}),[e])]})(t),[E,k]=(0,n.useState)(!1),v=(0,n.useId)(),{setEntered:w=()=>{},setDisabled:T=()=>{},selected:A,resetSelectedStatus:C=()=>{}}=(0,n.useContext)(Yr),[S,x]=(0,n.useState)(null!=r);var R,_;R=()=>{x(null!=r)},_=[r,x],(0,n.useEffect)((()=>{const e=setTimeout((()=>R()),200);return()=>clearTimeout(e)}),[..._||[],200,R]);const L=S&&r;(0,n.useEffect)((()=>{L&&u(r)}),[L,r,u]),((e,t)=>{pn(0===e?t:null)})(a,g),(0,n.useEffect)((()=>{0===t.length&&w(!1)}),[t,w]),(0,n.useEffect)((()=>{e(g.current)}),[e,g]);const O=(0,n.useMemo)((()=>{try{return _t(t)}catch{return t}}),[t]);return n.createElement(Gr.Ay,{theme:"warning",visible:E&&L,inline:!1,placement:o},n.createElement(Gr.Ay.Trigger,{w:"100%","data-path":`${Ft}.input_error`},n.createElement(un,{neighborLocation:2===m&&"right",size:l,state:L?"invalid":"normal"},n.createElement(Wr.A.Addon,null,n.createElement(dn,{inactive:!h,index:a})),n.createElement(Wr.A.Value,{onChange:i,onFocus:()=>{k(!0),C(),b(),p()},onBlur:()=>{k(!1),f(),t.length>0&&setTimeout((()=>{w(!0)}),300),setTimeout((()=>{d()}),300)},onKeyUp:e=>{e.nativeEvent.stopImmediatePropagation(),"Enter"===e.key&&(A?C():(s(),T(!0),setTimeout((()=>T(!1)),100)))},value:O,ref:g,placeholder:y({id:"panel.addDomain"}),"data-at":"competitor-value",autoComplete:0===a?"on":"off",required:0===a||1===a,"aria-label":y({id:"ariaLabel.enterUrl"}),"aria-describedby":L?v:void 0,"data-path":`${Ft}.input`}),t.length>0&&n.createElement(Xr,{index:a,onClear:()=>{w(!1),c()}}))),n.createElement(Gr.Ay.Popper,{id:v,"aria-label":r?y({id:`form.errors.${r}`}):""},r&&n.createElement("span",null,n.createElement(Xt.A,{id:`form.errors.${r}`}))))};mn.propTypes={value:v().string,placement:v().string,onChange:v().func,onSubmit:v().func,onClear:v().func,onBlur:v().func,onFocus:v().func,index:v().oneOf([0,1,2,3,4]),errorType:v().oneOfType([v().string,v().bool]),size:v().string,inputRef:v().any.isRequired};const yn=n.memo(mn),gn=({tldList:e,onFocusChange:t=()=>{}})=>{const a=Jr(),{clearErrors:r,control:l,onSubmit:o,setFocus:i}=Ge(),[s]=Fr("row.tooltipPlacement"),{field:{onChange:c,onBlur:d,value:p,ref:u},fieldState:{error:m}}=(0,xe.as)({name:`competitors.${a}.searchItem`,defaultValue:"",rules:{validate:{domainErr:t=>((e,t)=>{if(0===e.length)return!0;const a=Ie(e,t);return a&&Dt.A.track(Dt.A.eventName.input,{item_location:`${Ft}.input`,status:"success"}),a})(t,e)}},control:l}),y=(e=>{const{setSearchItem:t}=Pt(),a=(0,n.useCallback)((a=>{0===e&&t(Be.getSearchItemBySearchType(a))}),[e,t]);return a})(a),g=(0,n.useCallback)((e=>{c(e),m&&r(`competitors.${a}.searchItem`)}),[c,r,m,a]),h=(0,n.useCallback)((()=>{(e=>{f({category:"keyword-gap:landing-page",action:"click:delete",label:"scope:deleted",value:e})})(a),c(""),i(`competitors.${a}.searchItem`),r(`competitors.${a}.searchItem`)}),[c,a,r,i]),b=(0,n.useCallback)((()=>{y(p),d(),t(!1)}),[p,y,d,t]),E=(0,n.useCallback)((()=>t(!0)),[t]);return n.createElement(yn,{index:a,value:p,onChange:g,onBlur:b,onClear:h,onSubmit:o,errorType:m?.type,inputRef:u,placement:s,onFocus:E})};gn.propTypes={onFocusChange:v().func,tldList:v().instanceOf(Set).isRequired};const hn=gn,bn=(0,ce.default)(pr.Ay.Menu)`
  font-family: Inter, sans-serif;
`,fn=ye.vM.map((e=>({value:e,children:e}))),En=({value:e=ye.vM[0],defaultValue:t=ye.vM[0],index:a=0,size:r="l",onChange:l=()=>{},"data-path":o=""})=>{const{formatMessage:i}=(0,pe.A)(),[[s]]=Fr(["row.controlsLength"]),c=(0,n.useCallback)((e=>{l(e,a)}),[l,a]);return n.createElement(pr.Ay,{size:r,onChange:c,value:e,"data-at":"search-type-select"},n.createElement(pr.Ay.Trigger,{tag:ur.A,"data-at":"search-type-trigger",neighborLocation:2===s&&"left","aria-label":i({id:"ariaLabel.selectUrlType"}),"data-path":o},n.createElement(pr.Ay.Trigger.Text,null,n.createElement(Xt.A,{id:`searchTypes.${e.length?e:t}Type`}))),n.createElement(bn,{"data-at":"search-type-dd"},fn.map((({value:e})=>n.createElement(pr.Ay.Option,{value:e,key:e,direction:"row",flexWrap:!0,"data-at":`option-${e}`},n.createElement(Xt.A,{id:`searchTypes.${e}Type`}))))))};En.propTypes={value:v().oneOf([...ye.vM]),defaultValue:v().string,onChange:v().func,index:v().oneOf([0,1,2,3,4]),size:v().string,"data-path":v().string};const kn=n.memo(En),vn=()=>{const e=Jr(),{control:t}=Ge(),{gaChangeSearchType:a}=Jt(),{field:{onChange:r,onBlur:l,value:o}}=(0,xe.as)({name:`competitors.${e}.searchType`,defaultValue:"",control:t}),i=(0,n.useCallback)((e=>{a(e),r(e)}),[a,r]);return n.createElement(kn,{index:e,value:o,onChange:i,onBlur:l,"data-path":`${Ft}.scope_selector`})},wn=new Map([["pla",e=>!e.isPlaAllowed]]);function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tn.apply(null,arguments)}const An=(0,ce.default)(pr.Ay.Menu)`
  font-family: Inter, sans-serif;
`,Cn=ye.CT.map((e=>({value:e,label:e}))),Sn=({value:e=ye.CT[0],defaultValue:t=ye.CT[0],isFeatureLimited:a=!1,size:r="l",onChange:l=()=>{},openModal:o=()=>{},"data-path":i="",...s})=>{const{formatMessage:c}=(0,pe.A)(),d=(()=>{const e=dt();return(0,n.useCallback)((t=>{let a=!1;return wn.has(t)&&(a=wn.get(t)(e)),a}),[e])})(),p=(0,n.useCallback)((e=>{a&&d(e)?o():l(e)}),[a,d,o,l]);return n.createElement(pr.Ay,{placeholder:c({id:`keywordTypes.${t}Keywords`}),onChange:p,value:e,size:r,tag:ur.A,"data-at":"keyword-type-selector"},n.createElement(pr.Ay.Trigger,Tn({"aria-label":c({id:"ariaLabel.selectScope"}),"data-at":"keyword-type-selector-trigger","data-path":i},s),n.createElement(Xt.A,{id:`keywordTypes.${e}Keywords`})),n.createElement(An,{"data-at":"keyword-type-selector-dd"},Cn.map((({value:e})=>n.createElement(pr.Ay.Option,{value:e,key:e,direction:"row","data-at":`option-${e}`,flexWrap:!0},n.createElement(Xt.A,{id:`keywordTypes.${e}Keywords`}))))))};Sn.propTypes={value:v().oneOf([...ye.CT]),defaultValue:v().string,onChange:v().func,isFeatureLimited:v().bool,openModal:v().func,size:v().string,"data-path":v().string};const xn=n.memo(Sn);function Rn(){return Rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rn.apply(null,arguments)}const _n=({...e})=>{const t=Jr(),{control:a}=Ge(),{gaChangeKeywordType:r}=Jt(),{field:{onChange:l,onBlur:o,value:i}}=(0,xe.as)({name:`competitors.${t}.keywordType`,defaultValue:"",control:a}),s=(0,n.useCallback)((e=>{r(e),l(e)}),[r,l]);return n.createElement(xn,Rn({index:t,value:i,onChange:s,onBlur:o,"data-path":`${Ft}.keyword_type_selector`},e))};var Ln=a(91733);const On=({children:e,competitors:t=[],disable:a=!1,isVisible:r=!1,onChange:l=()=>{}})=>{const[o,i]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!a),[d,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>c(d)),[d]);const u=(0,n.useCallback)((e=>()=>{i(!0),l(e)}),[i,l]),m=(0,n.useCallback)((()=>{i(!1)}),[i]),y=(0,n.useMemo)((()=>({selected:o,resetSelectedStatus:m,setEntered:p,setDisabled:c})),[o,m,p,c]);return n.createElement(Ln.A,{value:null},n.createElement(Ln.A.Trigger,{w:"100%",tag:"div"},n.createElement(Hr,{context:y},e)),!s&&!a&&n.createElement(Ln.A.Menu,{visible:r,"data-at":"competitors-list-suggest-dd"},(({highlightedIndex:e})=>n.createElement(n.Fragment,null,n.createElement(Ln.A.ItemTitle,null,n.createElement(Xt.A,{id:"targets.suggestCompetitors.header"})),t.map(((t,a)=>n.createElement(Ln.A.Item,{value:t,key:t,onClick:u(t),direction:"row",flexWrap:!0,"data-at":"option","aria-label":_t(t),"aria-selected":a===e},_t(t))))))))};On.propTypes={children:v().element.isRequired,competitors:v().array,onChange:v().func,disable:v().bool,isVisible:v().bool};const Pn=On,In=({children:e,isVisible:t=!1})=>{const a=Jr(),{competitors:r}=Pt(),{setValue:l,control:o,clearErrors:i}=Ge(),s=(0,xe.FH)({name:"competitors",control:o}),c=(0,n.useMemo)((()=>s.map((({searchItem:e})=>e.toLowerCase()))),[s]),d=(0,n.useMemo)((()=>{const{searchItem:e}=s[a];return r.filter((t=>t.startsWith(e))).filter((e=>!c.includes(e.toLowerCase()))).slice(0,5)}),[r,s,c,a]),p=(0,n.useCallback)((e=>{l(`competitors.${a}.searchItem`,e),i(`competitors.${a}.searchItem`)}),[l,a,i]);return n.createElement(Pn,{competitors:d,onChange:p,disable:0===a||0===d.length,index:a,isVisible:t},e)};In.propTypes={isVisible:v().bool,children:v().oneOfType([v().element,v().array]).isRequired};const Mn=In;function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dn.apply(null,arguments)}const Fn=(0,ce.default)(Zt.A)`
  display: contents;
  margin-top: 24px;
`,Nn=(0,ce.default)(de.A)`
  flex-grow: 1;
`,jn=({index:e,tldList:t,...a})=>{const{formatMessage:r}=(0,pe.A)(),[[l]]=Fr(["landingInputs.isOneColumn"]),[o,i]=(0,n.useState)(!1),s=(0,n.useCallback)((e=>i(e)),[]);return n.createElement(Br,{index:e},n.createElement(Fn,Dn({"data-at":"target-input",role:"group","aria-label":r({id:"ariaLabel.targets."+(0===e?"yourDomain":"competitor")},{NUM:e})},a),n.createElement(Nn,null,n.createElement(Mn,{isVisible:o},n.createElement(hn,{onFocusChange:s,tldList:t}))),n.createElement(vn,null),n.createElement(_n,{ml:l?0:3,mb:l?3:0})))};jn.propTypes={index:v().oneOf([0,1,2,3,4]).isRequired,tldList:v().instanceOf(Set).isRequired};const $n=jn,qn=(0,ce.default)(Zt.A)`
  display: grid;
  grid-template-columns: ${({isOneColumn:e,wSearchType:t="142px",wKeywordType:a="196px"})=>e?"1fr":`auto ${t} ${a}`};
  row-gap: ${({isOneColumn:e})=>e?"12px":"16px"};
  margin: 0 auto;
  max-width: 732px;
`,Un=({children:e})=>{const[t]=Fr("landingInputs.isOneColumn");return n.createElement(qn,{isOneColumn:t},e)};Un.propTypes={children:v().node.isRequired};const Vn=Un,zn=({onSubmit:e,fields:t,tldList:a})=>{const{formatMessage:r}=(0,pe.A)(),l=(()=>{const{setFocus:e}=Ge(),t=(()=>{const e=(0,n.useRef)(0),{control:t}=Ge(),a=(0,xe.FH)({name:"competitors",control:t}),r=a.map((({searchItem:e})=>e)).join("");return(0,n.useEffect)((()=>{let t;for(t=0;t<a.length;t++){const{searchItem:e}=a[t];if(""===e)break}e.current=t}),[r,a]),e})();return(0,n.useCallback)((()=>{setTimeout((()=>e(`competitors.${t.current}.searchItem`)),100)}),[e,t])})(),{gaAddCompetitors:o}=Jt(),[i,s]=(0,n.useState)(2),c=i<5;return n.createElement(Zt.A,{w:"100%"},n.createElement("form",{action:"","aria-label":r({id:"ariaLabel.reportSetup"}),onSubmit:e=>{e.preventDefault(),e.stopPropagation()}},n.createElement(Vn,null,t.slice(0,i).map(((e,t)=>n.createElement($n,{key:e.id,index:t,tldList:a})))),n.createElement(zr,{canAddMoreFields:c,onCompareClick:e,onAppendFields:e=>{o(e),s((t=>t+e)),l()}})))};zn.propTypes={onSubmit:v().func.isRequired,fields:v().arrayOf(v().object).isRequired,tldList:v().instanceOf(Set).isRequired};const Kn=n.memo(zn),Bn="keyword_gap",Jn=Object.values(ye.SJ),Wn=ra(Bn,["SET_MODE","SET_KEYWORD_TYPE","SET_INTERSECTION_TYPE","SET_TOP_KEYWORD_TYPE"],[]),Gn=(0,ke.VP)(Wn.SET_MODE,(e=>({mode:e}))),Yn=(0,ke.VP)(Wn.SET_KEYWORD_TYPE,(e=>({keywordType:e}))),Hn=(0,ke.VP)("requestSetIntersectionType",(({intersectionType:e,intersectionSetByUser:t=!0})=>({intersectionType:e,intersectionSetByUser:t}))),Qn=(0,ke.VP)(Wn.SET_INTERSECTION_TYPE,(({intersectionType:e,intersectionSetByUser:t=!0})=>({intersectionType:e,intersectionSetByUser:t}))),Zn=(0,ke.VP)("requestSetRankingTypeFromString",(e=>({type:e}))),Xn=(0,ke.VP)("clearIntersectionType"),el=ra(Ue.stateKey,["SET_TARGETS"],[]),tl=(0,ke.VP)(el.SET_TARGETS,((e,t=!1)=>({targets:e,isLanding:t}))),al=(0,ke.VP)("requestSetTargetsFromString",(e=>({targets:e}))),rl=(0,ke.VP)("setTargetsFromString",(e=>({targets:e}))),nl=(0,ke.VP)("requestSetQFromString",(e=>({q:e}))),ll=(0,ke.VP)("requestSetSearchTypeFromString",(e=>({searchType:e}))),ol=(0,ke.VP)("requestSetKeywordTypeFromString",(e=>({keywordType:e}))),il=(0,ke.VP)("requestSetCompareWithFromString",(e=>({compareWith:e}))),sl=({searchItem:e})=>""!==e,cl={competitors:[ye.Kv,ye.Kv,ye.Kv,ye.Kv,ye.Kv]},dl=()=>{const{handleSubmit:e,setError:t,clearErrors:a,control:r,watch:l,setValue:i,setFocus:s}=(0,xe.mN)({defaultValues:cl,reValidateMode:"onBlur",mode:"onBlur"}),c=(0,Re.useTldList)(),{fields:d,replace:p}=(0,xe.jz)({control:r,name:"competitors"}),u=(({handleSubmit:e,setError:t,replace:a})=>{const r=(0,o.wA)(),l=(0,o.d4)(lr),i=(0,n.useCallback)((()=>{e((({competitors:e})=>{let n=e.filter((({searchItem:e})=>e.length>0));const o=5-n.length;n=[...n,...new Array(o).fill(ye.Kv)];const i=e.filter((({searchItem:e})=>e.length)).length;if(i<2){const r=(e=>[["competitors.0.searchItem",{type:"enterOne",message:""},{shouldFocus:!0}],["competitors.1.searchItem",{type:"enterCompetitor",message:""},{shouldFocus:!0}]][e])(i);return e.map((({searchItem:e})=>!!e.length)).reduce(((e,t,a,r)=>null!=r[a-1]&&r[a-1]!==r[a]?e+1:e),0)>1&&a(n),void setTimeout((()=>t(...r)),0)}(e=>{const t=e.filter((e=>""!==e.searchItem));let a="";t.forEach((e=>{a+=` ${e.searchType}`}));const r=t.map((({searchType:e})=>e)).join(".");f({category:"keyword-gap:landing-page",action:"click:compare",label:"report:load",value:`${t.length} +${a}`}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Ft}.compare`,item_label:r,type:`${t.length}`})})(n),r(sa(l?.date??(0,wt.A)(new Date,"yyyyMMdd"),aa.J5.daily,!0)),r(Yn(n[0].keywordType)),r(Gn((e=>{const t=e.filter(sl).map((({keywordType:e})=>e));return new Set(t).size>1})(n)?ye.vV.advanced:ye.vV.simple)),r(tl(n,!0))}))()}),[r,e,a,t,l]);return i})({handleSubmit:e,setError:t,replace:p}),m=(0,n.useMemo)((()=>({control:r,setValue:i,clearErrors:a,watch:l,setFocus:s,onSubmit:u})),[r,a,i,l,u,s]);return(0,n.useEffect)((()=>{const e=new URLSearchParams(window.location.search),t=e.get("q"),a=e.get("searchType");t&&Ie(t,c)&&(i("competitors.0.searchItem",t),i("competitors.0.searchType",a))}),[i,c]),n.createElement(We,{context:m},n.createElement(Wt,{control:r}),n.createElement(Ht,null,n.createElement(He,null),n.createElement(Mt,null,n.createElement(Kn,{fields:d,onSubmit:u,tldList:c}))))},pl=({onVisible:e=()=>{},"data-path":t})=>{const[a,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>r(!0)),1e3);return()=>clearTimeout(e)}),[]);const[l,o]=(()=>{const[e,t]=(({root:e=null,rootMargin:t,threshold:a=0})=>{const[r,l]=(0,n.useState)({}),[o,i]=(0,n.useState)(null),s=(0,n.useRef)(new window.IntersectionObserver((([e])=>l(e)),{root:e,rootMargin:t,threshold:a}));return(0,n.useEffect)((()=>{const{current:e}=s;return e.disconnect(),o&&e.observe(o),()=>e.disconnect()}),[o]),[i,r]})({}),[a,r]=(0,n.useState)(t?.isIntersecting);return(0,n.useEffect)((()=>{a||r(t?.isIntersecting)}),[t?.isIntersecting,r,a]),[e,a]})();return(0,n.useEffect)((()=>{a&&o&&e()}),[o,a,e]),a?n.createElement("div",{ref:l,"data-path":t}):null};pl.propTypes={onVisible:v().func,"data-path":v().string.isRequired};const ul=pl,ml={[i.USER_ROLES.guest]:"Payment Guest",[i.USER_ROLES.free]:"Payment FREE",[i.USER_ROLES.appCenter]:"Payment AppCenter",[i.USER_ROLES.pro]:"Payment PRO",[i.USER_ROLES.guru]:"Payment GURU",[i.USER_ROLES.business]:"Payment BUSINESS",[i.USER_ROLES.customPlan]:"Payment BUSINESS"},yl="success",gl="sww",hl="nodata",bl=({itemLocation:e,type:t,status:a})=>{Dt.A.track(Dt.A.eventName.show,{item_location:e,type:t,status:a})},fl=({itemLocation:e,type:t})=>{bl({itemLocation:e,type:t,status:yl})},El=({itemLocation:e,type:t})=>{bl({itemLocation:e,type:t,status:hl})},kl=({itemLocation:e,type:t})=>{bl({itemLocation:e,type:t,status:gl})},vl="landing",wl=({index:e,isTextLoading:t,title:r="",description:l="",imgName:o="",direction:i="default"})=>{const{formatMessage:s}=(0,pe.A)(),c=(0,n.useCallback)((()=>{var t;f({category:"keyword-gap:landing",action:`scroll:block-${t=e+1}`,label:`block-${t}:show`}),(e=>{Dt.A.track(Dt.A.eventName.show,{item_location:`${vl}.scroll`,item_label:`block_${e}`})})(e+1)}),[e]);return n.createElement(n.Fragment,null,n.createElement(me().DescriptionItem,{title:s({id:r}),description:s({id:l}),direction:i,index:e,imageLoader:(d=o,()=>a(59367)(`./${d}.svg`)),isTextLoading:t}),n.createElement(ul,{onVisible:c,"data-path":`${vl}.scroll`}));var d};wl.propTypes={title:v().string,description:v().string,imgName:v().string,isTextLoading:v().bool.isRequired,index:v().number.isRequired,direction:v().oneOf(["default","reverse"])};const Tl=n.memo(wl),Al=[{id:"step1",imgName:"type-competitor",title:"howToUse.typeCompetitors.title",description:"howToUse.typeCompetitors.description"},{id:"step2",imgName:"select-keywords-type",title:"howToUse.chooseTypes.title",description:"howToUse.chooseTypes.description"},{id:"step3",imgName:"find-insights",title:"howToUse.findInsights.title",description:"howToUse.findInsights.description"}],Cl=()=>{const{formatMessage:e}=(0,pe.A)(),{isLoading:t}=(0,L.useTextSmoothLoading)();(0,n.useEffect)((()=>{y.set(F,ye.SJ.missing)}),[]),(0,n.useEffect)((()=>{f({category:"keyword-gap:landing-page",action:"show:load",label:"landing:loaded"}),fl({itemLocation:vl})}),[]);const a=(0,o.wA)();return(0,n.useEffect)((()=>{a(ve())}),[a]),n.createElement(me(),{"data-path":vl},n.createElement(me().HeaderCard,{title:e({id:"reportTitle.keywordGap"}),description:e({id:"landing.description"}),"aria-label":e({id:"ariaLabel.kgHeader"})},n.createElement(Ee,{pageType:"landing"},n.createElement(dl,null))),n.createElement(me().DescriptionCard,{"aria-label":e({id:"ariaLabel.kgFeatures"})},Al.map(((e,a)=>n.createElement(Tl,{direction:a%2>0?"default":"reverse",title:e.title,description:e.description,imgName:e.imgName,key:e.id,index:a,isTextLoading:t})))))};var Sl=a(42534);const xl=e=>e[Bn]?e[Bn]:{},Rl=e=>xl(e).mode,_l=e=>xl(e).keywordType,Ll=e=>xl(e).intersectionSetByUser,Ol=e=>xl(e).intersectionType,Pl=e=>xl(e).nextIntersectionType,Il=(0,ka.Mz)(Sl.G9,(e=>e.split("_").filter((e=>"organic"!==e)).length?"mixed":"organic")),Ml=e=>xl(e).intersectionType,Dl=e=>e.data.keywordsTotal,Fl=e=>Dl(e).data?.overlaps||[],Nl=(0,ka.Mz)((e=>Dl(e).status.isLoading),(e=>null===e||e)),jl=(0,ka.Mz)(Fl,(e=>e.map((({targetIndexes:e,commonKeywords:t})=>({sets:e.map((e=>`${e}`)),size:t}))))),$l=(0,ka.Mz)([jl],(e=>e.length>0&&e.some((({size:e})=>e>0)))),ql=(0,ka.Mz)([Sl.N3,Fl],((e,t)=>(t?.filter((({targetIndexes:e})=>1===e.length))??[]).map((({commonKeywords:t,targetIndexes:[a]},r)=>({size:t,id:`${a}`,target:_t(e[r]?.searchItem??""),searchType:e[r]?.searchType??"",keywordType:e[r]?.keywordType??""}))))),Ul=e=>(Dl(e).data.targetsKeywords||[])[0],Vl=(0,ka.Mz)([Ul,Ml],((e,t)=>e?.[t]??0)),zl=(0,ka.Mz)(Ul,((e={})=>Object.values(e).some((e=>0!==e)))),Kl=(0,ka.Mz)((e=>Dl(e).status),(e=>e.hasError)),Bl=(0,ka.Mz)([ot,Vl],((e,t)=>e<t?e:t)),Jl="keywordsTop",Wl=e=>e.data[Jl].status.isLoading,Gl=(0,ka.Mz)([Wl,Fa],((e,t)=>null===e||e||t)),Yl=e=>e.data[Jl].status.hasError,Hl=(0,ka.Mz)((e=>e.data[Jl].data),(e=>{if(e)return{missing:e.missing,weak:e.weak,common:e.common}})),Ql=(0,ka.Mz)(Hl,(e=>e)),Zl=((0,ka.Mz)([Gl,Ql],((e,t)=>e||t&&t.length>0)),(0,ka.Mz)([Gl,Hl],((e,t)=>!e&&(null==t||Object.values(t).every((e=>null==e||0===e.length)))))),Xl=(0,ka.Mz)((e=>(e=>e.data.keywordsTop)(e).status),(e=>e.hasError)),eo=e=>e.filters,to=e=>eo(e).volume,ao=e=>eo(e).position,ro=e=>eo(e).search,no=e=>eo(e).keywordDifficulty,lo=e=>eo(e).intent,oo=e=>eo(e).advanced,io=(e,t)=>oo(e)?.[t],so=e=>eo(e).advancedApplied,co=e=>{const t=eo(e),a={volume:t.volume,position:t.position,search:t.search,keywordDifficulty:t.keywordDifficulty,intent:t.intent,advancedApplied:t.advancedApplied};return Object.values(a).every((e=>null==e||0===Object.keys(e).length))?null:a},po=(0,ka.Mz)([co],(e=>Boolean(e))),uo=e=>e.kgTable.currentPage,mo=e=>e.kgTable.prevPage,yo=e=>e.kgTable.sorting.field,go=e=>e.kgTable.sorting.direction,ho=((0,ka.Mz)([yo,go],((e,t)=>({sortField:e,sortDirection:t}))),(0,ka.Mz)([ar,Sl.Dv,Ol,uo,yo,go,e=>{const t=eo(e);return{volume:t.volume,position:t.position,search:t.search,keywordDifficulty:t.keywordDifficulty,intent:t.intent,advancedApplied:t.advancedApplied}}],((e,t,a,r,n,l,o)=>{let i=t.filter((({value:e})=>e.length>0)).map((e=>({...e,value:Lt(e.value)})));return P.A.isSearchTypesLimited()&&(i=i.map((e=>({...e,type:"domain"})))),{targets:i,type:a,page:r,sortField:n,sortDirection:l,filter:o,...e}}))),bo=({page:e,...t})=>Object.keys(t).sort().map((e=>JSON.stringify(t[e]))).join("/"),fo=e=>e.data.keywords,Eo=(0,ka.Mz)((e=>fo(e).status.isLoading),(e=>null===e||e)),ko=(0,ka.Mz)((e=>fo(e).status),(e=>e.hasError)),vo=e=>fo(e).meta,wo=e=>fo(e).data,To=(0,ka.Mz)([vo,ho],((e,t)=>e?.[bo(t)]?.[t.page]??null)),Ao=(0,ka.Mz)([wo,To],((e,t)=>t?.map((t=>e[t]))??[])),Co=(0,ka.Mz)([vo,(e,t)=>t],((e,t)=>Boolean(e?.[bo(t)]?.[t.page]??!1))),So=e=>e.data.ranks.data,xo=(0,ka.Mz)((e=>e.data.ranks.status),(e=>null!==e.isLoading&&!e.hasError)),Ro=(0,ka.Mz)([Nl,Gl,Eo],((e,t,a)=>e||t||a)),_o=(0,ka.Mz)([Xl,Kl,ko],((e,t,a)=>e||t||a));var Lo=a(33402),Oo=a.n(Lo),Po=a(35970),Io=a.n(Po),Mo=a(17465),Do=a.n(Mo);const Fo={0:"target1",1:"target2",2:"target3",3:"target4",4:"target5"},No={phrase:"Ph",keyword:"Ph",position:"Po",positions:"Po",positionDiff:"Po",keywords:"Pc",changeOfTraffic:"Tr",volume:"Nq",keywordDifficulty:"Kd",kd:"Kd",cpc:"Cp",url:"Ur",traffic:"Tr",trafficRelative:"Tr",trafficPercent:"Tr",trafficCost:"Tc",comp:"Co",results:"Nr",serpFeatures:"Fl",keywordType:"Br",wordsCount:"Wc",crawledTime:"Ts",category:"Ca",competitionLvl:"Cr",commonKeywords:"Np",intent:"In",...Fo},jo={comp:"comp",cpc:"cpc",keywordDifficulty:"kd",results:"results",volume:"volume",...Fo},$o={containing:"Co",wordMatch:"Wm",exactMatch:"Eq",begins:"Bw",ends:"Ew","=":"Eq",">":"Gt","<":"Lt","":""},qo={serpFeatures:e=>`${parseInt(e,10)}`,crawledTime:e=>e.map((e=>`${e}000`)).join(";")},Uo=(e,t)=>{const a=e?.[t]??"";let r="";if(r="object"==typeof a?`${a?.from}-${a?.to}`:a,0===r.length)return[];const n={isIncludes:!0,field:t},[l,o]=r.split("-");return l===o?[{...n,criteria:"=",value:l}]:[o?{...n,criteria:"<",value:parseInt(o,10)+1}:null,l?{...n,criteria:">",value:parseInt(l,10)>0?parseInt(l,10)-1:0}:null].filter((e=>Boolean(e)))},Vo=e=>e?"+":"-",zo=e=>$o[e]||$o.exactMatch,Ko=(e,t)=>(qo[e]||(e=>e))(t),Bo=e=>{const t=e?.intent??[];return Array.isArray(t)&&t.length>0?t.map((e=>({isIncludes:!0,field:"intent",criteria:"exactMatch",value:Mo.INTENT_IDS.getID(e)}))):[]},Jo={kg_competitors:e=>e.reduce(((e,t)=>`${e}${""===e?"":"|"}${[encodeURIComponent(t.value),ut.TARGET_TYPE[t.type],ut.PRODUCT_TYPE[t.dataType]].join(":")}`),""),device_type:e=>1===e?"Mobile":"Desktop",kg_display_sort:e=>{return`${t=e[0],jo[t]||t}_${e[1]}`.toLowerCase();var t},kg_display_filter:e=>Io()([...Object.values(e?.advancedApplied??{}),...Uo(e,"volume"),...Uo(e,"keywordDifficulty"),...Bo(e)].map((e=>{return[Vo(e.isIncludes),(t=e.field,No[t]||t),zo(e.criteria),Ko(e.field,e.value)];var t}))).concat((e?.search??"").length>0?["+","Ph","Co",e.search]:[]).join("|"),positions_filter:e=>(e=>{const{position:t}=e;if(t){let e,a;return"object"==typeof t.value?({from:e,to:a}=t.value):[e,a]=t.value.split("-"),[t.type,e,a].join(":")}return""})(e),description:e=>e?"on":"off",report_subtitle:e=>e.reduce(((e,t)=>`${e}${""===e?"":"\n"}${Be.isSearchbarAvailable()?Be.api.getQueryBySearchType(t.value,"domain"):je(t.value)}`),"")};var Wo=a(67724);function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Go.apply(null,arguments)}v().bool,v().bool.isRequired,v().string.isRequired,v().number.isRequired,v().bool,v().bool;const Yo=e=>t=>{const a=P.A.isPaid,r=P.A.hasProduct(),l=P.A.productGroup,i=(0,o.d4)(ot),s=(0,o.d4)(it),c=(0,o.d4)(st);return n.createElement(e,Go({hasUserPaid:a,hasUserProduct:r,userRole:l,exportLimit:i,isHistoryAllowed:s,isTrialAllowed:c},t))},Ho=(0,ce.default)(de.A)`
  transform: translateZ(0);
  position: sticky;
  margin-top: 150px;
  margin-bottom: 50px;
  top: 150px;
`,Qo={historical_panel:"HD panel",historical:"HD",filter:"filter",filters:"filter",filter_panel:"filter panel",export:"export",export_panel:"export panel",sorting:"sorting",table:"table",table_tiny:"table_tiny",report_per_day:"report tariff"};class Zo extends n.PureComponent{static propTypes={title:v().string.isRequired,description:v().oneOfType([v().string,v().element]),contextText:v().string,features:v().array,onOk:v().func,onCancel:v().func,cancelText:v().string,okText:v().string,needSticky:v().bool,userRole:v().string.isRequired};static defaultProps={description:"",features:[],onOk(){},onCancel:null,contextText:"",needSticky:!1,cancelText:"limitBlock.cancelBtnModal",okText:"limitBlock.plansAndPricingBtn"};constructor(){super(),this.handleOKClick=this.handleOKClick.bind(this),this.handleCancelClick=this.handleCancelClick.bind(this)}componentDidMount(){this.sendGa("show limit popup")}sendGa(e=""){const{userRole:t,gaContext:a}=this.props;f({action:ml?.[t]??"Payment",label:`${Qo?.[a]??a} - ${e}`})}handleOKClick(){const{onOk:e}=this.props;this.sendGa("see plans"),e()}handleCancelClick(){const{onCancel:e}=this.props;e()}renderFeature({img:e="",description:t,imgType:r="svg"},l){return n.createElement(de.A,{direction:"column",justifyContent:"center",key:l,ml:l?10:0,w:120},n.createElement(Zt.A,{mb:3,hMin:97},"png"===r?n.createElement("img",{src:`/img/${e}.png`,alt:""}):n.createElement(br.AsyncSvgImage,{loader:(o=e,()=>a(97116)(`./${o}.svg`)),usePreview:!0,"aria-hidden":"true",role:"img"})),n.createElement(fr.A,{size:"200",textAlign:"center","data-at":`item-desc-${l}`},n.createElement(Xt.A,{id:t})));var o}renderFeaturesList(){const{features:e}=this.props;if(0!==e.length)return n.createElement(de.A,{justifyContent:"center",mb:8,"data-at":"feature-items"},e.map(((e,t)=>this.renderFeature(e,t))))}renderCancelBtn(){const{cancelText:e,onCancel:t}=this.props;if(e&&t)return n.createElement(ea.A,{onClick:this.handleCancelClick,ml:3,size:"l","data-at":"cancel-btn"},n.createElement(Xt.A,{id:e}))}renderOkBtn(){const{okText:e}=this.props;return n.createElement(ea.A,{onClick:this.handleOKClick,size:"l",use:"primary","data-at":"upgrade-btn",theme:"success"},n.createElement(Xt.A,{id:e}))}render(){const{needSticky:e,title:t,contextText:a,description:r}=this.props,l=e?Ho:de.A;return n.createElement(l,{justifyContent:"center",direction:"column","data-at":"limit-block",w:440},n.createElement(fr.A,{size:500,tag:"p",lineHeight:1.12,mb:4,medium:!0,"data-at":"title",textAlign:"center"},n.createElement(Xt.A,{id:t})),n.createElement(fr.A,{size:200,tag:"p",mb:8,"data-at":"description",textAlign:"center"},a.length>0&&n.createElement("span",null,n.createElement(Xt.A,{id:a})," "),n.createElement(Xt.A,{id:r,values:{br:n.createElement("br",null)}})),this.renderFeaturesList(),n.createElement(de.A,{justifyContent:"center"},this.renderOkBtn(),this.renderCancelBtn()))}}const Xo=Yo(Zo),ei="trialplan",ti={[i.USER_ROLES.pro]:{title:"limitBlock.pro.title",description:"limitBlock.pro.description",okText:"limitBlock.pro.upgradeText",features:[{img:"limit_keyword_per_report",description:"limitBlock.pro.feature_1"},{img:"limit_excel",description:"limitBlock.pro.feature_2"},{img:"limit_databases",description:"limitBlock.pro.feature_3"}]},[i.USER_ROLES.guru]:{title:"limitBlock.guru.title",description:"limitBlock.guru.description",okText:"limitBlock.guru.upgradeText",features:[{img:"limit_subdomain",description:"limitBlock.guru.feature_1"},{img:"limit_historical",description:"limitBlock.guru.feature_2"},{img:"limit_keyword_per_report",description:"limitBlock.guru.feature_3"}]},[i.USER_ROLES.business]:{title:"limitBlock.business.title",description:"limitBlock.business.description",okText:"limitBlock.business.upgradeText",features:[{img:"limit_reports_per_day",description:"limitBlock.business.feature_1"},{img:"limit_keyword_per_report",description:"limitBlock.business.feature_2"},{img:"limit_api",description:"limitBlock.business.feature_3"}]},[i.USER_ROLES.customPlan]:{title:"limitBlock.customPlan.title",description:"limitBlock.customPlan.description",okText:"limitBlock.requestCustomBtn"},[ei]:{title:"limitBlock.trialPlan.title",description:"limitBlock.trialPlan.description",okText:"limitBlock.getTrial"}},ai={results:"limitBlock.context.results",filter_sorting:"limitBlock.context.filter_sorting",filters:"limitBlock.context.filters",sorting:"limitBlock.context.filter_sorting",historical:"limitBlock.context.historical",report_per_day:"limitBlock.context.report_per_day",export:"limitBlock.context.export",pla:"limitBlock.context.pla"},ri={filters:"limitBlock.notNow",historical:"limitBlock.notNow",default:"limitBlock.cancelBtnModal",export:"limitBlock.notNow"},ni=({planType:e=i.USER_ROLES.pro,cancelText:t="",limitContext:a="",needSticky:r=!1,gaContext:l="",onCancel:o=null,onClose:s=()=>{}})=>{const c=(0,n.useCallback)((()=>{const t=(e=>{switch(e){case i.USER_ROLES.customPlan:return()=>i.BillingUI.customPlanRequest(!0);case ei:return()=>window.open(`${window.location.origin}/subscribe/?src=pricing&offer=pro-free-trial`);default:return()=>i.BillingUI.quickUpgradePopup({upgradeTo:e,source:j})}})(e);t(),s({closeByMainAction:!0})}),[e,s]),d=ti[e],p=(e=>e&&void 0!==ai[e]?ai[e]:"")(a),u=t||(e=>e&&void 0!==ri[e]?ri[e]:"")(a),m=void 0!==d.okText?d.okText:void 0;return n.createElement(Xo,{title:d.title,contextText:p,description:d.description,features:d.features,cancelText:u,okText:m,onCancel:o,onOk:c,needSticky:r,planType:e,gaContext:l||a})};ni.propTypes={planType:v().oneOf([...i.USER_ROLES.getList(),ei]),onCancel:v().func,onClose:v().func,cancelText:v().string,limitContext:v().oneOf(["results","filter_sorting","filters","sorting","historical","report_per_day","export","pla",""]),needSticky:v().bool,gaContext:v().string};const li=ni,oi=({visible:e=!1,planType:t=i.USER_ROLES.pro,limitContext:a="",gaContext:r="",onClose:l=()=>{},onCancel:o=()=>{}})=>n.createElement(Wo.A,{onClose:l,visible:e},n.createElement(Wo.A.Overlay,{zIndex:800},n.createElement(Wo.A.Window,{p:"24px 104px 32px 104px"},n.createElement(li,{limitContext:a,gaContext:r,planType:t,onCancel:o,onClose:l}))));oi.propTypes={visible:v().bool,onClose:v().func,onCancel:v().func,planType:v().oneOf(i.USER_ROLES.getList()),limitContext:v().string,gaContext:v().string};const ii=oi,si={historical_panel:"HD panel",historical:"HD",filters:"filter",filter_panel:"filter panel",export:"export",sorting:"sorting",table:"table",table_tiny:"table_tiny",pla:"pla"},ci=(e="",t,a,r)=>{let n=e;const l=t||a,o=ml?.[r]??"Payment",i=si?.[l]??"Unknown context";"filter"===i&&(n="view available data"),f({action:o,label:`${i} - ${n}`})},di=({requiredPlan:e=i.USER_ROLES.pro,limitContext:t="",gaContext:a="",onCancelClick:r=()=>{},children:l})=>{const{isHistoryAllowed:o,userRole:s}=dt(),[c,d]=(0,n.useState)(!1),p=(0,n.useCallback)((({closeByMainAction:e}={},r)=>{r?.stopPropagation(),r?.preventDefault(),e||ci("not now",a,t,s),d(!1)}),[d,s,a,t]),u=(0,n.useCallback)((e=>{e?.stopPropagation(),e?.preventDefault(),d(!0)}),[d]),m=(0,n.useCallback)((e=>{" "!==e.key&&"Enter"!==e.key||u(e)}),[u]),y=(0,n.useCallback)((()=>{ci("not now",a,t,s),d(!1),r()}),[s,a,t,r]);let g;if(g="historical"===t?!o:i.USER_ROLES.isLowPlan(s,e),"function"==typeof l)return n.createElement(n.Fragment,null,l({isFeatureLimited:g,openModal:u}),n.createElement(ii,{visible:c,onClose:p,onCancel:y,userRole:s,planType:e,limitContext:t,gaContext:a}));if(!g)return l;const h=n.Children.map(l,(e=>n.cloneElement(e,{featureIsLimited:!0,openModal:u})));return n.createElement(Zt.A,{wMin:0},n.createElement(Zt.A,{onClickCapture:u,onKeyDownCapture:m,"aria-haspopup":"dialog"},h),n.createElement(ii,{visible:c,onClose:p,onCancel:y,userRole:s,planType:e,limitContext:t,gaContext:a}))};di.propTypes={requiredPlan:v().string,children:v().oneOfType([v().node,v().func]).isRequired,limitContext:v().string,gaContext:v().string,onCancelClick:v().func};const pi=di;var ui=a(78832);const mi="header.export_pdf",yi=e=>{Dt.A.track(Dt.A.eventName.show,{item_location:`${mi}.modal`,status:e})},gi=({options:e,isFeatureLimited:t=!1})=>{const{formatMessage:a}=(0,pe.A)(),[r,l]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,n.createElement("div",{id:"my-reports-lite-order","data-path":`${mi}.modal`}),n.createElement(ea.A,{onClick:()=>{if(f({category:"keyword-gap:export",action:"click:export-button",label:"export:show-popup"}),Dt.A.track(Dt.A.eventName.click,{item_location:mi}),t)return!1;window.liteOrder?(window.liteOrder.init({templateType:e.type,templateParameters:e}),window.liteOrder.toggleVisibility()):(l(!0),fetch("/my_reports/api/v1/lite-order").then((e=>e.json())).then((t=>{l(!1);const{status:a}=t;if("success"===a){const{result:{script:a,styles:r}}=t,n=document.createElement("script");n.src=a;const l=document.createElement("link");l.rel="stylesheet",l.href=r,document.head.append(l),document.body.append(n),n.addEventListener("load",(()=>{window.liteOrder.init({templateType:e.type,templateParameters:e})})),yi(yl)}else console.error(a),yi(gl)})).catch((e=>{l(!1),console.error(e),yi(gl)})))},loading:r,className:"js-button-pdf","aria-label":a({id:"ariaLabel.pdfButton"}),"aria-haspopup":"dialog","data-path":mi},n.createElement(ea.A.Addon,null,n.createElement(ui.A,null)),n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"pdf.exportButton"}))))};gi.propTypes={options:v().object.isRequired,isFeatureLimited:v().bool};const hi=gi,bi=i.USER_ROLES.pro,fi=()=>{const{db:e,date:t,dateType:a,device:r,filter:l,sortField:i,sortDirection:s,type:c,page:d,targets:p}=(0,o.d4)(ho),u=(0,o.d4)(er);if(!p||0===p.length)return null;const m=(y={type:"dpa_keyword_gap",kg_competitors:p,device_type:r,database:(0,xt.Z0)(e,r),database_date:a===aa.J5.daily?t:t.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1$2"),currency:u,keywords_type:c,kg_display_filter:l,positions_filter:l,display_page:Number.parseInt(d,10),kg_display_sort:[i,s],show_description:"on",report_subtitle:p},Object.entries(y).map((e=>Reflect.has(Jo,e[0])?[e[0],Jo[e[0]](e[1])]:[e[0],e[1]])).reduce(((e,t)=>(e[t[0]]=t[1],e)),{}));var y;return n.createElement(pi,{limitContext:"export",requiredPlan:bi},n.createElement(hi,{options:m}))};var Ei=a(43211);const ki="Report",vi="header.country",wi=()=>{const e=(0,o.wA)(),{formatMessage:t}=(0,pe.A)(),a=(0,o.d4)(Ma),r=(0,o.d4)(Qe.Lf),l=(0,o.d4)(Da),i=(0,o.d4)(Ja)||[],s=(0,o.d4)(Wa)||[],c=dr(s,1),d=(0,n.useCallback)((e=>{e&&(f({action:ki,label:"show DB"}),Dt.A.track(Dt.A.eventName.click,{item_location:vi}))}),[]),p=(0,n.useCallback)((e=>{(e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:vi,type:{top_list:"top_3_list",rest_countries:"rest_countries"}[e]})})(e)}),[]),u=!a&&l,m=(0,n.useMemo)((()=>({"data-path":vi})),[]);return n.createElement(de.A,{"aria-label":t({id:"ariaLabel.selectCountry"})},n.createElement(yr(),{topDatabases:i,restDatabases:c,selectedDatabase:r,hasError:u,loading:a,onChange:t=>{(e=>{f({action:ki,label:`select DB - ${e}`})})(t),e(oa(t))},onVisibleChange:d,onOptionClick:p,showCounters:!1,tag:Ei.A,tagProps:m},r?n.createElement(n.Fragment,null,n.createElement(Ei.A.Addon,null,n.createElement(hr(),{db:r})),n.createElement(Ei.A.Text,null,n.createElement(br.DbTitle,{db:r}))):null))};var Ti=a(55910),Ai=a.n(Ti);const Ci=()=>n.createElement(Zt.A,null,n.createElement(fr.A,{color:"gray-500",size:200},n.createElement(Xt.A,{id:"message.n_a"}))),Si=n.memo(Ci),xi=()=>n.createElement(Zt.A,{w:40},n.createElement(kr.A,{height:8},n.createElement(kr.A.Text,{y:"0",width:"100%"}))),Ri="Report",_i="header.device",Li=()=>{const e=(0,o.wA)(),t=(()=>{const{formatMessage:e}=(0,pe.A)(),t=(0,o.d4)(Ya);return(0,n.useMemo)((()=>t.map((t=>({value:t,label:e({id:`device.${aa.W.ToString(t)}`})})))),[t,e])})(),a=(0,o.d4)(Qe.Pf),r=(0,o.d4)(Ma),l=(0,o.d4)(Da),i=!r&&l,s=(0,n.useCallback)((t=>{var a;e(ia(t)),(e=>{f({action:Ri,label:"device",value:e})})(aa.W.ToString(t)),a=t,Dt.A.track(Dt.A.eventName.applyFilter,{item_location:_i,type:aa.W.ToString(a)})}),[e]),c=(0,n.useCallback)((e=>{e&&(f({action:Ri,label:"device",value:"show"}),Dt.A.track(Dt.A.eventName.click,{item_location:_i}))}),[]),d=(0,n.useMemo)((()=>({"data-path":_i})),[]);return r?n.createElement(xi,null):i?n.createElement(Si,null):n.createElement(Ai(),{devices:t,selectedDevice:a,onChange:s,onVisibleChange:c,tag:Ei.A,triggerProps:d})};var Oi=a(65124),Pi=a.n(Oi);const Ii={historical_panel:"HD panel",historical:"HD",filter:"filter",filter_panel:"filter panel",export:"export panel",export_panel:"export panel",sorting:"sorting",table:"table",table_tiny:"table_tiny",pla:"pla"},Mi=({visible:e,limitContext:t,requiredPlan:a,onClose:r,gaContext:l})=>{const o=P.A.productGroup,[i,s]=(0,n.useState)(e);(0,n.useEffect)((()=>{s(e)}),[e]);const c=({closeByMainAction:e}={})=>{r(!1),e||f({action:void 0!==ml[o]?ml[o]:"Payment",label:`${void 0!==Ii[l]?Ii[l]:"Unknown context"} - not now`,addReportName:!0})};return n.createElement(ii,{visible:i,onClose:c,onCancel:c,userRole:o,planType:a,limitContext:t,gaContext:l})},Di=(e,t,a)=>{const{isHistoryAllowed:r}=dt();let l=!1;return l="historical"===e?!r:P.A.isLowPlan(t),{isLimited:l,openLimitPopup:()=>{console.log("openLimitPopup")},RenderModal:({visible:r,onClose:l})=>n.createElement(Mi,{visible:r,onClose:l,limitContext:e,requiredPlan:t,gaContext:a})}},Fi=i.USER_ROLES.guru,Ni="historical",ji="Report",$i="header.date",qi=()=>{const e=(0,o.wA)(),t=(0,o.d4)(Pa),a=(0,o.d4)(Ia),r=t||a,l=(0,o.d4)(Da),i=!r&&l,s=(0,o.d4)(Qe.pp),c=(0,o.d4)(Qe.Lk),d=(0,o.d4)(Ga),{isLimited:p,onLimited:u,RenderLimitedModal:m}=(()=>{const[e,t]=(0,n.useState)(!1),{isLimited:a,openLimitPopup:r,RenderModal:l}=Di("historical",Fi,"historical_panel");return{isLimited:a,onLimited:()=>{r(),t(!0)},RenderLimitedModal:()=>n.createElement(l,{visible:e,onClose:()=>t(!1),gaContext:Ni})}})(),y=(0,n.useCallback)((t=>{var a;a=t.dateType,Dt.A.track(Dt.A.eventName.applyFilter,{item_location:$i,type:a===St.Daily?"live":"historical"}),e(sa(t.date,t.dateType,t.dateType===aa.J5.daily))}),[e]),g=(0,n.useCallback)((e=>{y(e),(e=>{f({action:ji,label:"historical data",value:1===e.dateType?`select HD - ${e.date}`:"LD"})})(e)}),[y]),h=(0,n.useMemo)((()=>({"data-path":$i})),[]),b=(0,n.useMemo)((()=>({date:s,dateType:c})),[s,c]);return i?n.createElement(Si,null):n.createElement(n.Fragment,null,n.createElement(Pi(),{selectedDate:b,dates:d,loading:r,onChange:p?u:g,onVisibleChange:e=>{e&&(f({action:ji,label:"historical data",value:"show"}),Dt.A.track(Dt.A.eventName.click,{item_location:$i}))},triggerProps:h}),n.createElement(m,null))};var Ui=a(61325),Vi=a.n(Ui);const zi="header.currency",Ki=()=>{const e=(0,o.wA)(),t=(()=>{const e=(0,o.d4)(Oa),t=(0,o.d4)(La);return e||t})(),a=(0,o.d4)(Xa),r=(()=>{const e=(0,o.d4)(Xa),t=(0,o.d4)(Qe.Ke),a=(e=>e.reduce(((e,t)=>(e["usd"===t?"default":"local"]=t,e)),{}))(e);return a[t]})(),l=(0,n.useCallback)((t=>{e(ga(t)),(e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:zi,type:e})})(t)}),[e]),i=(0,n.useCallback)((e=>{e&&Dt.A.track(Dt.A.eventName.click,{item_location:zi})}),[]),s=(0,n.useMemo)((()=>({"data-path":zi})),[]);return n.createElement(Vi(),{currencies:a,value:r,loading:t,onChange:l,onVisibleChange:i,triggerProps:s})};var Bi=a(2094);const Ji="header.breadcrumbs",Wi=e=>()=>{f({category:"keyword-gap:header",action:"click:breadcrumbs",label:`${e}:open`}),Dt.A.track(Dt.A.eventName.click,{item_location:Ji,item_label:e})},Gi={organic:"/analytics/organic/",backlinks:"/analytics/backlinks/",overview:"/analytics/overview/",da:"/analytics/da/"},Yi=()=>{const{locale:e}=(0,pe.A)(),t=(()=>{const{db:e,currency:t,device:a,date:r,dateType:n}=(0,o.d4)(Qe.eF),{searchItem:l,searchType:i}=(0,o.d4)(Sl.qG);return(({db:e,device:t,currency:a,date:r,dateType:n,searchItem:l,searchType:o})=>{const i={db:e,device:aa.W.ToString(t),currency:a,date:n===aa.J5.monthly?r.slice(0,6):"",searchType:o};return[Gi.overview,Ot({...i,q:l})].join("?")})({searchItem:l,searchType:i,db:e,device:a,currency:t,date:r,dateType:n})})();return n.createElement(Bi.A,{tag:"nav",locale:e,"data-at":"breadcrumbs","data-path":Ji},n.createElement(Bi.A.Item,{onClick:Wi("projects"),href:"/projects/"},n.createElement(Xt.A,{id:"page.breadcrumbs.projects"})),n.createElement(Bi.A.Item,{onClick:Wi("domain_overview"),href:t||"/analytics/overview/"},n.createElement(Xt.A,{id:"page.breadcrumbs.domain_overview"})),n.createElement(Bi.A.Item,{active:!0},n.createElement(Xt.A,{id:"page.breadcrumbs.keyword_gap"})))},Hi=n.memo(Yi);var Qi=a(22007),Zi=a.n(Qi);const Xi="header.send_feedback",es=()=>{Dt.A.track(Dt.A.eventName.click,{item_location:Xi})},ts=e=>{Dt.A.track(Dt.A.eventName.send,{item_location:Xi,status:e})},as=()=>{Dt.A.track(Dt.A.eventName.click,{item_location:`${Xi}.cancel`})},rs="default",ns="success",ls="failed",os=({experimentName:e=""})=>{const{searchItem:t,db:a,date:r,device:l}=(0,o.d4)(Qe.eF),{status:i,resetStatus:s,setStatus:c}=(()=>{const[e,t]=(0,n.useState)(rs);return(0,n.useEffect)((()=>{e===ls&&ts(gl),e===ns&&ts(yl)}),[e]),{status:e,resetStatus:()=>t(rs),setStatus:t}})(),[d,u]=(0,n.useState)({description:"",email:P.A.email||""});return n.createElement(Zi(),{email:d.email,status:i,onSubmit:async n=>{c("loading");try{const o=await(({text:e,section:t,email:a,id:r,isPaid:n,emailReplyTo:l,database:o,date:i,query:s,URL:c})=>fetch(p().feedbackBackendUrl,{method:"post",body:JSON.stringify({isGuest:!r,email:a,id:r,message:e,c:t,isPaid:n,emailReplyTo:l,database:o,date:i,query:s,URL:c})}))({text:`${n.feedback}\nURL: ${window.location.href}`,section:"keyword_gap:spa",email:P.A.email,id:P.A.id,isPaid:P.A.isPaid?"yes":"no",emailReplyTo:n.email,database:(0,xt.Z0)(a,l),experimentName:e,date:r,query:t});o.ok?c(ns):c(ls)}catch(e){console.warn(e),c(ls)}},onChange:(e,t)=>u({...d,[t]:e}),onCancel:as,onLinkClick:es,onVisibleChange:e=>{e||"success"!==i||s()},"data-at":"feedback",showBetaTesterButton:!0,source:"kg","data-path":Xi})};os.propTypes={experimentName:v().string};const is=n.memo(os);var ss=a(97067),cs=a(70853);const ds="header.user_manual",ps=()=>{Dt.A.track(Dt.A.eventName.click,{item_location:ds}),f({action:"Report",label:"tutorial",value:"user manual link - Report"})},us=()=>n.createElement(ss.A,{href:"/kb/28-keyword-gap",onClick:ps,target:"_blank","data-at":"user-manual","data-path":ds},n.createElement(ss.A.Addon,{tag:cs.A}),n.createElement(ss.A.Text,null,n.createElement(Xt.A,{id:"header.userManual"}))),ms=n.memo(us),ys=()=>{const{formatMessage:e}=(0,pe.A)();return n.createElement(Oo(),{toolName:e({id:"reportTitle.keywordGap"}),breadcrumbs:n.createElement(Hi,null),links:[n.createElement(ms,{key:"user-manual"}),n.createElement(is,{key:"feedback"})],pdfButton:n.createElement(fi,null),databaseSelector:n.createElement(wi,null),deviceSelector:n.createElement(Li,null),dateSelector:n.createElement(qi,null),currencySelector:n.createElement(Ki,null),databaseLabel:e({id:"header.database"}),deviceLabel:e({id:"header.device"}),dateLabel:e({id:"header.date"}),currencyLabel:e({id:"header.currency"}),useSearchItem:!1,"aria-label":e({id:"ariaLabel.kgHeader"}),tag:"section"})},gs=n.memo(ys);var hs=a(57229);const bs=({searchItem:e})=>""!==e,fs=()=>[...new Array(5)].fill({searchItem:"",searchType:"domain",keywordType:"organic"}),Es="keyword_gap.widget_compare",ks="Report",vs=()=>{const{gaAction:e}=(0,n.useContext)(be),t=(0,n.useCallback)((()=>{f({action:e,label:"click to Cancel"}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Es}.cancel`})}),[e]),a=(0,n.useCallback)(((t,a,r)=>{f({action:e,label:`Select keyword type for domain ${r+1}`,value:"adwords"===t?"paid":t}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Es}.keyword_type`,item_label:t,type:a,state:`${r+1}pos`})}),[e]),r=(0,n.useCallback)((t=>f({action:e,label:"delete filled domain",value:t+1})),[e]),l=(0,n.useCallback)((t=>f({action:e,label:"domain validation error",value:t+1})),[e]),o=(0,n.useCallback)(((t,a,r)=>{f({action:e,label:"change search type manually",value:`${t} - ${a} - ${r}`}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Es}.scope`,item_label:a,type:t,state:`${r}pos`})}),[e]),i=(0,n.useCallback)((t=>f({action:e,label:"click to search type selector",value:t})),[e]),s=(0,n.useCallback)(((t,a)=>{f({action:e,label:`Сlick to ${"simple"===t?"mixed":"single"} keyword type`}),"simple"===t&&Dt.A.track(Dt.A.eventName.click,{item_location:a})}),[e]);return(0,n.useMemo)((()=>({gaCancelClick:t,gaClickKeywordType:a,gaClickClose:r,gaValidationError:l,gaChangeSearchType:o,gaOpenSearchType:i,gaModeChange:s})),[t,a,r,l,o,i,s])};var ws=a(75059);const Ts="pla",As=i.USER_ROLES.business,Cs="keyword_gap.pills.keyword_type",Ss=({value:e="organic",onTypeClick:t=()=>{}})=>{const{formatMessage:a}=(0,pe.A)(),r=dt(),[l,o]=(0,n.useState)(!1),{RenderModal:i}=Di(Ts,As,Ts);return n.createElement(n.Fragment,null,n.createElement(ws.A,{onChange:e=>{wn.has(e)&&wn.get(e)(r)?o(!0):(((e,t)=>{f({action:ks,label:"change keyword type by pills",value:"adwords"===e?"paid":e}),Dt.A.track(Dt.A.eventName.click,{item_location:t,item_label:{organic:"organic",adwords:"paid",pla:"pla"}[e]})})(e,Cs),t(e))},value:e,"data-at":"simple-keyword-types","aria-label":a({id:"ariaLabel.form.keywordType.simple"}),"data-path":Cs},ye.CT.map((e=>n.createElement(ws.A.Item,{key:e,value:e,"data-at":`pill-${e}`},n.createElement(ws.A.Item.Text,null,n.createElement(Xt.A,{id:`keywordTypes.${e}Pills`})))))),n.createElement(i,{visible:l,onClose:()=>o(!1),gaContext:Ts}))};Ss.propTypes={value:v().oneOf([...ye.CT]),onTypeClick:v().func};const xs=n.memo(Ss);var Rs=a(92485);function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_s.apply(null,arguments)}const Ls="keyword_gap.button.keyword_type",Os=({...e})=>{const t=(0,o.wA)(),a=(0,o.d4)(Rl),{gaModeChange:r}=vs(),l=()=>{t(Gn(a===ye.vV.simple?ye.vV.advanced:ye.vV.simple)),r(a,Ls)};return n.createElement(Rs.A,_s({size:200,onClick:l,onKeyUp:e=>{"Enter"===e.key&&l()},"data-at":`mode-switcher to-mode-${a}`,role:"button","aria-expanded":a===ye.vV.advanced,"data-path":Ls},e),n.createElement(Rs.A.Text,null,n.createElement(Xt.A,{id:`panel.select${a===ye.vV.simple?"Multiple":"Single"}KwType`})))},Ps=({targets:e=[],onClick:t=()=>{}})=>{const a=Me(e),{gaCancelClick:r}=vs();return a?n.createElement(Zt.A,{ml:2},n.createElement(ea.A,{w:"100%",use:"secondary",onClick:()=>{r(),Gn(ye.vV.simple),t()},"data-at":"cancel-btn","data-path":`${Es}.cancel`},n.createElement(Xt.A,{id:"buttons.cancel"}))):null};Ps.propTypes={onClick:v().func,targets:v().array};const Is=n.memo(Ps);var Ms=a(34164);const Ds=({onClick:e=()=>{}})=>n.createElement(ea.A,{theme:"success",use:"primary",onClick:e,w:"50%",ml:2,"data-at":"compare-btn",wMin:0},n.createElement(ea.A.Text,{tag:Ms.A},n.createElement(Xt.A,{id:"buttons.compare"})));Ds.propTypes={onClick:v().func};const Fs=Ds,Ns=(0,ce.default)(Zt.A)`
  width: 100%;
  display: grid;
  column-gap: 8px;
  grid-template-columns: repeat(auto-fit, minmax(102px, 1fr));
`,js=({index:e,inactive:t=!1,isMain:a=!1})=>t?n.createElement(ln,{radius:12,inactive:t,"data-at":"competitor-circle comp-circle-inactive"}):a?n.createElement(tn,null):n.createElement(ln,{radius:12,color:sn(e),"data-at":`competitor-circle comp-circle-${e}`});js.propTypes={inactive:v().bool,isMain:v().bool,index:v().number.isRequired};const $s=n.memo(js),qs=({triggerRef:e,hasError:t=!1,errorType:a="",errorTooltipId:r=null,children:l=null})=>{const o=t,{formatMessage:i}=(0,pe.A)();return n.createElement(Gr.Ay,{theme:"warning",visible:o,inline:!1},n.createElement(Gr.Ay.Trigger,{w:"100%"},n.createElement(Wr.A,{size:"m",ref:e,state:t?"invalid":"normal"},l)),n.createElement(Gr.Ay.Popper,{id:r,"aria-label":a?i({id:`form.errors.${a}`}):""},a&&n.createElement("span",null,n.createElement(Xt.A,{id:`form.errors.${a}`}))))};qs.propTypes={triggerRef:v().oneOfType([v().func,v().shape({current:v().instanceOf(Element)})]).isRequired,children:v().node,hasError:v().bool,errorType:v().string,errorTooltipId:v().string};const Us=n.memo(qs),Vs=({searchItem:e="",isMain:t=!1,hasError:a=!1,selected:r=!1,index:l=0,errorType:o="",tldList:i,onChange:s=()=>{},onSubmit:c=()=>{},getTriggerProps:d=()=>{},resetSelectedStatus:p=()=>{}})=>{const{formatMessage:u}=(0,pe.A)(),m=(0,n.useRef)(),{gaClickClose:y,gaValidationError:g}=vs(),[h,b]=(0,n.useState)(!0),[f,E]=(0,n.useState)(e),[k,v]=(0,n.useState)(!1),w=(0,n.useId)(),T=(0,n.useCallback)((e=>{e&&!Ie(e,i)?(v("domainErr"),g(l)):v("")}),[l,g,i]);(0,n.useEffect)((()=>{t&&0===e.length&&m.current.focus()}),[t,e.length]),(0,n.useEffect)((()=>{E(e),e.length>0&&(b(!1),T(e))}),[e,T]);const A=()=>{b(!1),p()},C=()=>{0===f.length&&(b(!0),v("")),e!==f&&(T(f),s(f,l))},{ref:S}=d({onBlur:C,onFocus:A});return n.createElement(Us,{hasError:k||a,errorType:k||o,triggerRef:S,errorTooltipId:w},n.createElement(Wr.A.Addon,null,n.createElement($s,{inactive:h,isMain:t,index:l})),n.createElement(Wr.A.Value,{onChange:e=>E(e),onFocus:A,onBlur:C,onKeyUp:e=>{e.nativeEvent.stopImmediatePropagation(),"Enter"===e.key&&(r?p():(C(),c()))},value:f,ref:m,placeholder:u({id:"panel.add"+(t?"Domain":"Competitor")}),"aria-label":u({id:"ariaLabel.enterUrl"}),"aria-describedby":a?w:void 0,"data-at":"competitor-value"}),f.length>0&&n.createElement(Wr.A.Addon,{tag:Qr.A,interactive:!0,onClick:()=>{E(""),v(""),s("",l),y(l)},"data-at":"clear-competitor","aria-label":u({id:"ariaLabel.clearInput"})}))};Vs.propTypes={searchItem:v().string,onChange:v().func,onSubmit:v().func,isMain:v().bool,index:v().oneOf([0,1,2,3,4]),getTriggerProps:v().func,hasError:v().bool,errorType:v().oneOfType([v().string,v().bool]),selected:v().bool,resetSelectedStatus:v().func,tldList:v().instanceOf(Set).isRequired};const zs=n.memo(Vs),Ks=(0,ce.default)(pr.Ay.Menu)`
  font-family: Inter, sans-serif;
`,Bs=(0,ce.default)(Zt.A)`
  cursor: default;
  pointer-events: none;
  padding: 6px 8px;
`,Js=({children:e,suggestions:t=[],index:a=0,onChange:r=()=>{}})=>{const[l,o]=(0,n.useState)(!1),i=()=>{o(!1)};return n.createElement(pr.Ay,{interaction:"focus",onChange:e=>{o(!0),r(e,a)},value:null},n.createElement(pr.Ay.Trigger,{w:"100%",tag:"div","data-at":"competitor-input-trigger"},(({getTriggerProps:t})=>n.cloneElement(e,{getTriggerProps:t,index:a,onChange:r,selected:l,resetSelectedStatus:i}))),t.length>0&&n.createElement(Ks,{"data-at":"competitors-list-suggest-dd"},n.createElement(Bs,null,n.createElement(fr.A,{color:"gray-800",bold:!0,size:200,"data-at":"menu-title"},n.createElement(Xt.A,{id:"targets.suggestCompetitors.header"}))),t.map((e=>n.createElement(pr.Ay.Option,{value:e,key:e,direction:"row",flexWrap:!0,"data-at":"option"},_t(e))))))};Js.propTypes={suggestions:v().array,index:v().oneOf([0,1,2,3,4]),onChange:v().func,children:v().element.isRequired};const Ws=Js,Gs=({domain:e,suggestions:t,errorIndex:a,index:r,errorType:l=null,tldList:o=new Set,onChangeSearchItem:i=()=>{},onClickSearchItem:s=()=>{},onSubmitSearchItem:c=()=>{}})=>n.createElement(Ws,{suggestions:t,index:r,onChange:i},n.createElement(zs,{isMain:0===r,searchItem:_t(e),index:r,hasError:!!l&&a===r,errorType:l,tldList:o,onChange:i,onSubmit:c,onClick:s}));Gs.propTypes={domain:v().string.isRequired,suggestions:v().array.isRequired,onChangeSearchItem:v().func,onClickSearchItem:v().func,onSubmitSearchItem:v().func,errorType:v().oneOfType([v().string,v().bool]),errorIndex:v().number.isRequired,index:v().number.isRequired,tldList:v().instanceOf(Set)};const Ys=n.memo(Gs),Hs=(0,ce.default)(pr.Ay.Menu)`
  font-family: Inter, sans-serif;
`,Qs=ye.vM.map((e=>({value:e,children:e}))),Zs=({selectedValue:e=ye.vM[0],defaultValue:t=ye.vM[0],index:a=0,view:r="link",onChange:l=()=>{}})=>{const{formatMessage:o}=(0,pe.A)(),{gaChangeSearchType:i,gaOpenSearchType:s}=vs();return n.createElement(pr.Ay,{size:"m",onChange:t=>{l(t,a),i(e,t,a+1)},stretch:!1,value:e,onVisibleChange:e=>{e&&s(a+1)},"data-at":"search-type-select"},n.createElement(pr.Ay.Trigger,{color:"gray-800",w:"100%",tag:"link"===r?Ei.A:ur.A,"data-at":"search-type-trigger",inline:!1,"aria-label":o({id:"ariaLabel.form.selectScope"}),"data-path":`${Es}.scope`},n.createElement(pr.Ay.Trigger.Text,null,n.createElement(Xt.A,{id:`searchTypes.${e.length?e:t}Type`}))),n.createElement(Hs,{"data-at":"search-type-dd"},Qs.map((({value:e})=>n.createElement(pr.Ay.Option,{value:e,key:e,direction:"row",flexWrap:!0,"data-at":`option-${e}`},n.createElement(Xt.A,{id:`searchTypes.${e}Type`}))))))};Zs.propTypes={selectedValue:v().oneOf([...ye.vM]),defaultValue:v().string,onChange:v().func,index:v().oneOf([0,1,2,3,4]),view:v().oneOf(["link","btn"])};const Xs=n.memo(Zs),ec=(0,ce.default)(pr.Ay.Menu)`
  font-family: Inter, sans-serif;
`,tc=ye.CT.map((e=>({value:e,label:e}))),ac=({selectedValue:e=ye.CT[0],defaultValue:t=ye.CT[0],isActive:a=!0,isFeatureLimited:r=!1,index:l=0,openModal:o=()=>{},onChange:i=()=>{}})=>{const{formatMessage:s}=(0,pe.A)(),{gaClickKeywordType:c}=vs(),d=dt();return n.createElement(pr.Ay,{placeholder:s({id:`keywordTypes.${t}Keywords`}),onChange:t=>{let a=!1;wn.has(t)&&(a=wn.get(t)(d)),r&&a?o():(c(t,e,l),i(t,l))},value:e,disabled:!a,size:"m",tag:ur.A,"data-at":"keyword-type-selector"},n.createElement(pr.Ay.Trigger,{w:"100%","data-at":"keyword-type-selector-trigger","aria-label":s({id:"ariaLabel.form.keywordType.adv"}),"data-path":`${Es}.keyword_type`},n.createElement(Xt.A,{id:`keywordTypes.${e}Keywords`})),n.createElement(ec,{"data-at":"keyword-type-selector-dd"},tc.map((({value:e})=>n.createElement(pr.Ay.Option,{value:e,key:e,direction:"row","data-at":`option-${e}`,flexWrap:!0},n.createElement(Xt.A,{id:`keywordTypes.${e}Keywords`}))))))};ac.propTypes={selectedValue:v().oneOf([...ye.CT]),defaultValue:v().string,onChange:v().func,index:v().oneOf([0,1,2,3,4]),isFeatureLimited:v().bool,openModal:v().func,isActive:v().bool};const rc=n.memo(ac),nc="enterOne",lc=e=>{const[t,a]=(0,n.useState)("");return{resetError:()=>a(""),error:t,setError:a,validateTargets:t=>{return!t.some((({searchItem:t})=>((e,t)=>!(0===e.length||Ie(e,t)))(t,e)))&&(Me(t)?(r=t,n=ye.an,Pe(r)>=n||(a("enterCompetitor"),!1)):(a(nc),!1));var r,n},findErrorIndex:e=>t===nc?0:e.findIndex((({searchItem:e})=>!e))}},oc=({targets:e,panelMode:t,onChangeSearchItem:a,onClickSearchItem:r,onSubmitSearchItem:l,onSearchTypeChange:o,onKeywordTypeChange:s,errorType:c="",suggestions:d=[],tldList:p})=>{const{findErrorIndex:u}=lc(p),{formatMessage:m}=(0,pe.A)(),y=e.filter(bs).map((({searchItem:e})=>e)),g=(h=d,b=y,h?.filter((e=>!b.includes(e)))??[]).slice(0,4);var h,b;const f=u(e);return n.createElement(Ns,{"data-at":"competitors-inputs"},e.map((({searchType:e,keywordType:d,searchItem:u=""},y)=>n.createElement(de.A,{direction:"column",rowGap:2,key:y,role:"group","data-at":"competitor-form","aria-label":m({id:"ariaLabel.targets."+(0===y?"yourDomain":"competitor")},{NUM:y})},n.createElement(Xs,{index:y,selectedValue:e,onChange:o}),n.createElement(Ys,{index:y,domain:u,errorType:c,errorIndex:f,tldList:p,suggestions:g,onChangeSearchItem:a,onClickSearchItem:r,onSubmitSearchItem:l}),t===ye.vV.advanced&&n.createElement(pi,{requiredPlan:i.USER_ROLES.business,limitContext:"pla"},(({isFeatureLimited:e,openModal:t})=>n.createElement(rc,{index:y,isActive:void 0!==u&&u.length>0,selectedValue:d,onChange:s,isFeatureLimited:e,openModal:t})))))))};oc.propTypes={targets:v().array.isRequired,suggestions:v().array,errorType:v().string,panelMode:v().oneOf([ye.vV.simple,ye.vV.advanced]).isRequired,onChangeSearchItem:v().func.isRequired,onClickSearchItem:v().func.isRequired,onSubmitSearchItem:v().func.isRequired,onSearchTypeChange:v().func.isRequired,onKeywordTypeChange:v().func.isRequired,tldList:v().instanceOf(Set).isRequired};const ic=oc,sc=({targets:e,suggestions:t,error:a,tldList:r,onTypeTabClick:l,onCancel:i,onCompareClick:s,onKeywordTypeChange:c,onSearchTypeChange:d,onSearchItemClick:p,onChangeSearchItem:u})=>{const m=(0,o.d4)(_l),[y,g]=(0,n.useState)(m),h=(0,o.d4)(Rl),b=(0,n.useCallback)((t=>{t===ye.vV.simple&&g((e=>e[0]?e[0].keywordType:"organic")(e))}),[e]),E=()=>{(e=>{const t=e.filter((({searchItem:e})=>""!==e)),a=t.map((({searchType:e})=>e)).join(" ");f({action:ks,label:"submit domains",value:`${t.length} + ${a}`}),f({action:ks,label:`Load - ${t.length}`})})(e),s(y)};return n.createElement(de.A,{wMin:730,w:"100%",direction:"column","data-at":"target-input"},n.createElement("form",{"aria-label":"Report setup",onSubmit:e=>{e.preventDefault(),e.stopPropagation()}},n.createElement(de.A,null,n.createElement(ic,{targets:e,errorType:a,suggestions:t,panelMode:h,tldList:r,onChangeSearchItem:u,onClickSearchItem:p,onSubmitSearchItem:E,onSearchTypeChange:d,onKeywordTypeChange:c}),n.createElement(de.A,{wMin:180,pt:"26px",direction:"column"},n.createElement(de.A,null,n.createElement(Fs,{onClick:E}),n.createElement(Is,{targets:e,onClick:()=>{g("organic"),i()}})),h===ye.vV.advanced&&n.createElement(Zt.A,{pl:2,pt:3},n.createElement(Os,{onChange:b})))),h===ye.vV.simple&&n.createElement(de.A,{alignItems:"center",mt:2,justifyContent:"left"},n.createElement(xs,{value:y,onTypeClick:e=>{g(e),l(e)}}),n.createElement(Zt.A,{pl:2,wMin:180,boxSizing:!0},n.createElement(Os,{onChange:b})))))};sc.propTypes={onCancel:v().func.isRequired,targets:v().array.isRequired,suggestions:v().array.isRequired,onTypeTabClick:v().func.isRequired,onCompareClick:v().func.isRequired,onKeywordTypeChange:v().func.isRequired,onSearchTypeChange:v().func.isRequired,onSearchItemClick:v().func.isRequired,onChangeSearchItem:v().func.isRequired,error:v().string.isRequired,tldList:v().instanceOf(Set).isRequired};const cc=sc,dc=()=>{const e=(0,o.wA)(),t=(0,Re.useTldList)(),{error:a,resetError:r,validateTargets:l}=lc(t),i=(0,o.d4)(Sl.N3),s=(0,o.d4)(Rl),c=(0,o.d4)(Qe.Lf),d=(0,o.d4)(Qe.Pf),p=(0,o.d4)(Qe.dW),u=(0,n.useMemo)((()=>c||p?.db),[c,p]),m=(0,n.useMemo)((()=>d||p?.device),[d,p]),[y,g]=(0,n.useState)([]),[h,b]=(0,n.useState)(i.length?i:fs());(0,n.useEffect)((()=>b(i)),[i]);const E=(0,n.useMemo)((()=>{const e=h.filter(bs);if(0!==e.length)return e[0].searchItem}),[h]),k=(0,n.useCallback)((async()=>{if(null==u)return;if(!E)return;const e={db:u,device:m,searchItem:Lt(E)},t=hs.requestIdStore.getRequestId(e),a=await vt({...e,requestId:t});g(a)}),[u,m,E]);(0,n.useEffect)((()=>{(e=>{const t=e.filter((e=>""!==e.searchItem));f({action:ks,label:`Load - ${t.length}`})})(h)}),[c,d,E]),(0,n.useEffect)((()=>{k()}),[k]);const v=()=>g([]),w=(0,n.useCallback)(((e,t,a)=>{const r=h;r[a]={...r[a],[e]:Lt(t.trim())},b([...r]),0===r.filter(bs).length&&v()}),[h]),T=(0,n.useCallback)((t=>{if(!l(h))return;let a=h.map((e=>({...e,keywordType:s===ye.vV.simple?t:e.keywordType})));a=a.sort(((e,t)=>t.searchItem.length?1:-1)),b([...a]),e(Yn(t)),e(tl([...a]))}),[h,s,e,l]),A=(0,n.useCallback)(((e,t)=>w("searchType",e,t)),[w]),C=(0,n.useCallback)(((e,t)=>{r(),w("searchItem",e,t),w("searchType",Be.getSearchTypeFor(e),t),0===t&&k()}),[r,w,k]),S=(0,n.useCallback)(((e,t)=>{w("keywordType",e,t)}),[w]),x=(0,n.useCallback)((()=>{b(fs()),v()}),[]);return n.createElement(cc,{targets:h,suggestions:y,error:a,tldList:t,onCancel:x,onTypeTabClick:T,onCompareClick:T,onKeywordTypeChange:S,onSearchTypeChange:A,onSearchItemClick:r,onChangeSearchItem:C})},pc=n.memo(dc);var uc=a(11608),mc=a(96443);function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},yc.apply(null,arguments)}const gc=({style:e={},children:t=null,...a})=>n.createElement(mc.A,yc({boxSizing:"border-box",p:0,style:e,tag:"section"},a),n.createElement(mc.A.Body,{p:0},t));gc.propTypes={children:v().oneOfType([v().element,v().array]),style:v().object};const hc=gc;function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bc.apply(null,arguments)}const fc=({children:e=null,dividerProps:t={},...a})=>n.createElement(n.Fragment,null,n.createElement(de.A,bc({py:2,px:5,justifyContent:"space-between",alignItems:"center"},a),e),n.createElement(ta.A,bc({orientation:"horizontal",mb:5},t)));fc.propTypes={children:v().element,dividerProps:v().object};const Ec=fc,kc="topOpportunities",vc="keywordOverlapChart",wc="keywordsTable",Tc=()=>{const e=(0,o.wA)(),t=(0,n.useCallback)((t=>e(Hn(t))),[e]);return t};function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ac.apply(null,arguments)}const Cc=({value:e,types:t=[],onClick:a=()=>{},...r})=>{const{formatMessage:l}=(0,pe.A)();return n.createElement(ws.A,Ac({value:e,onChange:a,"data-at":"top-opp-type-switcher","aria-label":l({id:"ariaLabel.keywordType"}),"aria-controls":kc},r),t.map((e=>n.createElement(ws.A.Item,{value:e,key:e,"data-at":`top-opp-type-pill-${e}`,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(n.Fragment,null,n.createElement(fr.A,{bold:!0},n.createElement(Xt.A,{id:`keywords.${e}Keywords`})),n.createElement(Zt.A,{mt:1},n.createElement(Xt.A,{id:`keywords.${e}Tooltip`})))},n.createElement(Xt.A,{id:`keywords.${e}`})))))};Cc.propTypes={value:v().string.isRequired,types:v().array,onClick:v().func};const Sc=Cc;var xc=a(25761),Rc=a(82152);function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_c.apply(null,arguments)}const Lc=({height:e=8,width:t="100%",...a})=>n.createElement(kr.A,_c({height:e,width:t},a),n.createElement(kr.A.Text,{amount:1,width:t}));Lc.propTypes={height:v().number,width:v().oneOfType([v().string,v().number])};const Oc=(0,n.memo)(Lc);function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pc.apply(null,arguments)}const Ic=({keyword:e,db:t="us",device:a="desktop",date:r=null,dateType:l=0,gaAction:o="",currency:i="usd",onClick:s=()=>{},...c})=>{const{formatMessage:d}=(0,pe.A)(),p=(0,n.useCallback)((()=>{s(),o&&f({action:o,label:"click to keyword"})}),[o,s]),u=(({db:e,date:t,dateType:a,keyword:r,device:n,currency:l})=>{const o={db:e,currency:l,device:aa.W[n],date:a===aa.J5.monthly?t.slice(0,6):"",q:encodeURIComponent(r)};return`/analytics/keywordoverview/?${Ot(o)}`})({db:t,date:r,dateType:l,device:a,keyword:e,currency:i});return n.createElement(ss.A,Pc({onClick:p,href:u,noWrap:!1,inline:!0,size:200,"aria-label":d({id:"ariaLabel.keywordOverview.keywordLink"},{KEYWORD:e})},c),e)};Ic.propTypes={db:v().string,date:v().oneOfType([v().number,v().string]),dateType:v().number,device:v().oneOf(["desktop","mobile"]),keyword:v().string.isRequired,gaAction:v().string,currency:v().string,onClick:v().func};const Mc=(0,o.Ng)((e=>{const{db:t,date:a,device:r,dateType:n,currency:l}=(0,Qe.eF)(e);return{db:t,date:a,device:0===r?"desktop":1===r?"mobile":r,dateType:n,currency:l}}))(Ic);var Dc=a(15651),Fc=a(40097),Nc=a.n(Fc);const jc={informational:0,navigational:1,commercial:2,transactional:3};function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$c.apply(null,arguments)}const qc=({positionRef:e=null,kd:t=null,intents:a=[],phrase:r,cpc:l,volume:i,onClick:s=()=>{}})=>{(0,Dc.setPosition)(e,0);const{locale:c}=(0,pe.A)(),{db:d,currency:p,device:u,date:m,dateType:y}=(0,o.d4)(Qe.eF),g=(0,n.useMemo)((()=>(0,Fc.isNAValue)(t)?null:t),[t]),h=(e=>e.map((e=>Number.isInteger(e)?jc[Mo.INTENT_IDS.getType(e)]:jc[e])))(a),b=((e,t)=>(0,o.d4)((a=>tr(a,t,e))))(l,p);return n.createElement(de.A,{inline:!0,"data-at":"mini-ko",onClick:s},n.createElement(Dc.make,$c({userId:P.A.id,apiKey:P.A.apiKey,language:c,productGroup:P.A.productGroup.toLowerCase(),phrase:r,cpc:b,volume:i,kd:g,intents:h,database:(0,xt.m_)(d),currency:p.toUpperCase(),device:u===aa.W.desktop?"desktop":"phone",disablePortal:!1,showTriggerIconTooltip:!0},y===St.Monthly?{date:m.slice(0,6)}:{})))};qc.propTypes={phrase:v().string.isRequired,positionRef:v().oneOfType([v().func,v().object]),cpc:v().number.isRequired,volume:v().number.isRequired,kd:v().number,intents:v().array,onClick:v().func};const Uc=qc;function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vc.apply(null,arguments)}const zc=(0,ce.default)(Zt.A)`
  position: relative;
  display: inline;
  word-break: break-all;
  white-space: break-spaces;
`,Kc=({keyword:e="",data:t={},gaAction:a="",positionRef:r=()=>{},onClick:l=()=>{},onMiniKOClick:o=()=>{},...i})=>n.createElement(zc,{pr:5},n.createElement(Mc,Vc({keyword:e,gaAction:a,onClick:l},i)),e?.length>0&&n.createElement(Zt.A,{position:"absolute",ml:1,mt:"2px",inline:!0},n.createElement(Uc,{phrase:e,volume:t.volume,cpc:t.cpc,kd:t.keywordDifficulty,intents:t.intents,positionRef:r,onClick:o})));Kc.propTypes={keyword:v().string,data:v().object,positionRef:v().any,gaAction:v().string,onClick:v().func,onMiniKOClick:v().func};const Bc=Kc,Jc="Top Opportunities",Wc="keyword_gap.top_opportunities",Gc=e=>()=>f({action:"No data",label:`${e} - all`}),Yc=e=>{return f({action:Jc,label:`click ${t=e,`${t.charAt(0).toUpperCase()}${t.slice(1)}`} tab`});var t},Hc=e=>()=>f({action:e,label:"click Clear filters"}),Qc=e=>()=>f({action:e,label:"show Clear filters"}),Zc=e=>t=>f({action:"No data",label:`${e} - ${t}`}),Xc=e=>()=>f({action:e,label:"click View details"}),ed=({name:e,itemLocation:t,type:a})=>{Dt.A.track(Dt.A.eventName.click,{item_location:t,item_label:{keyword:"keyword",mini_ko:"mini_ko"}[e],type:a})},td=()=>{const e="organic"===(0,o.d4)(Il)?Jc:"Top Shared Keywords",t=Wc;return(0,n.useMemo)((()=>({gaNoData:Gc(e),gaClearFilter:Hc(e),gaShowClearFilter:Qc(e),gaShowNoData:Zc(e),gaClickDetails:Xc(e),gaChangeType:Yc,getGaContext:()=>e,gaWidgetNoData:()=>El({itemLocation:t}),gaWidgetSuccess:()=>fl({itemLocation:t}),gaWidgetSww:()=>kl({itemLocation:t}),gaDetailsClick:()=>(({itemLocation:e,type:t})=>{Dt.A.track(Dt.A.eventName.click,{item_location:`${e}.view_details`,type:t})})({itemLocation:t}),gaKeywordClick:e=>ed({itemLocation:t,name:"keyword",type:e}),gaMiniKoClick:e=>ed({itemLocation:t,name:"mini_ko",type:e})})),[e,t])},ad=({value:e,type:t,data:a={},positionRef:r={}})=>{const{getGaContext:l,gaKeywordClick:o,gaMiniKoClick:i}=td();return n.createElement(Bc,{keyword:e,data:a,positionRef:r,gaAction:l(),size:200,"data-at":"top-opp-keyword",onClick:()=>{o(t)},onMiniKOClick:()=>{i(t)}})};ad.propTypes={value:v().string.isRequired,data:v().object,positionRef:v().object,type:v().string.isRequired};const rd=ad,nd=({isLoading:e=!1,data:t=[],type:a})=>{const r=(0,n.useRef)(),{formatMessage:l}=(0,pe.A)();return n.createElement(Rc.Ay,{data:e?Array(5).fill({keyword:"",volume:0}):t,use:"secondary"},n.createElement(Rc.Ay.Head,null,n.createElement(Rc.Ay.Column,{name:"keyword",justifyContent:"flex-start",pl:5,pr:0,tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:l({id:"opportunities.keyword.tooltip"}),placement:"top-start"},n.createElement(Xt.A,{id:"opportunities.keyword"})),n.createElement(Rc.Ay.Column,{name:"volume",justifyContent:"flex-end",px:5,ref:r,wMin:120,flex:0,tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:l({id:"opportunities.volume.tooltip"}),placement:"top"},n.createElement(Xt.A,{id:"opportunities.volume"}))),n.createElement(Rc.Ay.Body,null,n.createElement(Rc.Ay.Row,null,(()=>({"data-at":"top-opp-row"}))),n.createElement(Rc.Ay.Cell,{name:"keyword",alignItems:"center",pl:5,pr:2},(({name:t},l)=>({children:e?n.createElement(Oc,{width:"170px"}):n.createElement(rd,{value:l?.[t],data:l,positionRef:r,type:a}),"data-at":"top-opp-cell-keyword"}))),n.createElement(Rc.Ay.Cell,{name:"volume",alignItems:"baseline",pl:2,pr:5},(({name:t},a)=>({children:e?n.createElement(Oc,{width:"90px"}):n.createElement(fr.A,{size:200,"data-at":"top-opp-volume"},n.createElement(xc.FormattedNumber,{value:a?.[t]})),"data-at":"top-opp-cell-volume"})))))};nd.propTypes={isLoading:v().bool,data:v().array,type:v().string.isRequired};const ld=n.memo(nd),od=(e,t=0)=>{const a=document.getElementById(e);if(!a)return;const r=a.getBoundingClientRect().top+window.pageYOffset-61+t;window.scrollTo({top:r,behavior:"smooth"})},id=({onClick:e=()=>{},isFeatureLimited:t=!1})=>{const{formatMessage:a}=(0,pe.A)(),{gaClickDetails:r,gaDetailsClick:l}=td();return n.createElement(ea.A,{onClick:()=>{t||(r(),l(),setTimeout((()=>{od("kg_table_header",-5)}),100),e())},theme:"info",use:"primary","data-at":"top-opp-view-full-report-btn","aria-label":a({id:"ariaLabel.viewDetails"}),"data-path":`${Wc}.view_details`},n.createElement(Xt.A,{id:"buttons.viewDetails"}))};id.propTypes={onClick:v().func,isFeatureLimited:v().bool};const sd=id;var cd=a(3360);const dd=(0,ce.default)(de.A)`
  color: #a6b0b3;

  &:hover {
    color: #64787e;
  }
`;function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pd.apply(null,arguments)}const ud=(0,ce.default)(Gr.Ay.Popper)`
  font-family: Inter, sans-serif;
`,md=({tooltip:e=null,...t})=>e?n.createElement(dd,null,n.createElement(Gr.Ay,null,n.createElement(Gr.Ay.Trigger,pd({tabIndex:0,tag:de.A,alignItems:"center"},t),n.createElement(cd.A,null)),n.createElement(ud,{ignorePortalsStacking:!0},e))):null;md.propTypes={tooltip:v().oneOfType([v().string,v().object])};const yd=md,gd=({keywordType:e="organic"})=>{const{formatMessage:t}=(0,pe.A)();return n.createElement(n.Fragment,null,n.createElement(uc.WidgetTitle,null,n.createElement(Ms.A,null,n.createElement(Xt.A,{id:"opportunities."+("organic"===e?"title":"titleCommon")}))),n.createElement(Zt.A,null,"organic"===e?n.createElement(Zt.A,{inline:!0,ml:2},n.createElement(tn,null)):n.createElement(yd,{tooltip:t({id:"opportunities.titleCommonTooltip"})})))};gd.propTypes={keywordType:v().string};const hd=n.memo(gd),bd=(0,ke.VP)("clearAllFilters"),fd=e=>{const t=e.toUpperCase(),a=(e=>(0,ke.VP)(`${e}/requestSetFilter`,(t=>({value:t,name:e}))))(t),r=(e=>(0,ke.VP)(`${e}/setFilter`,(e=>({value:e}))))(t),n=(e=>(0,ke.VP)(`${e}/clearFilter`,(()=>({}))))(t);return{requestSetFilter:a,setFilter:r,clearFilter:n}},Ed=fd("position"),kd=fd("volume"),vd=fd("search"),wd=fd("keywordDifficulty"),Td=fd("intent"),Ad=(0,ke.VP)("setAdvancedFilter",(e=>({data:e}))),Cd=(0,ke.VP)("requestApplyAdvancedFilter",((e=!1)=>({skipGa:e}))),Sd=(0,ke.VP)("requestApplyAdvancedFilter",(e=>({filters:e}))),xd=(0,ke.VP)("addEmptyAdvancedFilter"),Rd=(0,ke.VP)("removeAdvancedFilter",(e=>({id:e}))),_d=(0,ke.VP)("setAdvancedFieldValue",((e,t,a)=>({id:e,name:t,value:a}))),Ld=(0,ke.VP)("clearAdvancedAppliedFilter"),Od=(0,ke.VP)("applyFilters"),Pd=(0,ke.VP)("setFromURL",(e=>({data:e}))),Id=(0,ke.VP)("filterReady"),Md={position:Ed,volume:kd,search:vd,keyworddifficulty:wd,intent:Td},Dd=({type:e})=>{const{gaClearFilter:t,gaShowClearFilter:a,gaShowNoData:r}=td(),l=(0,o.wA)(),i=(0,o.d4)(po);return(0,n.useEffect)((()=>{i?a():r(e)}),[i,e,a,r]),n.createElement(de.A,{w:"100%",direction:"column",alignItems:"center",mt:10,px:5,boxSizing:!0},n.createElement(br.Header,{tag:"h6",mb:1,color:"gray-500"},n.createElement(Xt.A,{id:`noresults.${e}Title`})),n.createElement(fr.A,{color:"gray-500",size:200,textAlign:"center"},n.createElement(Xt.A,{id:`noresults.${e}Keywords`})),i&&n.createElement(Zt.A,{mt:4},n.createElement(ea.A,{theme:"muted",onClick:()=>{t(),l(bd())}},n.createElement(Xt.A,{id:"noresults.clearFilters"}))))};Dd.propTypes={type:v().oneOf([ye.SJ.missing,ye.SJ.weak,ye.SJ.common]).isRequired};const Fd=Dd,Nd=[ye.SJ.missing,ye.SJ.weak],jd=(0,ce.default)(hc)`
  flex-shrink: 0;
`,$d=()=>{const{formatMessage:e}=(0,pe.A)(),{gaNoData:t,gaChangeType:a,gaWidgetNoData:r,gaWidgetSuccess:l,gaWidgetSww:i}=td(),[s,c]=(0,n.useState)(y.get(F)||ye.SJ.missing),d=(0,o.d4)(Ql),p=(0,o.d4)(Gl),u=(0,o.d4)(Zl),m=(0,o.d4)(Yl),g=(0,o.d4)(Il),h=Tc(),b="organic"===g?s:ye.SJ.common,f=(0,n.useCallback)((()=>{t(),r()}),[t,r]),E=(0,n.useCallback)((()=>{i()}),[i]);(0,n.useEffect)((()=>{p||m||u||l()}),[l,p,m,u]);const k=d?.[b]??[],v=0===k.length;return n.createElement(jd,{className:"style-module__card___kg06z",hMin:370,"data-at":"top-opportunities","aria-label":e({id:"opportunities."+("organic"===g?"title":"titleCommon")}),"data-path":Wc},n.createElement(Ec,{justifyContent:"flex-start"},n.createElement(hd,{keywordType:g})),n.createElement(uc.WidgetContent,{isNoData:u,isError:m,type:"table",px:u?5:0,onError:E,onNoData:f},n.createElement(Zt.A,null,"organic"===g&&n.createElement(Sc,{onClick:e=>{c(e),a(e),y.set(F,e)},value:s,types:Nd,ml:5,mb:5}),n.createElement(Zt.A,{"data-at":"top-opp-table",id:kc},n.createElement(ld,{data:k,isLoading:p,type:s}),!p&&!k.length&&n.createElement(Fd,{type:b}))),n.createElement(Zt.A,{m:5},!(v||u||"organic"!==g)&&n.createElement(pi,{limitContext:"filters"},n.createElement(sd,{onClick:()=>{h({intersectionType:s})}})))))};var qd=a(13719);const Ud=(0,ke.VP)("requestKeywordsTotal"),Vd=(0,ke.VP)("getKeywordsTotalSuccess",(e=>({data:e})));var zd=a(19153);const Kd=e=>[...e,...new Array(5-e.length).fill(D)],Bd=(e,t)=>{const a=Number.parseInt(t,10),r=[...e];return!Number.isNaN(a)&&r?.[a]&&([r[0],r[a]]=[r[a],r[0]]),Kd(r)},Jd=e=>Array.isArray(e)?e.join("/"):"",Wd=e=>"string"!=typeof e?[]:e.split("/"),Gd=(e,t)=>Be.getSearchItemBySearchType(e,t),Yd=()=>(0,o.d4)(Sl.lG),Hd="Keyword Overlap",Qd="keyword_gap.keyword_overlap",Zd=()=>{const e=Qd;return(0,n.useMemo)((()=>({gaWidgetNoData:()=>El({itemLocation:e}),gaWidgetSuccess:()=>fl({itemLocation:e}),gaWidgetSww:()=>kl({itemLocation:e})})),[e])},Xd=({type:e})=>n.createElement(Zt.A,{pl:5},n.createElement(fr.A,{size:100,color:"gray-500"},n.createElement(Xt.A,{id:`keywordTypes.short.${e}`})));Xd.propTypes={type:v().oneOf(["organic","adwords","pla"]).isRequired};const ep=Xd;var tp=a(4243);const ap=()=>n.createElement(Gr.Ay,{interaction:"hover",placement:"right"},n.createElement(Gr.Ay.Trigger,null,n.createElement(Zt.A,{ml:2},n.createElement(tp.A,{color:"#ff7f00"}))),n.createElement(Gr.Ay.Popper,{theme:"warning"},n.createElement(Xt.A,{id:"noresults.keywordOverlap.recomendation"}))),{useIntlHelpers:rp}=_e(),np=(0,ce.default)(zd.A)`
  width: 100%;
`,lp=({target:e,searchType:t,value:a,id:r,active:l,onChangeVisible:o,keywordType:i,showType:s,isLoading:c})=>{const{formatCompactNumber:d}=rp(),p=Gd(e,t);return n.createElement(n.Fragment,null,n.createElement(de.A,{direction:"column","data-at":"overlap-competitor"},n.createElement(np,{theme:sn(r),"aria-label":e,"data-path":`${Qd}.checkbox`},n.createElement(zd.A.Value,{mr:1,checked:l,onChange:()=>o(r),"data-at":"competitor-checkbox"}),n.createElement(fr.A,{tag:Ms.A,size:200,color:"gray-800"},p)),s?n.createElement(ep,{type:i}):null),n.createElement(de.A,{justifyContent:"flex-end"},c?n.createElement(kr.A,{hidden:!1,w:48,h:20},n.createElement(kr.A.Text,{y:"6px",width:"100%"})):n.createElement(de.A,{alignItems:"center"},n.createElement(fr.A,{size:200,color:"gray-800","data-at":"overlap-competitor-size"},d(a)),0===a&&n.createElement(ap,null))))};lp.propTypes={target:v().string.isRequired,id:v().string.isRequired,active:v().bool.isRequired,onChangeVisible:v().func.isRequired,keywordType:v().oneOf([...ye.CT]).isRequired,searchType:v().oneOf([...ye.vM]).isRequired,showType:v().bool.isRequired,value:v().number.isRequired,isLoading:v().bool.isRequired};const op=n.memo(lp);function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ip.apply(null,arguments)}const sp=(0,ce.default)(Zt.A)`
  display: grid;
  grid-template-columns: minmax(20px, 1fr) auto;
  grid-row-gap: 8px;
  grid-column-gap: 16px;
`,cp=({hiddenIds:e,domains:t=[],onChangeVisible:a=()=>{},isLoading:r=!1})=>{const l=(0,n.useMemo)((()=>t.reduce(((e,{keywordType:t})=>(e.add(t),e)),new Set).size>1),[t]);return(()=>{const e=(0,o.d4)(ql).filter((e=>0===e.size)).length;(0,n.useEffect)((()=>{e>0&&f({action:Hd,label:`show 0 keywords - ${e}`})}),[e])})(),n.createElement(sp,{"data-at":"overlap-competitors-list","aria-controls":vc},t.map((t=>n.createElement(op,ip({},t,{value:t.size,key:t.id,active:!e.has(t.id),onChangeVisible:a,showType:l,isLoading:r})))))};cp.propTypes={domains:v().array,hiddenIds:v().object.isRequired,onChangeVisible:v().func,isLoading:v().bool};const dp=n.memo(cp);var pp=a(92654),up=a(3884),mp=a(99054),yp=a(49840);const gp=({dataKey:e,data:t={}})=>{const a=e.length>1;return n.createElement(de.A,{justifyContent:"space-between",direction:"row",pb:2,"data-at":"overlap-tooltip-caption"},n.createElement(Xt.A,{id:"venn.tooltip.caption."+(a?"overlap":"single")}),a?n.createElement(fr.A,{color:"gray-800",fontWeight:"bold","data-at":"overlap-tooltip-caption-value"},n.createElement(xc.FormattedNumber,{value:t[e]})):null)};gp.propTypes={dataKey:v().string.isRequired,data:v().object};const hp=gp,bp=(0,ce.default)(Zt.A)`
  min-width: 80px;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
`,fp=({name:e="",size:t=0,fill:a="#cccccc",searchType:r="domain"})=>n.createElement(n.Fragment,null,n.createElement(de.A,{alignItems:"center","data-at":"overlap-tooltip-item-name"},n.createElement(ln,{color:a}),n.createElement(bp,{pl:1,inline:!0},Gd(e,r))),n.createElement(de.A,{justifyContent:"right",inline:!0,"data-at":"overlap-tooltip-item-value"},n.createElement(xc.FormattedNumber,{value:t})));fp.propTypes={name:v().string,size:v().number,fill:v().string,searchType:v().string};const Ep=fp,kp=(0,ce.default)(Zt.A)`
  padding-top: 8px;
  display: grid;
  grid-template-columns: minmax(20px, 1fr) auto;
  grid-row-gap: 8px;
  grid-column-gap: 16px;
`,vp=({dataKey:e,searchItems:t,data:a={}})=>{const r=Wd(e);return n.createElement(Zt.A,{"data-at":"overlap-tooltip"},n.createElement(hp,{dataKey:e,data:a}),n.createElement(ta.A,null),n.createElement(kp,null,r.map((e=>n.createElement(Ep,{key:e,name:_t(t[e].searchItem),searchType:t[e].searchType,size:a[e],fill:sn(e)})))))};vp.propTypes={dataKey:v().string.isRequired,data:v().object,searchItems:v().array.isRequired};const wp=vp,Tp={UNIQUE:ye.SJ.unique,COMMON:ye.SJ.common},Ap={cursor:"pointer"},Cp=({series:e,searchItems:t,isFeatureLimited:a=!1,openModal:r=()=>{console.log("D3Venn > openModal > Not implemented")}})=>{const l=(0,o.wA)(),i=(0,o.d4)(Sl.qG),s=(0,o.d4)(Sl.yo),c=(0,o.d4)(Ol),[[d,p],u]=(0,n.useState)([0,0]),m=e.reduce(((e,t)=>({...e,[Jd(t.sets)]:t.size})),{}),y=e=>{if(a)return void r();const t=Wd(e);var n;if(n=t.length,f({action:Hd,label:n>1?`click intersect ${n}`:"click unique"}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Qd}.click`,item_label:n>1?"crossing_part":"outstanding_part"}),1===t.length){const e=s[t[0]];return e.searchItem===i.searchItem&&e.searchType===i.searchType&&e.keywordType===i.keywordType||l(tl(Bd(s,t[0]))),void(c!==Tp.UNIQUE&&l(Hn({intersectionType:Tp.UNIQUE})))}if(t.length!==s.length){const e=s.filter(((e,a)=>t.includes(`${a}`)));l(tl(Kd(e)))}c!==Tp.COMMON&&l(Hn({intersectionType:Tp.COMMON}))};return n.createElement(pp.A,{h:308,w:"99.5%",onResize:u,id:vc},n.createElement(up.A,{width:d,height:p,data:m},Object.keys(m).length>0?n.createElement(mp.A,{minRadius:6},Object.keys(m).map((e=>e.length>1?n.createElement(mp.A.Intersection,{onClick:()=>y(e),key:e,dataKey:e,duration:0,"data-at":`venn-intersection-${e}`,"aria-haspopup":!!a&&"dialog",style:Ap,"data-path":`${Qd}.click`}):n.createElement(mp.A.Circle,{onClick:()=>y(e),key:e,dataKey:e,color:sn(e),duration:0,"data-at":`venn-${e}`,"aria-haspopup":!!a&&"dialog",style:Ap,"data-path":`${Qd}.click`}))),n.createElement(yp.A,null,(({dataKey:e,data:a})=>({children:n.createElement(wp,{dataKey:e,data:a,searchItems:t})})))):null))};Cp.propTypes={series:v().array.isRequired,searchItems:v().array.isRequired,isFeatureLimited:v().bool,openModal:v().func};const Sp=Cp;function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xp.apply(null,arguments)}const Rp=(0,ce.default)(de.A)`
  width: 100%;
  align-items: center;
  justify-content: center;
  height: 288px;
`,_p=({...e})=>{const{formatMessage:t}=(0,pe.A)(),a=(0,o.wA)(),[r,l]=(0,n.useState)(new Set),i=(0,o.d4)(Nl),s=(0,o.d4)($l),c=(0,o.d4)(Kl),d=(0,o.d4)(jl),p=(0,o.d4)(ql),{gaWidgetNoData:u,gaWidgetSuccess:m,gaWidgetSww:y}=Zd(),g=(0,n.useMemo)((()=>p.map((({target:e,searchType:t})=>({searchItem:e,searchType:t})))),[p]),h=(0,n.useMemo)((()=>d.filter((({sets:e})=>e.every((e=>!r.has(e)))))),[d,r]),b=(0,n.useCallback)((e=>{var t;t=r.has(e),f({action:Hd,label:"click checkbox - "+(t?"on":"off")}),Dt.A.track(Dt.A.eventName.click,{item_location:`${Qd}.checkbox`}),r.has(e)?l(new Set([...r].filter((t=>t!==e)))):l(new Set(r.add(e)))}),[r]),E=(0,n.useCallback)((()=>a(Ud())),[a]),k=(0,n.useCallback)((()=>{y()}),[y]),v=(0,n.useCallback)((()=>{u()}),[u]);return(0,n.useEffect)((()=>{i||c||!s||m()}),[c,s,i,m]),n.createElement(hc,xp({hMin:370,wMin:605,flex:"1 1 auto"},e,{"data-at":"overlap","aria-label":t({id:"overlapChart.caption"}),"data-path":Qd}),n.createElement(Ec,{justifyContent:"flex-start"},n.createElement(uc.WidgetTitle,null,n.createElement(Xt.A,{id:"overlapChart.caption"}))),n.createElement(uc.WidgetContent,{isNoData:!s&&!i,isError:c,onNoData:v,onError:k,onReload:E,type:"venn-chart"},n.createElement(de.A,{mx:5},n.createElement(Zt.A,{mr:6,wMin:345,wMax:450},n.createElement(pi,{limitContext:"filters"},(({isFeatureLimited:e,openModal:t})=>i?n.createElement(Rp,null,n.createElement(qd.A,{w:200})):n.createElement(Sp,{series:h,searchItems:g,isFeatureLimited:e,openModal:t})))),n.createElement(Zt.A,{wMin:224},n.createElement(dp,{domains:p,hiddenIds:r,onChangeVisible:b,isLoading:i})))))},Lp=n.memo(_p),Op=function(e){const t=(0,n.useMemo)((()=>Array.isArray(e)?e:[e]),[e]),a=Boolean(window?.matchMedia),[r,l]=(0,n.useState)(t.map((e=>!!a&&!!window.matchMedia(e).matches)));return(0,n.useLayoutEffect)((()=>{if(!a)return;const e=t.map((e=>window.matchMedia(e))),r=e.map(((e,t)=>{const a=()=>l((a=>a.map(((a,r)=>t===r?!!e.matches:a))));return null!=e.addEventListener?e.addEventListener("change",a):e.addListener(a),a}));return()=>{e.forEach(((e,t)=>{null!=e.addEventListener?e.removeEventListener("change",r[t]):e.removeListener(r[t])}))}}),[a,t,e]),r},Pp=(0,ce.default)(de.A)`
  max-width: calc(100vw - 20px);
  min-width: 970px;
`,Ip=(0,ce.default)(de.A)`
  margin-left: 8px;

  &:first-child {
    margin-left: 0;
  }
`;function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mp.apply(null,arguments)}const Dp=({style:e={},children:t=null,...a})=>n.createElement(Ip,Mp({},a,{style:{...e||{}}}),n.createElement(Zt.A,{w:"100%"},t));Dp.propTypes={children:v().node,style:v().object};const Fp=Dp,Np=(0,n.createContext)({});function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jp.apply(null,arguments)}const $p=(e,t,a)=>{const r=a.indexOf(!0);return-1===r?{}:e.get(t[r])||{}},qp=({config:e={},children:t=null,...a})=>{const r=(0,n.useMemo)((()=>[...e.keys()]),[e]),l=Op(r),{formatMessage:o}=(0,pe.A)(),i=(0,n.useCallback)((e=>{e.preventDefault(),e.stopPropagation()}),[]),s=(0,n.useMemo)((()=>({...e.get("default"),...$p(e,r,l)})),[e,r,l]);return n.createElement(Pp,jp({tag:"form",action:"",onSubmit:i,"aria-label":o({id:"ariaLabel.filters"})},a),n.createElement(Np.Provider,{value:s},t.map((e=>null!=e?n.createElement(Fp,jp({key:e.props.name},s[e.props.name]||{}),e):null))))};qp.propTypes={children:v().node,config:v().object};const Up=qp;var Vp=a(37378),zp=a.n(Vp);const Kp=e=>null==e||""===e,Bp=({from:e=null,to:t=null,minValue:a,maxValue:r})=>{const{formatNumber:l}=(0,pe.A)(),o=Kp(e)?a:e,i=Kp(t)?r:t;let s="";return Kp(i)&&(s="+"),Kp(o)||Kp(i)||o===i?Kp(o)?Kp(i)?void 0:n.createElement("span",null,l(i)):n.createElement("span",null,l(o),s):n.createElement("span",null,`${l(o)}–${l(i)}`)};Bp.propTypes={from:v().number,to:v().number,minValue:v().number.isRequired,maxValue:v().number.isRequired};const Jp=n.memo(Bp),Wp="all_domains",Gp="you_domain",Yp="competitors",Hp=[{type:Wp,labelId:"positionFilter.label.all_domains",tooltipId:"positionFilter.tooltip.all_domains"},{type:Gp,labelId:"positionFilter.label.you_domain",tooltipId:"positionFilter.tooltip.you_domain"},{type:Yp,labelId:"positionFilter.label.competitors",tooltipId:"positionFilter.tooltip.competitors"}],Qp=[{value:"0-50",labelId:"positionFilter.label.top50",gaIndex:1,gaLabel:"top_50"},{value:"0-20",labelId:"positionFilter.label.top20",gaIndex:2,gaLabel:"top_20"},{value:"0-10",labelId:"positionFilter.label.top10",gaIndex:3,gaLabel:"top_10"}],Zp=({value:e=null,type:t=null})=>{if(!e)return null;const a="string"==typeof e?n.createElement(Xt.A,{id:`positionFilter.label.top${e.split("-")[1]}`}):n.createElement(Jp,{from:e.from,to:e.to,maxValue:100,minValue:1});return n.createElement("span",null,n.createElement(Xt.A,{id:"quickFilter.positions.prefix"})," ",n.createElement(Xt.A,{id:"positionFilter.value",values:{TYPE:n.createElement(Xt.A,{id:`positionFilter.value.type.${t}`}),VAL:a}}))};Zp.propTypes={value:v().oneOfType([v().string,v().object,v().instanceOf(null)]),type:v().oneOfType([v().string,v().instanceOf(null)])};const Xp=Zp,eu=(e,t)=>{const a=t?"-custom":"";switch(e){case Wp:return`positionFilter.tooltip.applied.all${a}`;case Gp:return`positionFilter.tooltip.applied.you${a}`;case Yp:return`positionFilter.tooltip.applied.com${a}`;default:return"positionFilter.tooltip"}},tu=({value:e=null,type:t=null})=>{const a="string"!=typeof e,r="string"==typeof e?e.substring(2):[e?.from||1,e?.to||100].join("-");return n.createElement(Xt.A,{id:eu(t,a),values:{range:r}})};tu.propTypes={type:v().string,value:v().oneOfType([v().string,v().object])};const au=tu;var ru=a(45852),nu=a.n(ru),lu=a(86087);const ou="keyword-gap:filters",iu="keyword_gap.table.filters.positions",su=[150,150],cu=({onClickApply:e})=>{const{setVisibility:t}=(0,n.useContext)(Vp.VisibilityContext),a=(0,o.d4)(ao),r=a?.value,l=a?.type,i="string"==typeof r?r.substring(2):[r?.from,r?.to].join("-"),s=a=>{t(!1),e(a)};return n.createElement(Ln.A.List,null,Hp.map((e=>{const t=e.type===l;return n.createElement(Ln.A.Nesting,{key:e.type},n.createElement(Ln.A,{placement:"right-start",interaction:"hover",timeout:su},n.createElement(Ln.A.Trigger,{tag:Ln.A.Nesting.Trigger,selected:t,"aria-selected":t,"data-at":e.type},n.createElement(de.A,{"data-at":"qf-option-label"},n.createElement(Xt.A,{id:e.labelId}),n.createElement(yd,{ml:1,tooltip:n.createElement(Xt.A,{id:e.tooltipId}),"data-at":"qf-option-info"})),n.createElement(Ln.A.Nesting.Addon,{tag:lu.A,color:"icon-secondary-neutral"})),n.createElement(Ln.A.Popper,{"data-at":"qf-top100-dd-side",wMin:200},n.createElement(Ln.A.List,null,Qp.map((a=>{const l=t&&r===a.value;return n.createElement(Ln.A.Item,{key:a.value,value:a.value,"data-at":`item-${a.value}`,selected:l,"aria-selected":l,onClick:()=>{var t,r,n,l;s({value:a.value,type:e.type}),t=e.type,r=a.gaIndex,f({category:ou,action:"click:positions-preset-value",label:`positions:preset-value:${t}:1-3`,value:r}),n=e.type,l=a.gaLabel,Dt.A.track(Dt.A.eventName.applyFilter,{item_location:iu,item_label:l,state:n})}},n.createElement(Xt.A,{id:a.labelId}))}))),n.createElement(ta.A,{my:1}),n.createElement(nu(),{onApply:({min:t,max:a})=>{var r,n;s({value:{from:t,to:a},type:e.type}),r=e.type,f({category:ou,action:"click:positions-apply",label:`positions:apply-filter:${r}:from`,value:(n=t)?parseInt(n||0,10):void 0}),((e,t)=>{f({category:ou,action:"click:positions-apply",label:`positions:apply-filter:${e}:to`,value:t?parseInt(t||0,10):void 0})})(e.type,a),(({from:e,to:t,state:a})=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:iu,item_label:`${parseInt(e||0,10)}_${parseInt(t||0,10)}`,state:a})})({from:t,to:a,state:e.type})},defaultValue:l===e.type?i:null}))))})))};cu.propTypes={onClickApply:v().func.isRequired};const du=cu,pu=({isFeatureLimited:e=!1})=>{const{formatMessage:t}=(0,pe.A)(),a=(0,o.wA)(),r=(0,o.d4)(ao),l=r?.value,i=r?.type,s=((e,t)=>{const{formatMessage:a}=(0,pe.A)(),r=(0,Re.useFilterRangeText)({from:t?.from,to:t?.to,defaultFrom:1,defaultTo:100});if(!t)return a({id:"ariaLabel.filter.position.empty"});const n="string"==typeof t?a({id:`positionFilter.label.top${t.split("-")[1]}`}):r,l=a({id:"positionFilter.value"},{TYPE:a({id:`positionFilter.value.type.${e}`}),VAL:n});return a({id:"ariaLabel.filter.position.applied"},{VALUE:l})})(i,l);return n.createElement(zp(),{onVisibleChange:e=>{e&&f({category:ou,action:"click:positions",label:"positions:show"})},disabled:e},n.createElement(zp().Trigger,{placeholder:t({id:"positionFilter.placeholder"}),empty:null==l,onClear:()=>{a(Ed.clearFilter()),f({category:ou,action:"click:positions-clear",label:"positions:clear-filter"})},"data-at":"qf-top100","data-path":iu,"aria-label":s,value:l,tooltip:n.createElement(au,{value:l,type:i})},n.createElement(Xp,{value:l,type:i})),n.createElement(zp().Popper,{w:200,"data-at":"qf-top100-dd"},n.createElement(du,{onClickApply:t=>{e||(a(Ed.requestSetFilter(t)),a(Od()))}})))};pu.propTypes={isFeatureLimited:v().bool};const uu=pu;var mu=a(2549),yu=a.n(mu);const gu="keyword-gap:filters",hu="keyword_gap.table.filters.volume",bu=()=>{f({category:gu,action:"click:volume",label:"volume:show"})},fu=()=>{f({category:gu,action:"click:volume-clear",label:"volume:clear-filter"})},Eu=e=>{f({category:gu,action:"click:volume-preset-value",label:"volume:preset-value:1-6",value:e})},ku=e=>{f({category:gu,action:"click:volume-apply",label:"volume:apply-filter:from",value:e?parseInt(e||0,10):void 0})},vu=e=>{f({category:gu,action:"click:volume-apply",label:"volume:apply-filter:to",value:e?parseInt(e||0,10):void 0})},wu={1:"1_10",2:"11_100",3:"101_1000",4:"1001_10000",5:"10001_100000",6:"100001_more"},Tu=({isFeatureLimited:e=!1})=>{const t=(0,o.wA)(),{resetFilterGA:a,showFilterGA:r,applyPresetFilterGA:l,applyRangeToFilterGA:i,applyRangeFromFilterGA:s}={showFilterGA:bu,resetFilterGA:fu,applyPresetFilterGA:Eu,applyRangeFromFilterGA:ku,applyRangeToFilterGA:vu},{requestSetFilter:c,clearFilter:d}=kd;let p=(0,o.d4)(to);if(p&&"object"==typeof p){const{from:e,to:t}=p;p=[e,t].join("-")}return n.createElement(de.A,{"data-path":hu},n.createElement(yu(),{selectedValue:p||"",disabled:e,onVisibleChange:e=>{e&&r()},onOptionClick:e=>a=>{l(e),(e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:hu,item_label:wu[e]})})(e),t(c(a)),t(Od())},onApplyRange:({min:e,max:a})=>{var r,n;s(e),i(a),r=e,n=a,Dt.A.track(Dt.A.eventName.applyFilter,{item_location:hu,item_label:`${parseInt(r||0,10)}_${parseInt(n||0,10)}`}),t(c({from:e,to:a})),t(Od())},onClear:()=>{t(d()),a()}}))};Tu.propTypes={isFeatureLimited:v().bool};const Au=Tu;var Cu=a(20212),Su=a.n(Cu);const xu="keyword-gap:filters",Ru="keyword_gap.table.filters.kd",_u=({requestSetFilter:e,clearFilter:t,applyFilters:a,isFeatureLimited:r=!1,selectedValue:l=""})=>{let o=l;if(o&&"object"==typeof l){const{from:e,to:t}=l;o=[e,t].join("-")}return n.createElement(de.A,{"data-path":Ru},n.createElement(Su(),{selectedValue:o||"",disabled:r,onVisibleChange:e=>{e&&f({category:xu,action:"click:kd",label:"kd:show"})},onOptionClick:t=>r=>{e(r),a(),(e=>{const t=parseInt(e||0,10)+1;f({category:xu,action:"click:kd-preset-value",label:"kd:preset-value:1-6",value:t})})(t),(e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:Ru,item_label:e?`${e.replace("-","_")}`:""})})(r)},onApplyRange:({min:t,max:r})=>{var n,l,o;e({from:t,to:r}),a(),f({category:xu,action:"click:kd-apply",label:"kd:apply-filter:from",value:(n=t)?parseInt(n||0,10):void 0}),(e=>{f({category:xu,action:"click:kd-apply",label:"kd:apply-filter:to",value:e?parseInt(e||0,10):void 0})})(r),l=t,o=r,Dt.A.track(Dt.A.eventName.applyFilter,{item_location:Ru,item_label:`${parseInt(l||0,10)}_${parseInt(o||0,10)}`})},onClear:()=>{t(),f({category:xu,action:"click:kd-clear",label:"kd:clear-filter"})}}))};_u.propTypes={requestSetFilter:v().func.isRequired,clearFilter:v().func.isRequired,applyFilters:v().func.isRequired,selectedValue:v().oneOfType([v().string,v().object]),isFeatureLimited:v().bool};const Lu=(0,o.Ng)((e=>({selectedValue:no(e)})),{requestSetFilter:wd.requestSetFilter,applyFilters:Od,clearFilter:wd.clearFilter})(_u);var Ou=a(33283),Pu=a.n(Ou);const Iu=()=>{const e=(0,o.wA)();return()=>e(Ld())},Mu=()=>{const e=(0,o.d4)(oo);return e?.order??[]},Du="keyword-gap:filters",Fu=()=>{const{formatMessage:e}=(0,pe.A)(),t=(0,o.d4)(ro),a=(0,o.wA)(),r=(0,n.useCallback)((e=>{a(vd.requestSetFilter(e)),a(Od())}),[a]),l=(0,n.useCallback)((()=>{f({category:Du,action:"click:filter-by-keyword",label:"filter-by-keyword:focus"})}),[]);return n.createElement("div",{"data-at":"qf_keyword","data-path":"keyword_gap.table.filters.filter_by_keyword"},n.createElement(Pu(),{placeholder:e({id:"keywordFilter.placeholder"}),value:t||"",onApply:e=>{e!==t&&(r(e),f({category:Du,action:"click:filter-by-keyword-apply",label:"filter-by-keyword:apply"}),Dt.A.track(Dt.A.eventName.applyFilter,{item_location:"keyword_gap.table.filters.filter_by_keyword"}))},onFocus:l,onClear:()=>{t&&(r(""),f({category:Du,action:"click:filter-by-keyword-clear",label:"filter-by-keyword:clear"}))},w:"100%"}))},Nu="keyword_gap.table.filters.intent",ju=(0,ce.default)(Do())`
  display: block !important;
`,$u=()=>{const e=(0,o.d4)(lo),t=(0,o.wA)();return n.createElement(de.A,{"data-path":Nu},n.createElement(ju,{value:e||[],onApply:e=>{t(Td.requestSetFilter(e)),t(Od()),(e=>{f({category:"keyword-gap:filters",action:"click:intent-apply",label:`intent:${e.join(",")}`,value:e.length})})(e),(e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:Nu,item_label:e.join("_")})})(e)},onClear:()=>{t(Td.clearFilter()),f({category:"keyword-gap:filters",action:"click:intent-clear",label:"intent:clear-filter"})},onVisibilityChange:e=>{e&&f({category:"keyword-gap:filters",action:"click:intent",label:"intent:show"})}}))};var qu=a(62944);const Uu="keyword-gap:filters",Vu=e=>{const t=Object.values(e).map((e=>({option:e.isIncludes?"includes":"excludes",criteria:e.criteria,field:e.field,value:e.value})));t.forEach((e=>{const a=`apply ${e.option} - ${e.field} - ${e.criteria}${e.value?` - ${e.value}`:""}`;f({category:Uu,action:"click:advanced-filter-apply",label:a,dimension101:{filtered_response:t}})}))},zu={"=":"equal",">":"greater_than","<":"less_than"},Ku=({onClose:e,onApply:t})=>{const a=Iu(),r=(0,n.useCallback)((()=>{a(),setTimeout((()=>e()),150),f({category:Uu,action:"click:advanced-clear-all",label:"advanced-filter:clear-filter"})}),[a,e]);return n.createElement(de.A,{mx:4,justifyContent:"space-between"},n.createElement(ea.A,{use:"primary",onClick:t,"data-at":"qf-apply-advanced"},n.createElement(Xt.A,{id:"filter.advanced.apply"})),n.createElement(ea.A,{use:"tertiary",theme:"muted",onClick:r,"data-at":"qf-clear-advanced"},n.createElement(ea.A.Addon,null,n.createElement(Qr.A,null)),n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"advancedFilter.clearFilter"}))))};Ku.propTypes={onClose:v().func.isRequired,onApply:v().func.isRequired};const Bu=Ku,Ju=(0,n.forwardRef)((function({onAdd:e},t){const a=(0,o.wA)();return n.createElement(ea.A,{theme:"info",use:"tertiary",onClick:()=>{e(),a(xd())},"data-at":"af-add-condition",ref:t},n.createElement(ea.A.Addon,null,n.createElement(Ir.A,null)),n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"advancedFilter.addCondition"})))}));Ju.propTypes={onAdd:v().func},Ju.defaultProps={onAdd:()=>{}};const Wu=Ju,Gu=[{value:!0,label:n.createElement(Xt.A,{id:"advancedFilter.includeStatus.include"})},{value:!1,label:n.createElement(Xt.A,{id:"advancedFilter.includeStatus.exclude"})}],Yu=({value:e,focused:t=!1,onChange:a=()=>{}})=>{const r=(0,n.useRef)(null),{formatMessage:l}=(0,pe.A)();return(0,n.useEffect)((()=>{t&&r.current.focus()}),[t]),n.createElement(pr.Ay,{value:e,onChange:a},n.createElement(pr.Ay.Trigger,{w:140,"data-at":"af-item-include",ref:r,type:"button","aria-label":l({id:"ariaLabel.advancedFilters.selectIncludeStatus"})},Gu.find((({value:t})=>t===e))?.label??""),n.createElement(pr.Ay.Menu,{"data-at":"select-include-status-dd"},Gu.map(((e,t)=>{const{label:a,value:r}=e;return n.createElement(pr.Ay.Option,{value:r,key:t,direction:"row",flexWrap:!0},n.createElement(Zt.A,{"data-at":`option-${r}`},n.createElement(fr.A,{size:200},a)))}))))};Yu.propTypes={value:v().string.isRequired,onChange:v().func,focused:v().bool};const Hu=Yu,Qu=["results"],Zu=(e,t)=>Qu.includes(e)&&t?n.createElement(Xt.A,{id:"advancedFilter.field.addon.desktopOnly"}):null,Xu=({value:e,fields:t=[],isDeviceMobile:a=!1,onChange:r=()=>{}})=>{const{formatMessage:l}=(0,pe.A)();return n.createElement(pr.Ay,{value:e,onChange:r},n.createElement(pr.Ay.Trigger,{w:140,"data-at":"af-item-field",type:"button","aria-label":l({id:"ariaLabel.advancedFilters.selectField"})},n.createElement(Xt.A,{id:`advancedFilter.field.${e}`})," ",Zu(e,a)),n.createElement(pr.Ay.Menu,{"data-at":"select-field-dd"},t.map(((e,t)=>n.createElement(pr.Ay.Option,{value:e,key:t,direction:"row",flexWrap:!0,"data-at":`option-${e}`},n.createElement(Zt.A,null,n.createElement(fr.A,{size:200},n.createElement(Xt.A,{id:`advancedFilter.field.${e}`})," ",Zu(e,a))))))))};Xu.propTypes={onChange:v().func,value:v().string.isRequired,fields:v().array,isDeviceMobile:v().bool};const em=Xu;var tm=a(76078);const am=({id:e,onRemove:t=()=>{}})=>{const a=(0,o.wA)();return n.createElement(ea.A,{size:"s",use:"tertiary",className:"filter_line-module__removeButton___NJn6g",onClick:()=>{a(Rd(e)),t()},ml:4,"data-at":"qf-remove-filter"},n.createElement(tm.A,null))};am.propTypes={id:v().string.isRequired,onRemove:v().func};const rm=am,nm=({fieldsConfig:e,id:t,onApply:a,focused:r=!1,onRemove:l=()=>{}})=>{const i=Mu().length>1,{isIncludes:s,field:c,criteria:d,value:p}=(e=>(0,o.d4)((t=>io(t,e))))(t),u=(0,o.wA)(),{device:m}=(0,o.d4)(Qe.eF),y=m===aa.W.mobile;return n.createElement(de.A,{px:4,alignItems:"center",role:"group","data-at":"af-filter-row"},n.createElement(Zt.A,{mr:i?0:8,className:"filter_line-module__fields___J7x_W"},n.createElement(Hu,{value:s,onChange:e=>u(_d(t,"isIncludes",e)),focused:r}),n.createElement(em,{value:c,fields:e.map((e=>e.field)),onChange:e=>u(_d(t,"field",e)),isDeviceMobile:y}),e.find((e=>e.field===c)).render({criteria:d,value:p,onApply:a,setValue:e=>u(_d(t,"value",e)),setCriteria:e=>u(_d(t,"criteria",e))})),i&&n.createElement(rm,{id:t,onRemove:l}))};nm.propTypes={fieldsConfig:v().arrayOf(v().object).isRequired,id:v().string.isRequired,onApply:v().func.isRequired,onRemove:v().func,focused:v().bool};const lm=nm,om=["=",">","<"],im=["containing","wordMatch","exactMatch","begins","ends"],sm=["branded","notBranded","forOther"],cm=["criteria","field","isIncludes","value"],dm=({criteria:e,criteriesList:t=[],className:a="",setCriteria:r=()=>{}})=>{const{formatMessage:l}=(0,pe.A)();return n.createElement(pr.Ay,{value:e,onChange:r},n.createElement(pr.Ay.Trigger,{w:140,className:a,"data-at":"af-item-criteria",type:"button","aria-label":l({id:"ariaLabel.advancedFilters.selectCriteria"})},n.createElement(Xt.A,{id:`advancedFilter.criteria.${e}`})),n.createElement(pr.Ay.Menu,{"data-at":"select-criteria-dd"},t.map(((e,t)=>n.createElement(pr.Ay.Option,{value:e,key:t,direction:"row",flexWrap:!0,"data-at":`option-${e}`},n.createElement(Zt.A,null,n.createElement(fr.A,{size:200},n.createElement(Xt.A,{id:`advancedFilter.criteria.${e}`}))))))))};dm.propTypes={criteria:v().string.isRequired,setCriteria:v().func,criteriesList:v().array,className:v().string};const pm=dm,um=({criteria:e,value:t,onApply:a,setCriteria:r=()=>{},setValue:l=()=>{},dataPath:o=""})=>{const{formatMessage:i}=(0,pe.A)(),s=(0,n.useCallback)((e=>{"Enter"===e.key&&a()}),[a]);return n.createElement(n.Fragment,null,n.createElement(pm,{criteria:e,setCriteria:r,criteriesList:im}),n.createElement(Wr.A,{w:140,"data-at":"af-item-value","data-path":o},n.createElement(Wr.A.Value,{placeholder:"",value:t,onChange:e=>l(e),"data-at":"input-text",onKeyUp:s,"aria-label":i({id:"ariaLabel.filter.enterValue"})})))};um.propTypes={setCriteria:v().func,setValue:v().func,onApply:v().func.isRequired,criteria:v().string.isRequired,value:v().string.isRequired,dataPath:v().string};const mm=um;var ym=a(71308);const gm=({setCriteria:e,setValue:t,criteria:a,onApply:r,step:l=1,value:o=null,dataPath:i=""})=>{const{formatMessage:s}=(0,pe.A)(),c=(0,n.useCallback)((e=>{t(""!==e?Number(e):null)}),[t]),d=(0,n.useCallback)((e=>{"Enter"===e.key&&r()}),[r]);return n.createElement(n.Fragment,null,n.createElement(pm,{criteria:a,setCriteria:e,criteriesList:om}),n.createElement(ym.A,{w:140,state:"normal","data-at":"af-item-value","data-path":i},n.createElement(ym.A.Value,{min:0,step:l,value:o,onChange:c,onKeyUp:d,"data-at":"input-number","aria-label":s({id:"ariaLabel.filter.enterValue"})}),n.createElement(ym.A.Controls,null)))};gm.propTypes={setCriteria:v().func.isRequired,setValue:v().func.isRequired,onApply:v().func.isRequired,criteria:v().oneOf(om).isRequired,value:v().number,step:v().number,dataPath:v().string};const hm=gm,bm=({onApply:e,value:t=null,step:a=1,onChange:r=()=>{console.warn("onChange function is not defined")},dataPath:l=""})=>{const{formatMessage:i}=(0,pe.A)(),s=(0,o.d4)(er),c=(0,o.d4)((e=>((e,t)=>{const a=wa()(Na(e),ja(e),{});return wa()(a,`${t.toUpperCase()}.rate`,1)})(e,s))),[d,p]=(0,n.useState)(null!=t?((e,t)=>Math.round(e*t*100)/100)(t,c):null),u=(0,n.useCallback)((e=>{p(e),r(((e,t)=>Math.round(e/t*100)/100)(Number(e),c))}),[r,c]),m=(0,n.useCallback)((t=>{"Enter"===t.key&&e()}),[e]);return n.createElement(ym.A,{w:140,state:"normal","data-at":"af-item-value","data-path":l},n.createElement(ym.A.Value,{min:0,step:a,value:null===d?"":d,onChange:u,onKeyUp:m,"data-at":"input-currency","aria-label":i({id:"ariaLabel.filter.enterValue"})}),n.createElement(ym.A.Controls,null))};bm.propTypes={value:v().number,step:v().number,onChange:v().func,onApply:v().func.isRequired,dataPath:v().string};const fm=bm,Em=({criteria:e,value:t,step:a,onApply:r,setCriteria:l=()=>{},setValue:o=()=>{},dataPath:i=""})=>n.createElement(n.Fragment,null,n.createElement(pm,{criteria:e,setCriteria:l,criteriesList:om}),n.createElement(fm,{value:t,onChange:e=>o(Number(e)),step:a,onApply:r,dataPath:i}));Em.propTypes={setCriteria:v().func,setValue:v().func,criteria:v().string.isRequired,value:v().string.isRequired,step:v().number.isRequired,onApply:v().func.isRequired,dataPath:v().string};const km=Em;function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vm.apply(null,arguments)}const wm=[{field:"keyword",render:e=>n.createElement(mm,vm({dataPath:"keyword_gap.table.filters.keyword"},e))},{field:"volume",render:e=>n.createElement(hm,vm({dataPath:"keyword_gap.table.filters.volume"},e))},{field:"cpc",render:e=>n.createElement(km,vm({dataPath:"keyword_gap.table.filters.cpc",step:.01},e))},{field:"comp",render:e=>n.createElement(hm,vm({dataPath:"keyword_gap.table.filters.comp",step:.01},e))},{field:"results",render:e=>n.createElement(hm,vm({dataPath:"keyword_gap.table.filters.results"},e))}],Tm=({onApply:e,isFocusOn:t=!1,onRemove:a=()=>{}})=>{const r=Mu();return n.createElement(de.A,{direction:"column",py:4,className:"filters_list-module__list___Aad4h","data-at":"filter-list"},r.map(((l,o)=>n.createElement(lm,{key:l,id:l,focused:t&&r.length-1===o,fieldsConfig:wm,onApply:e,onRemove:a}))))};Tm.propTypes={onRemove:v().func,onApply:v().func.isRequired,isFocusOn:v().bool};const Am=Tm,Cm=({onClose:e=()=>{}})=>{const t=(0,n.useRef)(null),a=(()=>{const e=(0,o.wA)();return t=>e(Cd(t))})(),r=(0,n.useRef)(null),[l,i]=(0,n.useState)(!1),{formatMessage:s}=(0,pe.A)(),{gaApplyFilter:c}=(()=>{const e=(()=>{const e=(0,o.d4)(oo),{order:t,...a}=e;return Object.values(a)})();return{gaApplyFilter:()=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:"keyword_gap.table.filters.advanced_filters",item_label:`${e.length}`}),e.forEach((e=>{Dt.A.track(Dt.A.eventName.applyFilter,{item_location:`keyword_gap.table.filters.${e.field}`,state:zu?.[e.criteria]??E(e.criteria),status:e.isIncludes?"include":"exclude"})}))}}})(),d=(0,n.useCallback)((()=>{setTimeout((()=>{t.current&&(t.current.children[0].scrollTop=t.current.children[0].scrollHeight-186)}),10)}),[]);(0,n.useEffect)((()=>{d()}),[d]);const p=(0,n.useCallback)((()=>{a(),c(),setTimeout((()=>e()),150)}),[a,e,c]);return n.createElement(Zt.A,{role:"group","aria-label":s({id:"advancedFilter.placeholder"}),className:"advanced_filters_content-module__wrapper___FlwYX"},n.createElement(qu.Ay,{hMax:186,ref:t,tabIndex:-1},n.createElement(Am,{isFocusOn:l,onApply:p,onRemove:()=>{i(!1),r.current.focus()}})),n.createElement(Zt.A,{ml:4},n.createElement(Wu,{ref:r,onAdd:()=>{i(!0),d()}})),n.createElement(ta.A,{orientation:"horizontal",theme:"default",use:"primary",mt:4,mb:4}),n.createElement(Bu,{onApply:p,onClose:e}))};Cm.propTypes={onClose:v().func};const Sm=Cm;var xm=a(54911);const Rm=({counter:e=0})=>n.createElement(de.A,{alignItems:"center"},n.createElement(Zt.A,{mr:2},n.createElement(Xt.A,{id:"advancedFilter.placeholder"})),!!e&&n.createElement(xm.A,{theme:"light-blue"},e));Rm.propTypes={counter:v().number};const _m=Rm,Lm=({isFeatureLimited:e=!1})=>{const t=(()=>{const e=(0,o.d4)(so);return Object.keys(e).length})(),a=Iu(),{formatMessage:r}=(0,pe.A)(),[l,i]=(0,n.useState)(!1),s=0===t?r({id:"ariaLabel.filter.advanced.empty"}):r({id:"ariaLabel.filter.advanced.applied"},{COUNT:t});return n.createElement(zp(),{visible:l,onVisibleChange:e=>{i(e),e&&f({category:Uu,action:"click:advanced-filter",label:"advanced-filter:show"})},disabled:e},n.createElement(zp().Trigger,{onClear:()=>{a(),f({category:Uu,action:"click:advanced-clear",label:"advanced-filter:clear-filter"})},placeholder:r({id:"advancedFilter.placeholder"}),"data-at":"af-button","data-path":"keyword_gap.table.filters.advanced_filters","aria-label":s,empty:0===t},n.createElement(_m,{counter:t})),n.createElement(zp().Popper,{hMax:400,placement:"bottom-end","data-at":"af-dropdown"},n.createElement(Sm,{onClose:()=>{i(!1)}})))};Lm.propTypes={isFeatureLimited:v().bool};const Om=Lm,Pm=new Map([["default",{keywordSearch:{w:"240px",style:{flexShrink:0,overflow:"visible"}},positions:{style:{flexShrink:0}},volume:{style:{flexShrink:0}},kd:{style:{flexShrink:0}},advanced:{style:{minWidth:"135px",flexShrink:0}}}],["(max-width: 1350px)",{keywordSearch:{w:"140px",style:{flexShrink:0,overflow:"visible"}},sf:{style:{flexShrink:1}},intent:{style:{flexShrink:1}},advanced:{style:{minWidth:"135px",flexShrink:0}}}]]),Im=(0,ce.default)(Zt.A)`
  position: -webkit-sticky; /* Safari */
  position: sticky;
  top: 0;
  background-color: #f4f5f9;
  z-index: 4;
  margin-bottom: 1px; /* need this becouse filters overlap bottom cards*/
  box-shadow: -1px 0px 0px 0px #f4f5f9, 1px 0px 0px 0px #f4f5f9; /* fix visible borders from underline blocks */

  border-bottom: ${({isSticky:e})=>e?"1px solid #ccc":"none"};
`,Mm=()=>{const[e,t]=(0,n.useState)(!1),a=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=a.current,r=new IntersectionObserver((([e])=>{const a=e.isIntersecting;t(a)}),{rootMargin:"0px 0px -100% 0px",threshold:0});return r.observe(e),function(){r.unobserve(e)}}),[]),n.createElement(Im,{py:4,px:0,isSticky:e,ref:a},n.createElement(Up,{config:Pm,"data-at":"filters-panel"},n.createElement(pi,{limitContext:"filters",name:"keywordSearch"},n.createElement(Fu,null)),n.createElement(pi,{limitContext:"filters",name:"positions"},n.createElement(uu,null)),n.createElement(pi,{limitContext:"filters",name:"volume_ui"},n.createElement(Au,null)),n.createElement(pi,{limitContext:"filters",name:"kd"},n.createElement(Lu,null)),n.createElement(pi,{limitContext:"filters",name:"intent"},n.createElement($u,null)),n.createElement(pi,{limitContext:"filters",name:"advanced"},n.createElement(Om,null))))},Dm=n.memo(Mm);var Fm=a(60522);const Nm=()=>{const e=(0,o.d4)(Qe.al),[t,a]=(0,n.useState)(!0);return e?n.createElement(Fm.A,{theme:"warning",closable:!0,label:n.createElement(tp.A,null),hidden:!t,onClose:()=>a(!1),mt:4},n.createElement(Zt.A,{"data-at":"notice-text"},n.createElement(Xt.A,{id:"searchTypeNotice.text",values:{b:e=>n.createElement("b",null,e)}})),n.createElement(ea.A,{mt:3,size:"m",use:"primary",theme:"success",onClick:()=>{i.BillingUI.quickUpgradePopup({upgradeTo:i.USER_ROLES.guru,source:j})},"data-at":"btns-container"},n.createElement(Xt.A,{id:"limitBlock.guru.upgradeText"}))):null},jm=n.memo(Nm),$m=ce.createGlobalStyle`
  #root-content {
    min-width: 1050px;
  }
  html {
    scroll-padding-top: 100px;
  }
`,qm=(0,ce.default)(de.A)`
  flex-grow: 1;
`,Um=(0,ce.default)(Zt.A)`
  justify-self: stretch;
  align-self: stretch;
  flex-grow: 1;
`,Vm="Table",zm=(0,ce.default)(Ms.A)`
  word-break: break-all;
`,Km=()=>{const{formatMessage:e}=(0,pe.A)(),t=(0,o.d4)(Sl.yo),a=(0,o.wA)();if(0===t.length)return null;const r=(e=>e.map((({searchItem:e,searchType:t},a)=>({label:Gd(_t(e),t),value:a}))))(t),l=r[0];return n.createElement(pr.Ay,{value:l?.value,onChange:e=>{a(tl(Bd(t,e))),f({action:Vm,label:"select you-domain"})},onVisibleChange:e=>{e&&f({action:Vm,label:"click change you-domain"})},"data-at":"competitor-switcher"},n.createElement(pr.Ay.Trigger,{wMax:180,"data-at":"competitor-switcher-trigger","aria-label":e({id:"ariaLabel.selectYouDomain"},{DOMAIN:l?.label})},n.createElement(Ms.A,null,l.label)),n.createElement(pr.Ay.Menu,{wMax:180,"data-at":"competitor-switcher-dd"},r.map((({value:e,label:t},a)=>n.createElement(pr.Ay.Option,{value:e,key:e,wMax:180,direction:"row","data-at":`option-${e}`},n.createElement(de.A,null,n.createElement(pr.Ay.Trigger.Addon,{mr:2,"data-at":"option-circle"},n.createElement(ln,{color:sn(a),"data-at":`competitor-circle-${a}`})),n.createElement(pr.Ay.Trigger.Text,{tag:zm,maxLine:3},t)))))))},Bm=()=>n.createElement(de.A,{alignItems:"center",id:"kg_table_header"},n.createElement(uc.WidgetTitle,{mr:2},n.createElement(Xt.A,{id:"kgTable.competitorSelector.label"})),n.createElement(Zt.A,{mr:2},n.createElement(Km,null)),n.createElement(tn,null)),Jm=e=>e===i.USER_ROLES.guest?"Payment FREE":e?ml[e]:"Payment NOT DEFINED",Wm=e=>{let t=null;switch(e){case"total":t="all keywords";break;case"common":t="shared";break;default:t=e}return t},Gm=()=>(0,o.d4)(Bl),Ym=({name:e})=>{const{formatNumber:t}=(0,pe.A)(),{formatCompactNumber:a}=(0,O.useIntlHelpers)(),r=(0,o.d4)(Nl),l=(0,o.d4)(Ul),i=l?.[e];return n.createElement(de.A,{wMin:5},r?n.createElement(kr.A,{hidden:!1,height:10,width:10},n.createElement(kr.A.Text,{y:1,width:10,"data-at":"pill-loading"})):n.createElement(fr.A,{size:200,color:"gray-500","data-at":"pill-volume","aria-label":t(i)},a(i)))};Ym.propTypes={name:v().string.isRequired};const Hm=n.memo(Ym),Qm=({isFeatureLimited:e=!1})=>{const t=(()=>{const e=(0,o.d4)(Ml);return(0,o.d4)(Pl)||e})(),a=Tc(),{formatMessage:r}=(0,pe.A)(),l=(0,n.useCallback)((t=>{var r;e||(a({intersectionType:t}),f({action:"Table",label:`select tab ${Wm(t)}`}),r=t,Dt.A.track(Dt.A.eventName.applyFilter,{item_label:r,item_location:"keyword_gap.table.filters.pills"}))}),[e,a]);return n.createElement(de.A,{alignItems:"center","data-at":"keyword-filters",wMin:0},n.createElement(ws.A,{value:t,onChange:l,"data-at":"table-keyword-type-pills","data-path":"keyword_gap.table.filters.pills","aria-label":r({id:"ariaLabel.keywordType"}),wMin:0,"aria-controls":wc,behavior:"manual"},Jn.map((e=>n.createElement(ws.A.Item,{value:e,key:e,"data-at":`table-keyword-type-pill-${e}`,tag:Gr.Ay,timeout:aa.a4,title:r({id:`intersectionTypePills.tooltip.${e}`})},n.createElement(ws.A.Item.Text,{"data-at":"pill-text",wMin:0},n.createElement(Ms.A,{tooltip:!1},r({id:`keywords.${e}`}))),n.createElement(ws.A.Item.Addon,null,n.createElement(de.A,{wMin:5},n.createElement(Hm,{name:e}))))))))};Qm.propTypes={isFeatureLimited:v().bool};const Zm=Qm,Xm=e=>e.kgTable.limitError,ey=(0,ka.Mz)([Vl],(e=>Math.ceil(e/100))),ty=(0,ka.Mz)([e=>e.kgTable.selectedKeywords,e=>ho(e)],((e,t)=>{const a=bo(t);return e?.[a]??[]})),ay=(0,ka.Mz)([ty,(e,t)=>t],((e,t)=>Boolean(e.find((e=>e===t))||!1))),ry=(0,ka.Mz)([e=>To(e),ty],((e,t)=>e?.every((e=>t?.includes(e)??!1))??!1)),ny=(0,ka.Mz)([e=>To(e),ty],((e,t)=>e?.some((e=>t?.includes(e)??!1))??!1)),ly=(0,ka.Mz)([ty,e=>wo(e)],((e,t)=>e.map((e=>t[e]))));(0,ka.Mz)([e=>Ao(e)],(e=>{let t;for(let a=0;a<e.length;a++)if(""===e[a].keyword){t=a;break}return t}));var oy=a(38259);const iy=()=>{const{locale:e}=(0,pe.A)();return(0,n.useEffect)((()=>{f({action:"Something went wrong",label:"Table - Keyword Gap"})}),[]),n.createElement(Zt.A,{mt:10},n.createElement(oy.A,{locale:e}))},sy=n.memo(iy);function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},cy.apply(null,arguments)}const dy={duration:0,"data-at":"non-loading-skeleton"},py=({fields:e="",blurred:t=!1})=>n.createElement(Rc.Ay.Body,null,n.createElement(Rc.Ay.Cell,{name:e,h:44},(()=>({children:n.createElement(de.A,{alignItems:"center"},n.createElement(Oc,cy({width:"90%"},t?dy:{})))}))),n.createElement(Rc.Ay.Cell,{name:"id",justifyContent:"center"},(()=>({children:n.createElement(zd.A,{size:"m",disabled:!0},n.createElement(zd.A.Value,null))}))));py.propTypes={fields:v().string,blurred:v().bool};const uy=n.memo(py);var my=a(55885),yy=a(71325),gy=a.n(yy);const hy=(0,ke.VP)("requestSetTableSorting",(e=>({field:e}))),by=(0,ke.VP)("setTableSorting",((e,t)=>({field:e,direction:t}))),fy=(0,ke.VP)("setTableLimitError",(e=>({limitError:e}))),Ey=(0,ke.VP)("requestSetCurrentPage",(e=>({page:Number(e)}))),ky=(0,ke.VP)("updateCurrentPage",(e=>({page:e}))),vy=(0,ke.VP)("setCurrentPage",(e=>({page:e}))),wy=(0,ke.VP)("setPrevPage",(e=>({page:e}))),Ty=(0,ke.VP)("requestToggleSelectionKeyword",(e=>({id:e}))),Ay=(0,ke.VP)("toggleSelectionKeyword",((e,{page:t,...a})=>({id:e,params:a}))),Cy=(0,ke.VP)("selectAllKeywords",((e,{page:t,...a})=>({ids:e,params:a}))),Sy=(0,ke.VP)("selectAllKeywords",((e,{page:t,...a})=>({ids:e,params:a}))),xy=(0,ke.VP)("toggleAllSelection"),Ry=(0,ke.VP)("clearSlectedKeywords"),_y=()=>(0,o.d4)(ty),Ly=()=>{const e=_y();return e?.length??0},Oy=()=>(0,o.d4)(Xm),Py=async({requestId:e,database:t})=>{const a={requestId:e,report:ut.REPORT_NAME.meta},r={database:t,api_key:P.A.apiKey,report_type:ut.REPORT_NAME.gap};return await kt.fetchData("/Meta/UserPermissions",a,r)},Iy=async({requestId:e})=>{const t={requestId:e,report:ut.REPORT_NAME.meta},a={api_key:P.A.apiKey};return(await kt.fetchData("/Meta/UserDatabases",t,a)).databases},My=async({requestId:e,db:t,device:a})=>{const r={requestId:e,report:ut.REPORT_NAME.gap},n={database:(0,pt.prepareDatabase)(t,a)},{daily:l,monthly:o}=await kt.fetchData("/Meta/SnapshotDates",r,n);return{daily:[l[l.length-1]].map(pt.dateObjectToString),monthly:o.map(pt.dateObjectToString)}},Dy=(0,ke.VP)("requestKeywords",(({reload:e=!1})=>({reload:e}))),Fy=(0,ke.VP)("getKeywordsSuccess",((e,t)=>({data:e,pageParams:t}))),Ny=(0,ke.VP)("startFetchKeywords",(e=>({params:e}))),jy=(0,ke.VP)("dataFound"),$y=()=>{const e=(0,o.wA)(),[t,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),i=(0,o.d4)(Qe.Lf),s=(0,o.d4)(Qe.Pf);return{isConnectDBInProcess:r,isConnectDBError:t,onConnectDb:()=>{l(!0),(async()=>{try{const t=await(async({db:e,device:t})=>{const a={report:ut.REPORT_NAME.meta},r={database:(0,pt.prepareDatabase)(e,t),api_key:P.A.apiKey};return await kt.fetchData("/Meta/SetUserDatabasePermission",a,r)})({db:i,device:s});l(!1),null!=t?.code?a(!0):(e(Dy({reload:!0})),e(Se((0,xt.Z0)(i,s))))}catch(e){console.warn(e),l(!1),a(!0)}})()}}},qy=({connectedDBCount:e,maxDbCount:t})=>e<t?0===e?n.createElement(Xt.A,{id:"tinydbLandings.connectDatabases",values:{NUM:t,br:()=>n.createElement("br",null)}}):n.createElement(Xt.A,{id:"tinydbLandings.seeResults",values:{countOpen:e,countAvailable:t,br:()=>n.createElement("br",null)}}):n.createElement(Xt.A,{id:"tinydbLandings.connectSales",values:{br:()=>n.createElement("br",null)}});qy.propTypes={connectedDBCount:v().number.isRequired,maxDbCount:v().number.isRequired};const Uy=qy,Vy=(0,ce.default)(de.A)`
  position: relative;
  top: 130px;
`,zy=({connectedDBCount:e,maxDbCount:t,isConnectLoading:a,onContactSalesClick:r,onConnectDbClick:l})=>{const o=e<t;return n.createElement(Vy,{direction:"column",alignItems:"center",hMin:400},n.createElement(de.A,{direction:"column",alignItems:"center"},n.createElement(fr.A,{size:500,tag:"p",lineHeight:1.12,mb:4,medium:!0},n.createElement(Xt.A,{id:"tinydbLandings.title"})),n.createElement(fr.A,{size:200,tag:"p",mb:8,textAlign:"center"},n.createElement(Uy,{connectedDBCount:e,maxDbCount:t})),n.createElement(de.A,{direction:"column",alignItems:"center"},n.createElement(ea.A,{size:"l",use:"primary",theme:"success",onClick:o?l:r,loading:a,loadingTip:n.createElement(Xt.A,{id:"tinydbLandings.loading"})},o?n.createElement(Xt.A,{id:"tinydbLandings.connectToMore"}):n.createElement(Xt.A,{id:"tinydbLandings.contactSales"})))))};zy.propTypes={connectedDBCount:v().number.isRequired,maxDbCount:v().number.isRequired,isConnectLoading:v().bool.isRequired,onContactSalesClick:v().func.isRequired,onConnectDbClick:v().func.isRequired};const Ky=zy,By=({userRole:e})=>{const{isConnectDBInProcess:t,onConnectDb:a}=$y(),r=(0,o.d4)(ir),l=(0,o.d4)(Qe.Lf);(0,n.useEffect)((()=>{t||f({action:Jm(void 0),label:"table tiny - show limit popup"})}),[t]);const s=r>=2;return(0,n.useEffect)((()=>((e,t)=>f({action:Jm(e),label:`table tiny - ${t} limit`}))(e,l)),[s,e,l]),n.createElement(Zt.A,{hMin:400},n.createElement(Ky,{connectedDBCount:r,maxDbCount:2,isConnectLoading:t,onContactSalesClick:()=>{(e=>{f({action:Jm(e),label:"table tiny - contact sales"})})(e),i.BillingUI.customPlanRequest(!0)},onConnectDbClick:()=>{((e,t)=>{f({action:Jm(e),label:`table tiny - connect ${t}`})})(e,l),a()}}))};By.propTypes={userRole:v().string.isRequired};const Jy=By;function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wy.apply(null,arguments)}const Gy=({userRole:e,onLogin:t})=>i.USER_ROLES.isGuest(e)?n.createElement(ea.A,{theme:"link",type:"primary",size:"m",onClick:t},n.createElement(Xt.A,{id:"buttons.logIn"})):null;Gy.propTypes={userRole:v().string.isRequired,onLogin:v().func.isRequired};const Yy=Gy,Hy=(0,ce.default)(de.A)`
  position: relative;
  top: 130px;
`,Qy=({userRole:e,onPlansClick:t,onLogin:a})=>n.createElement(Hy,{direction:"column",alignItems:"center",hMin:400},n.createElement(de.A,{direction:"column",alignItems:"center"},n.createElement(fr.A,{size:500,tag:"p",lineHeight:1.12,mb:4,medium:!0},n.createElement(Xt.A,{id:"tinydbLandings.title"})),n.createElement(fr.A,{size:200,tag:"p",mb:8},n.createElement(Xt.A,{id:"tinydbLandings.text"})),n.createElement(de.A,{direction:"column",alignItems:"center"},n.createElement(de.A,null,n.createElement(ea.A,{size:"l",use:"primary",theme:"success",onClick:t},n.createElement(Xt.A,{id:"limitBlock.pro.upgradeText"}))),n.createElement(Yy,{userRole:e,onLogin:a}))));Qy.propTypes={userRole:v().string.isRequired,onPlansClick:v().func.isRequired,onLogin:v().func.isRequired};const Zy=Qy,Xy=({userRole:e,onSubscribe:t,onLogin:a})=>n.createElement(Zt.A,{hMin:400},n.createElement(Zy,{userRole:e,onPlansClick:()=>{(e=>{f({action:Jm(e),label:"table tiny - see plans"})})(e),t(i.USER_ROLES.pro)},onLogin:a}));Xy.propTypes={userRole:v().string.isRequired,onSubscribe:v().func.isRequired,onLogin:v().func.isRequired};const eg=(e=>{const t=({modalComponent:t,onLoginClick:a=()=>{},onSubscribeClick:r=()=>{},onRegisterClick:l=()=>{},onPageChange:s=()=>{},...c})=>{const[d,p]=(0,n.useState)(!1),u=(0,o.d4)(mo),m=(0,o.d4)(uo);return n.createElement(de.A,{direction:"column",h:"100%"},n.createElement(e,Wy({onLogin:()=>{window?.sm2?.authentication?window.sm2.authentication.open({tab:"login",login_callback:`${window.location.href}`}):console.warn("can't open log in window"),a()},onSubscribe:e=>{i.BillingUI.quickUpgradePopup({upgradeTo:e,source:j}),r()},onRegister:()=>{window?.sm2?.authentication?window.sm2.authentication.open({tab:"register",registration_callback:`${window.location.href}`}):console.warn("can't open register window"),l()},onPrevPage:()=>{s(u)},onModalOpen:()=>{p(!0)},page:m},c)),n.createElement(Wo.A,{visible:d,onClose:()=>{p(!1)}},t))};return t.propTypes={modalComponent:v().element,onSubscribeClick:v().func,onLoginClick:v().func,onRegisterClick:v().func,onPageChange:v().func},t.defaultProps={modalComponent:n.createElement("span",null,"this is modal"),onSubscribeClick:()=>{},onLoginClick:()=>{},onRegisterClick:()=>{},onPageChange:()=>{}},t})(Xy),tg=()=>{const{userRole:e}=dt();return i.USER_ROLES.hasProduct(e)?n.createElement(Jy,{userRole:e}):n.createElement(eg,{userRole:e})},ag=(0,ce.default)(Zt.A)`
  min-height: ${e=>e.isFree?"400px":"0"};
  left: 0;
  right: 0;
  top: 0;
  z-index: 2;
  word-break: break-all;
`,rg=()=>{const{userRole:e,isTrialAllowed:t}=dt(),a=(0,o.d4)(sr),r=(0,o.d4)(cr),l=(()=>{const e=(0,o.wA)(),t=(0,n.useCallback)((t=>{e(Ey(t))}),[e]);return t})(),s=(()=>{const e=(0,o.wA)();return(0,n.useCallback)((()=>{e(fy(!1))}),[e])})(),c=(0,n.useCallback)((()=>window.location.reload()),[]),d=(0,n.useCallback)((()=>{const t=(0,yy.getLastAvailablePage)(e);s(),l(t)}),[l,s,e]);return a&&!r?n.createElement(Zt.A,{position:"absolute",zIndex:2,w:"100%"},n.createElement(tg,null)):n.createElement(ag,{position:"absolute",zIndex:2,w:"100%",isFree:!i.USER_ROLES.hasProduct(e)},n.createElement(br.ConditionalWrapper,{condition:!i.USER_ROLES.hasProduct(e),wrapper:e=>n.createElement(my.A,null,e)},n.createElement(Zt.A,{pt:46},n.createElement(gy(),{ga:f,userRole:e,onUpgradeSuccess:c,onViewLastPage:d,isTrialAllowed:t&&i.USER_ROLES.canUseTrial(e),source:j}))))},ng=(0,ce.default)(Zt.A)`
  background: #fff;
  opacity: 0.8;
`,lg=({fields:e=""})=>n.createElement(Zt.A,{position:"relative"},n.createElement(ng,{w:"100%",h:"100%",position:"absolute",zIndex:1}),n.createElement(uy,{fields:e,blurred:!0}));lg.propTypes={fields:v().string};const og=n.memo(lg);var ig=a(27394);function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},sg.apply(null,arguments)}const cg=({title:e=null,description:t=null,withButton:a=!1,withIcon:r=!1,onClick:l=null,...o})=>n.createElement(ig.A,sg({icon:!!r&&(0,ig.h)("table")},o),n.createElement(ig.A.Title,null,e||n.createElement(Xt.A,{id:"noresults.title"})),n.createElement(ig.A.Description,null,t||n.createElement(Xt.A,{id:"noresults.body"})),a&&Boolean(l)?n.createElement(Zt.A,{mt:4},n.createElement(ea.A,{onClick:l},n.createElement(Xt.A,{id:"noresults.clearFilters"}))):null);cg.propTypes={title:v().oneOfType([v().object,v().string]),description:v().oneOfType([v().object,v().string]),withButton:v().bool,withIcon:v().bool,onClick:v().func};const dg=cg,pg=()=>{const e=(0,o.d4)(po),t=(0,o.wA)(),a=(0,o.d4)(Ml),r=(0,n.useCallback)((()=>{t(bd()),f({action:"Table",label:`click Clear filters - ${Wm(a)}`})}),[t]);return(0,n.useEffect)((()=>{f(e?{action:"Table",label:`show Clear filters - ${Wm(a)}`}:{action:"No data",label:`Table - ${Wm(a)}`})}),[]),n.createElement(Zt.A,{mt:6},n.createElement(dg,{title:n.createElement(Xt.A,{id:"noresults.table.title",values:{intersectionType:n.createElement(Xt.A,{id:`noresults.table.intersectionType.${a}`})}}),description:n.createElement(Xt.A,{id:`noresults.table.body.${a}`}),withButton:e,onClick:r,withIcon:!0}))},ug=({isFetching:e=!1,hasData:t=!0,isLoaded:a=!1,hasError:r=!1,fields:l="",showLimit:o=!1,children:i=null})=>e?n.createElement(uy,{fields:l}):!t&&a?n.createElement(Zt.A,{mt:10},n.createElement(pg,null)):r?n.createElement(sy,null):o?n.createElement(n.Fragment,null,i,n.createElement(de.A,{position:"relative",direction:"column"},n.createElement(og,{fields:l}),n.createElement(rg,null))):i;ug.propTypes={isFetching:v().bool,hasData:v().bool,isLoaded:v().bool,hasError:v().bool,children:v().any,fields:v().string,showLimit:v().bool};const mg=ug;var yg=a(61105);const gg="Pagination",hg=()=>{f({action:gg,label:"first page"})},bg=()=>{f({action:gg,label:"prev"})},fg=()=>{f({action:gg,label:"next"})},Eg=()=>{f({action:gg,label:"last page"})},kg=e=>{f({action:gg,label:"page number + enter",value:e})},vg=e=>{f({action:gg,label:"page number + button",value:e})},wg=e=>{f({action:gg,label:"page number",value:e})},Tg=()=>({gaClickFirstPage:hg,gaClickPrevPage:bg,gaClicNextPage:fg,gaSubmitInput:kg,gaClickEnter:vg,gaClickLastPage:Eg,gaClickPage:wg});function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ag.apply(null,arguments)}const Cg=({...e})=>{const{gaClickFirstPage:t,gaClickPrevPage:a,gaClicNextPage:r,gaSubmitInput:l,gaClickLastPage:i,gaClickPage:s}=Tg(),{locale:c}=(0,pe.A)(),d=(0,o.d4)(uo),p=(0,o.d4)(ey),u=Oy(),[m,y]=(0,n.useState)(d);(0,n.useEffect)((()=>{u||y(d)}),[y,d,u]);const g=(0,o.wA)(),h=(0,n.useCallback)((e=>{s(e),g(Ey(e)),setTimeout((()=>{od(wc)}),100)}),[g]);return p<=1?null:n.createElement(de.A,Ag({},e,{alignItems:"center"}),n.createElement(yg.A,{currentPage:m,onCurrentPageChange:h,totalPages:p,locale:c,"aria-controls":wc},n.createElement(yg.A.FirstPage,{onClick:t}),n.createElement(yg.A.PrevPage,{onClick:a}),n.createElement(yg.A.NextPage,{onClick:r}),n.createElement(yg.A.PageInput,{onKeyPress:({key:e})=>{"Enter"===e&&l()}}),n.createElement(yg.A.TotalPages,{mr:4,onClick:i})))},Sg=({fields:e=[],isLimitedItems:t=!1,isLimited:a=!1,children:r=null,isFetching:l=!1,hasData:o=!1,isLoaded:i=!1,hasError:s=!1})=>{const c=t||a;return n.createElement(mg,{isFetching:l,hasData:o,isLoaded:i,hasError:s,fields:e.join("/"),showLimit:c},!a&&r,!c&&n.createElement(Cg,{ml:5,mt:5}))};Sg.propTypes={isLimitedItems:v().bool,isLimited:v().bool,children:v().oneOfType([v().element,v().array]),isFetching:v().bool,hasData:v().bool,isLoaded:v().bool,hasError:v().bool,fields:v().array};const xg=Sg;function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rg.apply(null,arguments)}const _g=[1e3,10],Lg={overflow:"hidden"},Og=({children:e,...t})=>n.createElement(Gr.Ay.Trigger,Rg({"data-at":"tooltip-trigger"},t),e),Pg=({children:e,...t})=>n.createElement(Gr.Ay.Popper,t,e),Ig=({children:e,...t})=>n.createElement(Gr.Ay,Rg({interaction:"hover",timeout:_g},t),e),Mg=({title:e,children:t,...a})=>n.createElement(Gr.Ay,Rg({interaction:"hover",timeout:_g},a),n.createElement(Gr.Ay.Trigger,{"data-at":"tooltip-trigger",style:Lg},t),n.createElement(Gr.Ay.Popper,{"data-at":"tooltip-popper"},e));Mg.propTypes={title:v().oneOfType([v().string,v().object]).isRequired,children:v().element.isRequired},Ig.propTypes={children:v().node.isRequired},Pg.propTypes={children:v().node.isRequired},Og.propTypes={children:v().node.isRequired};Og.displayName="Trigger",Pg.displayName="Popper",Ig.Trigger=Og,Ig.Popper=Pg;v().oneOfType([v().string,v().element]),v().oneOfType([v().string,v().element]),v().number,v().number,v().number;const Dg=e=>e.filter((({visible:e})=>void 0===e||e)),Fg=(e,t)=>[...new Array(t)].map((()=>Object.fromEntries(e.map((({name:e})=>[e,""]))))),Ng=i.USER_ROLES.pro,jg=({data:e=[],sort:t=[],tableFields:a=[],tableId:r="",children:l=null,isFetching:o=!1,isLimited:i=!1,onSort:s=()=>{}})=>{const[c,d]=(0,n.useState)(!1),{isLimited:p,openLimitPopup:u,RenderModal:m}=Di("filter_sorting",Ng),y=(0,n.useMemo)((()=>i?(e=>Fg(e,10))(Dg(a)):o?(e=>Fg(e,3))(Dg(a)):e),[i,o,e,a]);return n.createElement(Rc.Ay,{data:y,sort:t,id:r,onSortChange:e=>{return p?(u(),void d(!0)):(s(...e),f({action:"Table sort",label:`sort by ${e[0]} ${e[1].toUpperCase()}`}),t=e[0],a=e[1],Dt.A.track(Dt.A.eventName.sortItems,{item_location:"keyword_gap.table.sort",item_label:E(t),type:a}),!1);var t,a},"data-at":"data-table","data-path":"keyword_gap.table.sort",compact:!0},l,n.createElement(m,{visible:c,onClose:()=>d(!1),gaContext:"sorting"}))};jg.propTypes={data:v().array,sort:v().array,tableId:v().string,onSort:v().func,children:v().oneOfType([v().element,v().array]),isFetching:v().bool,isLimited:v().bool,tableFields:v().array};const $g=n.memo(jg);a(90655);v().number.isRequired,v().object;const qg=({items:e=[],sortField:t="traffic",sortDirection:a="desc",isLoaded:r=!1,tableId:l="table",tableName:o="table",tableFields:i=[],isFetching:s=!1,hasData:c=!1,hasError:d=!1,isLimited:p=!1,thead:u=null,children:m=null,page:y=0,total:g=0,onSort:h=()=>{}})=>{const b=(({total:e,itemsCount:t,page:a,itemsOnPage:r=100})=>t<(({itemsOnPage:e=100,total:t,page:a})=>a<(({itemsOnPage:e=100,total:t})=>Math.ceil(t/e))({itemsOnPage:e,total:t})?e:t%e)({itemsOnPage:r,total:e,page:a}))({page:y,total:g,itemsCount:e.length}),f=(0,n.useMemo)((()=>[t,a]),[t,a]),E=(0,n.useMemo)((()=>i.map((({name:e})=>e))),[i]);return n.createElement($g,{data:e,sort:f,tableId:l,tableName:o,tableFields:i,isFetching:s,isLimited:p,onSort:h},u,n.createElement(xg,{tableId:l,isLoaded:r,fields:E,isLimitedItems:b,isFetching:s,hasData:c,hasError:d,isLimited:p},m))};qg.propTypes={items:v().array,sortField:v().string,sortDirection:v().oneOf(["asc","desc"]),isLoaded:v().bool,tableId:v().string,tableName:v().string,tableFields:v().array,thead:v().element,isFetching:v().bool,hasData:v().bool,hasError:v().bool,isLimited:v().bool,onSort:v().func,children:v().element,page:v().number,total:v().number};const Ug=n.memo(qg),Vg="position_",zg=(i.USER_ROLES.pro,()=>{const e=(0,o.d4)(Ao);return Array.isArray(e)&&e.length>0}),Kg=()=>{const e=(0,o.d4)(Eo),t=(0,o.d4)(To),a=zg();return{isLoading:e||null===t,showSkeleton:e&&!a}},Bg=({value:e})=>{const t=(0,o.d4)(er),a=(0,o.d4)((a=>tr(a,t,e)));return n.createElement(xc.FormattedNumber,{style:"decimal",value:a,minimumFractionDigits:2})};Bg.propTypes={value:v().number.isRequired};const Jg=n.memo(Bg);var Wg=a(350);const Gg=e=>(0,o.d4)((t=>ay(t,e))),Yg=({id:e,data:t=[],keyword:a=""})=>{const r=(0,o.wA)(),l=Gg(e);return n.createElement(de.A,{mt:"2px"},n.createElement(Wg.IntentCells,{id:e,data:t,keyword:a,onClick:e=>{r(Td.requestSetFilter([e])),r(Od()),f({category:"keyword-gap:table",action:"click:intent",label:"table:filter-by-intent"})},onVisibleChange:e=>{e&&f({category:"keyword-gap:table",action:"show:intent-tooltip",label:"tooltip:show"})},inverted:l,size:"16px"}))};Yg.propTypes={id:v().string.isRequired,data:v().array,keyword:v().string};const Hg=n.memo(Yg),Qg=()=>n.createElement(kr.A,{w:"16px",h:"16px"},n.createElement("circle",{cx:"8",cy:"8",r:"8"})),Zg=(0,n.lazy)((()=>a.e(838).then(a.bind(a,81801)))),Xg=e=>n.createElement(n.Suspense,{fallback:n.createElement(Qg,null)},n.createElement(Zg,e)),eh=({keyword:e,data:t={},positionRef:a={}})=>n.createElement(de.A,null,n.createElement(Zt.A,{pr:1,position:"relative",top:"2px"},n.createElement(Xg,{keyword:e})),n.createElement(Bc,{keyword:e,data:t,positionRef:a,size:200}));eh.propTypes={keyword:v().string.isRequired,data:v().object,positionRef:v().object};const th=n.memo(eh),{useIntlHelpers:ah}=_e(),rh=({value:e})=>{const{formatCompactNumber:t}=ah();return t(e)};rh.propTypes={value:v().number.isRequired};const nh=n.memo(rh),lh=e=>new RegExp(`${Vg}\\d`).test(e),oh=e=>`${Vg}${e}`,ih=new Map([["searchItems","asc"],["volume","desc"],["keywordDifficulty","desc"],["cpc","desc"],["comp","desc"],["results","desc"]]);var sh=a(59399),ch=a(45133),dh=a(11175),ph=a(55412);const uh="Table",mh=()=>f({action:uh,label:"Position URL Show"}),yh=()=>f({action:uh,label:"Position URL Copy"}),gh=()=>f({action:uh,label:"Position URL Open"}),hh=()=>f({action:uh,label:"Position URL Click"}),bh=()=>({gaChangeVisibility:mh,gaCopyClick:yh,gaOpenUrl:gh}),fh=(0,ce.default)(Zt.A)`
  text-align: right;
  cursor: pointer;
`,Eh=(0,ce.default)(Gr.Ay.Trigger)`
  width: 100%;
  display: flex;
  justify-content: flex-end;
`,kh=(0,ce.default)(Zt.A)`
  word-break: break-all;
`,vh=e=>{const{children:t,url:a}=e,[r,l]=(0,n.useState)(!1),{gaChangeVisibility:o,gaCopyClick:i,gaOpenUrl:s}=bh(),[c,d]=(0,n.useState)(!1);return n.createElement(Gr.Ay,{placement:"top-end",timeout:[750,100],wMin:250,onVisibleChange:e=>{e?r||e===c||o():l(!1),d(e)}},n.createElement(Eh,{"data-at":"tooltip-trigger",tabIndex:0},n.createElement(fh,null,t)),r?n.createElement(Gr.Ay.Popper,{"data-at":"tooltip-popper"},n.createElement(de.A,{alignItems:"center"},n.createElement(ph.A,{mr:2,color:"green"}),n.createElement(fr.A,{size:200,color:"green"},n.createElement(Xt.A,{id:"kgTable.linkTooltip.linkCopied"})))):n.createElement(Gr.Ay.Popper,{"data-at":"tooltip-popper",wMax:"min-content"},n.createElement(de.A,{direction:"column"},n.createElement(kh,{mb:2,onClick:hh},a),n.createElement(de.A,null,n.createElement(sh.CopyToClipboard,{text:a,onCopy:()=>{l(!0),i()}},n.createElement(ea.A,{mr:2},n.createElement(ea.A.Addon,null,n.createElement(ch.A,null)),n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"kgTable.linkTooltip.copyUrl"})))),n.createElement(ea.A,{onClick:()=>{window.open(a,"_blank"),s()}},n.createElement(ea.A.Addon,null,n.createElement(dh.A,null)),n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"kgTable.linkTooltip.openUrl"})))))))};vh.propTypes={children:v().node.isRequired,url:v().string.isRequired};const wh=n.memo(vh),Th=({url:e,value:t=0})=>t?n.createElement(wh,{url:e},n.createElement(xc.FormattedNumber,{value:t})):n.createElement(xc.FormattedNumber,{value:t});Th.propTypes={url:v().string.isRequired,value:v().number};const Ah={Intent:Hg,Keyword:th,SearchItem:n.memo(Th),Number:nh,hooks:{useWinnerCell:()=>{const e=(0,o.d4)(Sl.S3),t=Yd(),a=t?.length??0;return{getTheme:(t,r=[])=>{const n=e?((e,t)=>{if(null==e||0===e.length)return 0;const{index:a}=[...Array(t)].map(((t,a)=>e[a])).reduce(((e,t,a)=>null!=t&&t<e.min?{min:t,index:a}:e),{min:Number.MAX_VALUE,index:null});return a})(r,a):null;return t===oh(n)?"success":null}}}}},Ch=()=>f({category:"keyword-gap:table",action:"click:intent-detail",label:"kb:show"}),Sh=()=>({gaKBShow:Ch}),xh=()=>{const{gaKBShow:e}=Sh(),t=(0,n.useCallback)((()=>{e()}),[e]);return n.createElement(ss.A,{href:"/kb/28-keyword-gap ",target:"_blank",onClick:t},n.createElement(Xt.A,{id:"featurePopover.intent.kbLink"}))},Rh=({title:e="",children:t=null})=>n.createElement(n.Fragment,null,e&&n.createElement(fr.A,{size:200,bold:!0,tag:"p",mb:1,"data-at":"tooltip-title"},e),n.createElement(fr.A,{size:200,tag:"p","data-at":"tooltip-text"},t));Rh.propTypes={title:v().oneOfType([v().element,v().string]),children:v().oneOfType([v().element,v().string])};const _h=Rh,Lh=()=>{const e=(0,o.wA)(),t=(0,n.useRef)(null),a=zg(),{isLoading:r}=Kg(),{formatMessage:l}=(0,pe.A)(),i=(0,o.d4)(ry),s=(0,o.d4)(ny),c=(0,n.useCallback)((()=>{e(xy()),f({action:"Select rows",label:t.current.checked?"all on page":"deselect all"})}),[e]),d=a&&!r&&i,p=a&&!r&&s&&!i;return n.createElement(de.A,{h:14},n.createElement(zd.A,{size:"m","aria-label":l({id:"ariaLabel.selectAllKeywords"})},n.createElement(zd.A.Value,{mt:0,ref:t,checked:d,indeterminate:p,onChange:c})))};function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Oh.apply(null,arguments)}const Ph=({index:e,...t})=>n.createElement(ln,Oh({color:sn(e)},t));Ph.propTypes={index:v().number.isRequired};const Ih=Ph,Mh=()=>(0,ka.Mz)([Sl.N3,(e,t)=>t,Rl],((e,t,a)=>({...e[t],mode:a}))),Dh=()=>{const e=(0,o.d4)(yo),t=(0,o.d4)(go);return["number"==typeof e?`${Vg}${e}`:e,t]},Fh={asc:"desc",desc:"asc"},Nh=(0,ce.default)(Zt.A)`
  width: 100%;
  overflow: hidden;

  ${({searchItemsLength:e})=>e>2?"@media screen and (min-width: 1540px) {width: 120px;}":""}
`,jh=(0,ce.default)(de.A)`
  text-transform: capitalize;
  color: #6c6e79;
`,$h=({index:e,setRef:t,searchItemsLength:a=0})=>{const{searchItem:r,searchType:l,keywordType:i,mode:s}=(e=>{const t=(0,n.useMemo)(Mh,[]);return(0,o.d4)((a=>t(a,e)))})(e);return n.createElement(Nh,{searchItemsLength:a,ref:t},n.createElement(de.A,{alignItems:"center"},n.createElement(Zt.A,{w:12,h:12,pr:1},n.createElement(Ih,{index:e,radius:12})),n.createElement(Ms.A,{tooltip:!1},Gd(_t(r),l))),"advanced"===s&&n.createElement(jh,{ml:4},n.createElement(Xt.A,{id:`keywordTypes.short.${i}`})))};$h.propTypes={index:v().number.isRequired,searchItemsLength:v().number};const qh=n.memo($h),Uh=({miniKOPositionRef:e})=>{const[t,a]=Dh(),{getSortByAriaLabel:r}=((e,t)=>{const{formatMessage:a}=(0,pe.A)();return{getSortByAriaLabel:(r,n="")=>{const l=lh(r),o=e===r?Fh[t]:l?"asc":"desc",i=l?_t(n):a({id:`kgTable.header.${r}`});return a({id:"ariaLabel.sortByField"},{DIR:a({id:`ariaLabel.${o}Order`}),FIELD:i})}}})(t,a),l="advanced"===(0,o.d4)(Rl)?60:40,i=Yd(),s=i?.length??0;return n.createElement(my.A,{zIndex:3,top:60},n.createElement(Rc.Ay.Head,{wMin:1040,h:l},n.createElement(Rc.Ay.Column,{name:"id","data-at":"id-header",justifyContent:"center",wMin:49,flex:0},n.createElement(Lh,null)),n.createElement(Rc.Ay.Column,{name:"keyword","data-at":"keyword-header",flex:"1 0 150px",tabIndex:0,tag:Gr.Ay,timeout:aa.a4,placement:"top-start",title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.keyword"})},n.createElement(Xt.A,{id:"kgTable.header.tooltip.keyword"}))},n.createElement(Ms.A,{tooltip:!1},n.createElement(Xt.A,{id:"kgTable.header.keyword"}))),n.createElement(Rc.Ay.Column,{name:"intents","data-at":"intents-header",alignItems:"left",wMin:52,wMax:52,tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"columns.intent"})},n.createElement(n.Fragment,null,n.createElement(Xt.A,{id:"tooltips.column.positions.intents"}),n.createElement(xh,null)))},n.createElement(Ms.A,{tooltip:!1},n.createElement(Xt.A,{id:"columns.intent"}))),i.map(((t,a)=>{const l=oh(a);return n.createElement(Rc.Ay.Column,{name:l,"data-at":`${l}-header`,key:l,sortable:"asc",flex:"0 0 100px",wMax:150,justifyContent:"flex-end","aria-label":r(l,t),tag:Gr.Ay,timeout:aa.a4,title:n.createElement(Xt.A,{id:"kgTable.header.tooltip.competitor"})},n.createElement(qh,{index:a,setRef:0===a?e:null,searchItemsLength:s}))})),n.createElement(Rc.Ay.Column,{name:"volume","data-at":"volume-header",sortable:!0,wMin:69,wMax:80,justifyContent:"flex-end","aria-label":r("volume"),tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.volume"})},n.createElement(Xt.A,{id:"kgTable.header.tooltip.volume"}))},n.createElement(Ms.A,{tooltip:!1},n.createElement(Xt.A,{id:"kgTable.header.volume"}))),n.createElement(Rc.Ay.Column,{name:"keywordDifficulty","data-at":"keywordDifficulty-header",sortable:!0,wMin:64,wMax:80,justifyContent:"flex-end","aria-label":r("kd"),tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.kd"})},n.createElement(Zt.A,null,n.createElement(Xt.A,{id:"kgTable.header.tooltip.kd"}),n.createElement(Zt.A,null,n.createElement(ss.A,{href:"/kb/257-keyword-overview#kdscore",target:"_blank"},n.createElement(Xt.A,{id:"kgTable.header.tooltip.kbLink"})))))},n.createElement(Xt.A,{id:"kgTable.header.kd"})),n.createElement(Rc.Ay.Column,{name:"cpc","data-at":"cpc-header",sortable:!0,wMin:69,wMax:80,justifyContent:"flex-end","aria-label":r("cpc"),tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.cpc"})},n.createElement(Xt.A,{id:"kgTable.header.tooltip.cpc"}))},n.createElement(Xt.A,{id:"kgTable.header.cpc"})),n.createElement(Rc.Ay.Column,{name:"comp","data-at":"comp-header",sortable:!0,wMin:57,wMax:80,justifyContent:"flex-end","aria-label":r("competitive"),tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.competitive"})},n.createElement(Xt.A,{id:"kgTable.header.tooltip.comp"}))},n.createElement(Xt.A,{id:"kgTable.header.competitive"})),n.createElement(Rc.Ay.Column,{"data-at":"results-header",name:"results",sortable:!0,wMin:81,wMax:92,justifyContent:"flex-end","aria-label":r("results"),tabIndex:0,tag:Gr.Ay,timeout:aa.a4,title:n.createElement(_h,{title:n.createElement(Xt.A,{id:"kgTable.header.results"})},n.createElement(Xt.A,{id:"kgTable.header.tooltip.results"}))},n.createElement(Xt.A,{id:"kgTable.header.results"}))))},Vh=({id:e,keyword:t})=>{const a=(0,o.wA)(),r=(0,n.useRef)(null),{formatMessage:l}=(0,pe.A)(),i=Gg(e),s=(0,n.useCallback)((()=>{a(Ty(e)),f({action:"Select rows",label:(r.current.checked?"select":"unselect")+" specific"})}),[e,a]);return n.createElement(zd.A,{size:"m","aria-label":l({id:"ariaLabel.selectKeyword"},{KEYWORD:t})},n.createElement(zd.A.Value,{ref:r,checked:i,onChange:s}))};Vh.propTypes={id:v().string.isRequired,keyword:v().string.isRequired};const zh=n.memo(Vh),Kh=[{name:"id",align:"right"},{name:"keyword",align:"right"},{name:"intents",align:"center"},{name:"volume",align:"right",sortable:!0},{name:"keywordDifficulty",align:"right",sortable:!0},{name:"cpc",align:"right",sortable:!0},{name:"comp",align:"right",sortable:!0},{name:"results",align:"right",sortable:!0}],Bh=Kh.map((({name:e})=>e)),Jh="keyword_gap.table",Wh=()=>(0,n.useMemo)((()=>({gaWidgetNoData:()=>El({itemLocation:Jh}),gaWidgetSuccess:()=>fl({itemLocation:Jh}),gaWidgetSww:()=>kl({itemLocation:Jh})})),[]),{useWinnerCell:Gh}=Ah.hooks,Yh=()=>{const e=(0,n.useRef)(),{formatNumber:t,formatMessage:a}=(0,pe.A)(),r=(0,o.wA)(),{isKeywordSelected:l}=(()=>{const e=(0,o.d4)(ty);return{isKeywordSelected:(0,n.useCallback)((t=>e.includes(t)),[e])}})(),i=(0,o.d4)(Vl),s=(0,o.d4)(uo),{gaWidgetNoData:c,gaWidgetSuccess:d,gaWidgetSww:p}=Wh(),{isLoading:u}=Kg(),m=(()=>{const e=(0,o.d4)(Ao).map((e=>{const t=e.positions.reduce(((e,t,a)=>({...e,[`${Vg}${a}`]:t})),{});return{...e,...t}}));return e})(),y=zg(),g=(0,o.d4)(ko),[h,b]=Dh(),f=(0,o.d4)(Xm),E=Yd(),{getTheme:k}=Gh();(0,n.useEffect)((()=>{u||y||c()}),[c,u,y]),(0,n.useEffect)((()=>{g&&!u&&p()}),[p,g,u]),(0,n.useEffect)((()=>{g||!y||u||d()}),[d,g,u,y]);const v=(0,n.useCallback)((e=>{const t=lh(e)?Number(e.match(/\d+/)[0]):e;return r(hy(t)),setTimeout((()=>{od(wc)}),100),!1}),[r]),w=((e,t)=>e&&0!==e.length?[e[0],...t.map(((e,t)=>({name:oh(t)}))),...e.slice(1)]:[])(Kh,E),T=E.map(((e,t)=>oh(t)));return n.createElement("div",{id:wc,"data-at":"keywordgap-table","data-path":Jh},n.createElement(Ug,{tableId:"kg_table",tableName:"kg_table",tableFields:w,items:m,sortField:h,sortDirection:b,onSort:v,isFetching:u,isLoaded:!u,hasData:!u&&y,hasError:g,isLimited:f,thead:n.createElement(Uh,{miniKOPositionRef:e}),total:i,page:s},n.createElement(Rc.Ay.Body,null,n.createElement(Rc.Ay.Row,null,(({theme:e},t)=>({theme:l(t.id)?"info":e}))),n.createElement(Rc.Ay.Cell,{name:[...Bh,...T].join("/"),alignItems:"baseline",justifyContent:"flex-end"}),n.createElement(Rc.Ay.Cell,{name:"id",alignItems:"baseline",justifyContent:"center"},(({name:e},t)=>({children:n.createElement(zh,{id:t?.[e],keyword:t?.keyword})}))),n.createElement(Rc.Ay.Cell,{name:"keyword",justifyContent:"flex-start"},(({name:t},a)=>({children:n.createElement(Ah.Keyword,{keyword:a[t],data:a,positionRef:e})}))),n.createElement(Rc.Ay.Cell,{name:"intents",justifyContent:"center"},(({name:e},t)=>({children:n.createElement(Ah.Intent,{data:t[e],id:t?.id,keyword:t?.keyword})}))),E.map(((e,t)=>{const r=oh(t);return n.createElement(Rc.Ay.Cell,{key:`${r}${e}`,name:r},(({name:l},o)=>{const i=a({id:"ariaLabel.tableCell.competitor"},{DOMAIN:e,KEYWORD:o?.keyword,VALUE:o[r]});return{theme:k(l,o?.positions??[]),children:n.createElement(Zt.A,{"aria-label":i},n.createElement(Ah.SearchItem,{url:o.urls[t],value:o[l]}))}}))})),n.createElement(Rc.Ay.Cell,{name:"volume/results"},(({name:e},t)=>({children:n.createElement(Zt.A,{"aria-label":a({id:`ariaLabel.tableCell.${e}`},{VALUE:t[e]})},n.createElement(Ah.Number,{value:t[e]}))}))),n.createElement(Rc.Ay.Cell,{name:"keywordDifficulty"},(({name:e},t)=>({children:n.createElement(Zt.A,{"aria-label":a({id:"ariaLabel.tableCell.kd"},{VALUE:t[e]})},n.createElement(Nc(),{value:t[e]}))}))),n.createElement(Rc.Ay.Cell,{name:"cpc"},(({name:e},t)=>({children:n.createElement(Zt.A,{"aria-label":a({id:"ariaLabel.tableCell.cpc"},{VALUE:t[e]})},n.createElement(Jg,{value:t[e]}))}))),n.createElement(Rc.Ay.Cell,{name:"comp"},(({name:e},r)=>{const l=t(r[e]);return{children:n.createElement(Zt.A,{"aria-label":a({id:"ariaLabel.tableCell.comp"},{VALUE:l})},l)}})))))};var Hh=a(69420);const Qh="all",Zh="selected",Xh="first";var eb=a(56590),tb=a.n(eb),ab=a(2404),rb=a.n(ab);const nb={phrase:"keyword",kd:"keywordDifficulty"},lb=(e,t)=>({isIncludes:!0,type:1,field:t,criteria:"containing",value:e}),ob=e=>{if(!e)return{};let t,a;return"object"==typeof e?({from:t,to:a}=e):[t,a]=e.split("-"),t!==a?{...t?{"-3":{isIncludes:!0,type:0,field:"volume",criteria:">",value:0!==parseInt(t,10)?parseInt(t,10)-1:t}}:{},...a?{"-4":{isIncludes:!0,type:0,field:"volume",criteria:"<",value:parseInt(a,10)+1}}:{}}:{"-3":{isIncludes:!0,type:0,field:"volume",criteria:"=",value:t}}},ib=e=>{if(!e)return{};let t,a;return"object"==typeof e?({from:t,to:a}=e):[t,a]=e.split("-"),t!==a?{...t&&0!==parseInt(t,10)?{"-6":{isIncludes:!0,type:0,field:"keywordDifficulty",criteria:">",value:0!==parseInt(t,10)?parseInt(t,10)-1:parseInt(t,10)}}:{},...a&&0!==parseInt(a,10)?{"-7":{isIncludes:!0,type:0,field:"keywordDifficulty",criteria:"<",value:parseInt(a,10)+1}}:{}}:{"-6":{isIncludes:!0,type:0,field:"keywordDifficulty",criteria:"=",value:t}}},sb=e=>{if(!e)return{};let t,a;return"object"==typeof e.value?({from:t,to:a}=e.value):[t,a]=e.value.split("-"),((e,t,a)=>e!==t?{...e&&0!==parseInt(e,10)?{[`${a}-from`]:{isIncludes:!0,field:a,criteria:">",value:0!==parseInt(e,10)?parseInt(e,10)-1:e}}:{},...t&&100!==parseInt(t,10)?{[`${a}-to`]:{isIncludes:!0,field:a,criteria:"<",value:+t+1}}:{}}:{[a]:{isIncludes:!0,field:a,criteria:"=",value:e}})(t,a,"position")},cb=new Map([["keywordType",e=>({branded:3,notBranded:0,forOther:1}[e])]]),db=e=>cb.has(e.field)?{value:cb.get(e.field)(e.value)}:{operation:e.criteria,value:e.value},pb=e=>"number"==typeof e?`target${e+1}`:e,ub=(e,t="",a="")=>{if(!e||!Array.isArray(e))throw TypeError("getSpectrumTargets: targets is not an array");if(e.length<2)throw Error("getSpectrumTargets: targets length less than 2");return e.map(((e,r)=>{let n="";if(0!==t.length&&0!==a.length)switch(a){case Wp:n=t;break;case Yp:n=0!==r?t:"";break;case Gp:n=0===r?t:"";break;default:n=""}return{product_type:ut.PRODUCT_TYPE[e.dataType],type:ut.TARGET_TYPE[e.type],value:Be.getSearchItemBySearchType(e.value,e.type),filters:n}}))},mb=new(tb())(ut.KEYWORDS_LIST_COLUMN),yb=e=>{const t=((e,t={})=>{const{searchAs:a="phrase"}=t;if(!e||rb()(e,{}))return{};const r={...e.advancedApplied,...e.search?{[-1]:lb(e.search,a)}:{},...e.volume?ob(e.volume):{},...e.keywordDifficulty?ib(e.keywordDifficulty):{},...e.intent?(n=e.intent,n.reduce(((e,t,a)=>(e[`i${a}`]={isIncludes:!0,type:0,field:"intents",value:Mo.INTENT_IDS.getID(t)},e)),{})):{},...e.position?sb(e.position):{}};var n;return Object.values(r).reduce(((e,t)=>{const a=(r=t.field,nb[r]||r);var r;const n=e[a]||[];return n.push({sign:t.isIncludes?"+":"-",...db(t),...t.parameters}),e[a]=n,e}),{})})(e),{position:a=[],...r}=t,n=a.length>0?e.position.type:"";return{positionFilter:mb.generateQuery({positions:a}),restFilters:mb.generateQuery(r),positionFilterType:n}},gb={all:"all",selected:"selected",first:"preselected"};var hb=a(11075);const bb=[5e4,3e4,1e4,3e3,1e3,500,100],fb=({exportType:e,exportLimit:t,setExportType:a,setExportLimit:r,maxExportLimitCounter:l})=>{const{formatMessage:i}=(0,pe.A)(),s=Ly(),c=(0,o.d4)(ot),d=bb.reverse().filter((e=>e<=l)).map((e=>({value:e,children:n.createElement(xc.FormattedNumber,{value:e})})));return n.createElement(de.A,{direction:"column","data-at":"amount-selector"},n.createElement(hb.z6,{name:"export_amount_selector",value:e,onChange:e=>{a(e)},"aria-label":i({id:"ariaLabel.export.amountSelector"}),"aria-required":"true"},n.createElement(hb.Ay,{mb:2,alignItems:"center"},n.createElement(hb.Ay.Value,{value:Qh,checked:e===Qh,"data-at":"amount-all-radio"}),n.createElement(hb.Ay.Text,{"data-at":"amount-all-text"},n.createElement(de.A,null,n.createElement(Xt.A,{id:"export.type.all"}),c<=l?n.createElement(n.Fragment,null,n.createElement(fr.A,{color:"gray-400",ml:1,"data-at":"amount-all-value"},n.createElement(Xt.A,{id:"export.type.all.info",values:{amount:l}}))," ",n.createElement(yd,{tooltip:n.createElement(Xt.A,{id:"export.limitMessage",values:{total:l}})})):n.createElement(fr.A,{color:"gray-400",ml:1,"data-at":"amount-all-value"},n.createElement(xc.FormattedNumber,{value:l}))))),n.createElement(hb.Ay,{disabled:0===s,mb:2,alignItems:"center"},n.createElement(hb.Ay.Value,{value:Zh,checked:e===Zh,"data-at":"amount-selected-radio"}),n.createElement(hb.Ay.Text,{"data-at":"amount-selected-text"},n.createElement(Xt.A,{id:"export.type.selected"})," (",n.createElement(xc.FormattedNumber,{value:s,"data-at":"amount-all-value"}),")")),d.length>0?n.createElement(hb.Ay,{alignItems:"center"},n.createElement(hb.Ay.Value,{value:Xh,checked:e===Xh,"data-at":"amount-first-radio"}),n.createElement(hb.Ay.Text,{"data-at":"amount-first-text"},n.createElement(Xt.A,{id:"export.type.first"}),n.createElement(pr.Ay,{ml:1,options:d,size:"m",value:t,onChange:e=>r(e),"data-at":"amount-first-value",type:"button"}))):null))},Eb=({gaAction:e=""})=>n.createElement(Zt.A,null,n.createElement(fr.A,{size:200},n.createElement(Xt.A,{id:"export.export_all"})," "),n.createElement(ss.A,{href:"https://www.semrush.com/company/custom_report/",onClick:()=>f({action:e,label:"custom report link"})},n.createElement(fr.A,{size:200},n.createElement(Xt.A,{id:"export.export_all.link"}))));Eb.propTypes={gaAction:v().string};const kb=Eb,vb=({onSubmit:e,gaAction:t="Export"})=>{const{formatMessage:a}=(0,pe.A)(),[r,l]=(0,n.useState)(Qh),[o,i]=(0,n.useState)(!1),[s,c]=(0,n.useState)(100),d=Gm(),p=Ly(),u=a=>{f({action:t,label:`export ${r} to ${a}`,value:{[Qh]:d,[Zh]:p,[Xh]:s}[r]}),e({exportType:r,fileType:a,exportLimit:s,clearSelected:o})};return n.createElement(Zt.A,{tag:"form",action:"",wMax:280,"data-at":"export-popup"},n.createElement(Zt.A,{mb:4},n.createElement(fr.A,{size:200,bold:!0,color:"gray-800","data-at":"popup-title"},n.createElement(Xt.A,{id:"export.caption"}))),n.createElement(fb,{exportType:r,exportLimit:s,setExportType:l,setExportLimit:c,maxExportLimitCounter:d}),n.createElement(Zt.A,{mt:3,"data-at":"select-counters"},n.createElement(Zt.A,null,0!==p&&n.createElement(zd.A,{mb:4,disabled:r!==Zh},n.createElement(zd.A.Value,{onChange:()=>{i(!o),o||f({action:t,label:"clear selected keywords"})},checked:o,"data-at":"clear-selected"}),n.createElement(zd.A.Text,null,n.createElement(Xt.A,{id:"export.clearSelected"})))),n.createElement(de.A,{mt:4},n.createElement(ea.A,{use:"primary",onClick:()=>u("xlsx"),"data-at":"btn-xls",mr:2,"aria-label":a({id:"ariaLabel.export.fileType.xlsx"})},n.createElement(Xt.A,{id:"export.menu_item.xls"})),n.createElement(ea.A,{onClick:()=>u("csv"),"data-at":"btn-csv",mr:2,"aria-label":a({id:"ariaLabel.export.fileType.csv"})},n.createElement(Xt.A,{id:"export.menu_item.csv"})),n.createElement(ea.A,{onClick:()=>u("stdcsv"),"data-at":"btn-stdcsv","aria-label":a({id:"ariaLabel.export.fileType.stdcsv"})},n.createElement(Xt.A,{id:"export.menu_item.stdcsv"})))),n.createElement(ta.A,{my:4,pr:8,ml:-4}),n.createElement(kb,{gaAction:t}))};vb.propTypes={onSubmit:v().func.isRequired,gaAction:v().string};const wb=vb,Tb="Export",Ab=({isFeatureLimited:e=!1})=>{const{formatMessage:t}=(0,pe.A)(),[a,r]=(0,n.useState)(!1),l=(()=>{const[e]=Op("(max-width: 1360px)");return e})(),{fetchExport:i,isLoading:s}=(()=>{const e=(0,o.wA)(),[t,a]=(0,n.useState)(!1),r=(0,o.d4)(ho),l=(0,o.d4)(wo),i=Gm(),s=_y(),c=(0,o.d4)(er);return{fetchExport:async t=>{a(!0);const n={};n.exportType=t.exportType,n.fileType=t.fileType;try{if("object"!=typeof t)throw new Error("requestExport: params should be object");if(r.targets.length<2)throw new Error("requestExport: targets should be >= 2");let e,a=[];switch(t.exportType){case Qh:e=i;break;case Zh:e=s?.length??0,a=s;break;case Xh:e=t.exportLimit;break;default:return}n.keywordsCount=e;const o={...r,...t,count:e,currency:c,selected:a.map((e=>l[e].keyword))};await(async({targets:e,date:t,isLive:a,db:r,device:n,fileType:l,exportType:o,currency:i,count:s,selected:c,type:d="common",filter:p={},sortField:u="volume",sortDirection:m="desc"})=>{const y={report:ut.REPORT_NAME.gap},{positionFilter:g,restFilters:h,positionFilterType:b}=yb(p),f=(0,pt.prepareDatabase)(r,n),E={currency:i,selected:o===Zh?c.map((e=>({keyword:e}))):[],request:{targets:ub(e,g,b),date:a?null:(0,pt.dateStringToObject)(t),database:f,type:ut.KEYWORDS_TYPE[d],range:{limit:s,offset:0},columns:[ut.KEYWORDS_LIST_COLUMN.keyword,ut.KEYWORDS_LIST_COLUMN.intent,ut.KEYWORDS_LIST_COLUMN.volume,ut.KEYWORDS_LIST_COLUMN.keywordDifficulty,ut.KEYWORDS_LIST_COLUMN.cpc,ut.KEYWORDS_LIST_COLUMN.comp,ut.KEYWORDS_LIST_COLUMN.positions,ut.KEYWORDS_LIST_COLUMN.urls,ut.KEYWORDS_LIST_COLUMN.results],order:{column:ut.KEYWORDS_LIST_ORDER_COLUMN[pb(u)],direction:ut.ORDER_DIRECTION[m]},filters:h}};await kt.fetchExport("/GapKeywordsList",y,E,l)})(o),n.status=yl}catch(e){console.error("Something went wrong with export",e,{params:t}),n.status=gl}finally{a(!1),t.clearSelected&&e(Ry()),(({keywordsCount:e,exportType:t,fileType:a,status:r})=>{Dt.A.track(Dt.A.eventName.exportData,{item_label:`${e}`,item_location:"keyword_gap.table.export",state:gb[t],type:a,status:r})})(n)}},isLoading:t}})(),c=(0,n.useCallback)((t=>{e||(r(t),f({action:Tb,label:t?"show":"cancel"}))}),[e]);return n.createElement(Hh.A,{visible:a,onVisibleChange:c,placement:"bottom-end"},n.createElement(Hh.A.Trigger,null,n.createElement(ea.A,{"data-at":"export","data-path":"keyword_gap.table.export",loading:s,disabled:s,"aria-label":t({id:"ariaLabel.tableExport"})},n.createElement(ea.A.Addon,null,n.createElement(ui.A,null)),!l&&n.createElement(ea.A.Text,null,n.createElement(Xt.A,{id:"export.button"})))),n.createElement(Hh.A.Popper,{p:4,wMin:280},n.createElement(wb,{gaAction:Tb,onSubmit:e=>{i(e),r(!1)}})))};Ab.propTypes={isFeatureLimited:v().bool};const Cb=Ab;var Sb=a(57005),xb=a(4676);function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rb.apply(null,arguments)}const _b=(0,ce.default)(Zt.A)`
  // insert ellipsis to 'Add to list' button
  overflow: hidden;

  & > div {
    display: flex;
    overflow: hidden;

    & > div {
      min-width: 0;
      display: flex;
    }
  }

  button {
    min-width: 0;
  }

  span[data-ui-name='Button.Text'] {
    text-overflow: ellipsis;
    overflow: hidden;
    display: inline;
    min-width: 0;
  }
`,Lb=e=>{const t=(0,o.d4)(ly),a=(0,o.d4)(Qe.Lf),r=(0,n.useMemo)((()=>t.filter((e=>""!==e.keyword)).map((({keyword:e})=>({phrase:e,database:(0,xt.m_)(a)})))),[t,a]),l=(()=>{const[e]=Op("(max-width: 1360px)");return e})();return n.createElement(_b,Rb({"data-at":"ts-keywordmanager",wMin:0,onClick:()=>{(0,xb.Ac)(r.length)},"data-path":`${xb.G2}.click`},e),n.createElement(Sb.ExportToKMSelected,{selected:r,seedKeyword:null,group:"",hasShortLabel:l}))},Ob=()=>{const{formatMessage:e}=(0,pe.A)();return n.createElement(hc,{"aria-label":e({id:"ariaLabel.keywordsTableSection"})},n.createElement(Ec,{justifyContent:"flex-start"},n.createElement(Bm,null)),n.createElement(uc.WidgetContent,{isNoData:!1,isError:!1,type:"venn-chart"},n.createElement(de.A,{mb:5,mx:5,justifyContent:"space-between","data-at":"widget-header"},n.createElement(pi,{requiredPlan:i.USER_ROLES.pro,limitContext:"filters"},n.createElement(Zm,null)),n.createElement(de.A,{ml:2,wMin:0},n.createElement(Lb,{mr:2}),n.createElement(Zt.A,null,n.createElement(pi,{requiredPlan:i.USER_ROLES.pro,limitContext:"export"},n.createElement(Cb,null))))),n.createElement(Zt.A,{pb:5},n.createElement(Yh,null))))},Pb=()=>{const e=(0,o.wA)();return(0,n.useEffect)((()=>{f({action:"Something went wrong",label:"all"})}),[]),n.createElement(ig.A,{icon:(0,ig.h)("warning")},n.createElement(ig.A.Title,null,n.createElement(Xt.A,{id:"errors.serverError"})),n.createElement(ig.A.Description,null,n.createElement(Xt.A,{id:"errors.tryAgain.text"})),n.createElement(Zt.A,{mt:4},n.createElement(ea.A,{onClick:()=>{e(Ce())}},n.createElement(Xt.A,{id:"errors.tryAgain.btnText"}))))},Ib=({children:e=null})=>(0,o.d4)(_o)?n.createElement(Pb,null):e;Ib.propTypes={children:v().node};const Mb=Ib,Db=()=>{const{formatMessage:e}=(0,pe.A)(),t=(0,o.d4)(po),a=(0,o.wA)(),r=(0,n.useCallback)((()=>{a(bd()),f({action:"Nothing found blocks",label:"clear filters click"})}),[a]);return(0,n.useEffect)((()=>{f({action:"Nothing found blocks",label:"clear filters show"})}),[]),n.createElement(dg,{title:e({id:"global.notFound.clearFilters.title"}),description:e({id:"global.notFound.clearFilters.description"}),withButton:t,onClick:r,withIcon:!0,mt:11})},Fb=(0,ke.VP)("fetchRanksRequest"),Nb=(0,ke.VP)("fetchRanksSuccess",(e=>e)),jb=((0,ke.VP)("fetchRanksFailure",(e=>e)),()=>n.createElement("div",{style:{width:"266px",height:"106px"}},n.createElement(kr.A,{height:106,width:266},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"150",height:"20"}),n.createElement("rect",{x:"0",y:"40",rx:"4",ry:"4",width:"266",height:"8"}),n.createElement("rect",{x:"0",y:"60",rx:"4",ry:"4",width:"266",height:"8"}),n.createElement("rect",{x:"0",y:"80",rx:"4",ry:"4",width:"175",height:"8"})))),$b=(e,t)=>1===e.slice(0,t+1).reduce(((e,t)=>e+Number(t)),0),qb=({children:e=null})=>{const t=(e=>e.filter((e=>e)))(e),[a,r]=(0,n.useState)([...Array(n.Children.count(t)).keys()].reduce(((e,t)=>(e[t]=null,e)),{})),l=(0,n.useCallback)(((e,t)=>r((a=>({...a,[e]:t})))),[r]),o=(0,n.useMemo)((()=>Object.values(a).some((e=>null===e))),[a]),i=(0,n.useCallback)((e=>{return a[e]&&(t=e,Object.values(a).slice(0,t+1).reduce(((e,t)=>t?e+1:e),0)<4)&&!o;var t}),[a,o]),s=[...Array(n.Children.count(t)).keys()].map((e=>i(e)));return n.createElement(n.Fragment,null,o&&n.createElement(de.A,{direction:"row"},t.map(((e,t)=>n.createElement(de.A,{key:t},t>0&&n.createElement(ta.A,{mx:6,orientation:"vertical",theme:"default",use:"primary"}),n.createElement(jb,null))))),n.createElement(de.A,{direction:"row"},t.map(((e,t)=>n.createElement(de.A,{key:t},t>0&&i(t-1)&&n.createElement(ta.A,{mx:6,orientation:"vertical",theme:"default",use:"primary"}),n.createElement(Zt.A,{"data-is-first":!!$b(s,t)||void 0,"data-is-last":!!s[t]||void 0},n.cloneElement(e,{index:t,blockHasData:l,display:i(t)})))))))};qb.propTypes={children:v().node};const Ub=qb,Vb="Nothing found blocks",zb=()=>f({action:"No data",label:"all"}),Kb=()=>{f({action:Vb,label:"country click"}),f({action:"Not found in seleсted DB",label:"click to suggested DB"})},Bb=(e,t)=>{f({action:Vb,label:"country show"}),f({action:"Not found in seleсted DB",label:`${e} - ${t.map((e=>e.database)).join(" ")}`})},Jb=()=>{f({action:Vb,label:"device click"})},Wb=()=>f({action:Vb,label:"device show"}),Gb=()=>f({action:Vb,label:"change request show"}),Yb=()=>f({action:Vb,label:"try another date click"}),Hb=()=>f({action:Vb,label:"try another date show"}),Qb=()=>({gaNoData:zb,gaClickDb:Kb,gaDbShow:Bb,gaClickDevice:Jb,gaShowDevice:Wb,gaShowChangeRequest:Gb,gaClickDate:Yb,gaShowDate:Hb}),Zb=({title:e,dataAt:t,actionButtons:a=null,children:r=null})=>n.createElement(de.A,{direction:"column",height:"100%",width:266,"data-at":t},n.createElement(br.Header,{tag:"h6",mb:3},e),n.createElement("div",null,r),a?n.createElement(Zt.A,{pt:1},a):null);Zb.propTypes={title:v().string.isRequired,dataAt:v().string.isRequired,children:v().node,actionButtons:v().element};const Xb=Zb,{useIntlHelpers:ef}=_e(),tf=({value:e})=>{const{formatCompactNumber:t}=ef();return n.createElement(fr.A,{ml:2,size:200,color:"gray-500","data-at":"positions-number"},t(e))};tf.propTypes={value:v().number.isRequired};const af=tf,rf=({database:e,positions:t,setDb:a=()=>{},deviceByString:r=!1})=>{const l=r?(0,xt.m_)(e,!1):e,o=(0,xt.lg)(e)?"mobile":"desktop";return n.createElement(de.A,{direction:"row",alignItems:"center",justifyContent:"space-between",w:"100%"},n.createElement(de.A,{"data-at":"other-db-item"},n.createElement(hr(),{db:e}),n.createElement(ss.A,{ml:1,mr:4,size:200,onClick:()=>a(e),"data-at":"other-db-name"},n.createElement(Xt.A,{id:`db.${l}`})," ",r?n.createElement(Xt.A,{id:`device.${o}`}):null)),n.createElement(af,{value:t}))};rf.propTypes={database:v().string.isRequired,positions:v().number.isRequired,setDb:v().func,deviceByString:v().bool};const nf=rf;function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lf.apply(null,arguments)}const of=({setDb:e,dbs:t=[]})=>n.createElement(de.A,{alignItems:"center",mt:2,justifyContent:"space-between","data-at":"nf-other-countries"},n.createElement(pr.Ay,null,n.createElement(pr.Ay.Trigger,{tag:ur.A},n.createElement(pr.Ay.Trigger.Text,null,n.createElement(Xt.A,{id:"global.notFound.otherdatabases.other"}))),n.createElement(pr.Ay.Popper,null,n.createElement(pr.Ay.List,{hMax:"240px",wMAx:240},t.map((t=>n.createElement(pr.Ay.Option,{value:t.database,key:t.database,direction:"row"},n.createElement(nf,lf({deviceByString:!0,setDb:e},t)))))))),n.createElement(af,{value:t.reduce(((e,t)=>e+t.positions),0)}));of.propTypes={setDb:v().func.isRequired,dbs:v().array};const sf=of;function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},cf.apply(null,arguments)}const df=({setDb:e,dbs:t=[]})=>{const{formatMessage:a}=(0,pe.A)(),[r,l]=(0,n.useMemo)((()=>[t.slice(0,4),t.slice(4)]),[t]);return n.createElement(Xb,{title:a({id:"global.notFound.otherdatabases.title"}),dataAt:"nf-database"},n.createElement("div",{"data-at":"dbs-list"},r.map(((t,a)=>n.createElement(Zt.A,{mt:a>0?2:0,key:t.database},n.createElement(nf,cf({deviceByString:!0},t,{setDb:e})))))),l.length>0&&(l.length>1?n.createElement(sf,{dbs:l,setDb:e}):n.createElement(Zt.A,{mt:2},n.createElement(nf,cf({deviceByString:!0},l[0],{setDb:e})))))};df.propTypes={dbs:v().array,setDb:v().func.isRequired};const pf=df,uf=e=>({organic:"organicPositions",adwords:"adwordsPositions",pla:"plaPositions"}[e]),mf=(e="organic")=>{const t=(0,o.d4)(So);return(0,n.useMemo)((()=>t.map((t=>({database:t.database,positions:Number(t.metrics[uf(e)])})))),[t,e])},yf=(e,t)=>(0,xt.um)(e).db!==(0,xt.um)(t).db,gf=({isLoaded:e,display:t=!1,index:a=0,blockHasData:r=()=>{}})=>{const{gaClickDb:l,gaDbShow:i}=Qb(),s=(0,o.d4)(Qe.Pf),c=(0,o.d4)(Qe.Lf),d=(0,o.d4)(Sl.zW),p=mf(d),u=(0,o.wA)(),m=(0,n.useCallback)((e=>{const t=(0,xt.um)(e);u(oa(t.db)),l()}),[u,l]),y=(0,n.useMemo)((()=>{const e=p.filter((e=>(0,xt.lg)(e.database)===(0,xt.jb)(s))),t=p.filter((e=>(0,xt.lg)(e.database)!==(0,xt.jb)(s))),a=[];for(let r=0;r<Math.max(e.length,t.length);r++)e[r]&&a.every((t=>yf(t.database,e[r].database)))?a.push(e[r]):t[r]&&a.every((e=>yf(e.database,t[r].database)))&&a.push(t[r]);return a.filter((({positions:e})=>e>0)).sort(((e,t)=>t.positions-e.positions))}),[p,s]);return(0,n.useEffect)((()=>{e&&r(a,y.length>0)}),[e,y,a,r]),(0,n.useEffect)((()=>{t&&y.length>0&&i(c,y)}),[t,y,c,i]),t?n.createElement(pf,{dbs:y,setDb:m}):null};gf.propTypes={display:v().bool,blockHasData:v().func,index:v().number,isLoaded:v().bool.isRequired};const hf=gf;var bf=a(59614),ff=a(484);const Ef=e=>{const{db:t,positions:a,isDBMobile:r,setOtherDevice:l}=e,{formatMessage:o}=(0,pe.A)(),i=(0,n.useMemo)((()=>(r?"mobile":"desktop")+"data"),[r]),s=(0,n.useMemo)((()=>r?bf.A:ff.A),[r]);return n.createElement(Xb,{title:o({id:"global.notFound.otherdevices.title"}),dataAt:"nf-devices"},n.createElement(de.A,{justifyContent:"space-between"},n.createElement(ss.A,{size:200,onClick:()=>l(t)},n.createElement(ss.A.Addon,{tag:s}),n.createElement(ss.A.Text,null,o({id:`global.notFound.otherdevices.${i}`},{DB:o({id:`db.${(0,xt.m_)(t)}`})}))),n.createElement(af,{value:a})))};Ef.propTypes={db:v().string.isRequired,positions:v().number.isRequired,isDBMobile:v().bool.isRequired,setOtherDevice:v().func.isRequired};const kf=Ef,vf=({deviceType:e,currentDB:t,isLoaded:a,display:r=!1,index:l=0,blockHasData:i=()=>{}})=>{const s=mf(),c=(0,n.useMemo)((()=>s.filter((e=>(0,xt.m_)(e.database)===(0,xt.m_)(t))).find((t=>(0,xt.jb)(e)!==(0,xt.lg)(t.database)))),[s,e,t]),d=c?.database,p=c?.positions,u=(0,o.wA)(),m=(0,n.useCallback)((e=>{const t=(0,xt.um)(e);u(ia(t.isMobile?1:0)),Jb()}),[u]);return(0,n.useEffect)((()=>{a&&i(l,!!d)}),[a,d,l,i]),(0,n.useEffect)((()=>{r&&d&&Wb()}),[r,d]),r&&c?n.createElement(kf,{db:d,positions:p,isDBMobile:(0,xt.lg)(d),setOtherDevice:m}):null};vf.propTypes={currentDB:v().string.isRequired,deviceType:v().number.isRequired,display:v().bool,blockHasData:v().func,index:v().number,isLoaded:v().bool.isRequired};const wf=n.memo(vf);var Tf=a(1806);const Af=({type:e="daily",value:t})=>"daily"===e?n.createElement(xc.FormattedDate,{value:(0,Tf.A)(t),year:"numeric",month:"short",day:"numeric"}):n.createElement(xc.FormattedDate,{value:(0,Tf.A)(t),year:"numeric",month:"long"});Af.propTypes={value:v().any.isRequired,type:v().oneOf(["daily","monthly"])};const Cf=n.memo(Af),Sf=e=>null==e?"":n.createElement(Cf,{value:e,type:"monthly"}),xf=({display:e=!1,index:t=0,blockHasData:a=()=>{}})=>{const{formatMessage:r}=(0,pe.A)(),{gaClickDate:l,gaShowDate:i}=Qb(),s=(0,o.d4)(Qe.Lk),c=(0,o.d4)(Qe.pp),d=(0,o.d4)(lr),p=(0,o.wA)(),u=(0,n.useCallback)((()=>{p(sa(d.date,d.dateType,d.dateType===aa.J5.daily)),l()}),[p,d,l]);return(0,n.useEffect)((()=>{a(t,1===s)}),[s,t,a]),(0,n.useEffect)((()=>{e&&1===s&&i()}),[e,s,i]),e?n.createElement(Xb,{title:r({id:"global.notFound.livedata.title"}),dataAt:"nf-livedata",actionButtons:n.createElement(ea.A,{onClick:u},n.createElement(Xt.A,{id:"global.notFound.livedata.btnText"}))},n.createElement(fr.A,{size:200,color:"gray-800","data-at":"body-text"},n.createElement(Xt.A,{id:"global.notFound.livedata.text",values:{date:Sf(c)}}))):null};xf.propTypes={display:v().bool,blockHasData:v().func,index:v().number};const Rf=xf;var _f=a(38064);const Lf=({display:e=!1,index:t=0,blockHasData:a=()=>{}})=>{const{gaShowChangeRequest:r}=Qb(),{formatMessage:l}=(0,pe.A)();return((e,t)=>{(0,n.useEffect)((()=>{setTimeout((()=>{e(t,!0)}),200)}),[e,t])})(a,t),(0,n.useEffect)((()=>{e&&r()}),[e,r]),e?n.createElement(Xb,{title:l({id:"global.notFound.checkrequest.title"}),dataAt:"nf-search"},n.createElement(_f.A,{size:200},n.createElement(_f.A.Item,null,n.createElement(Xt.A,{id:"global.notFound.checkrequest.line1"})),n.createElement(_f.A.Item,null,n.createElement(Xt.A,{id:"global.notFound.checkrequest.line2"})),n.createElement(_f.A.Item,null,n.createElement(Xt.A,{id:"global.notFound.checkrequest.line3"})))):null};Lf.propTypes={display:v().bool,blockHasData:v().func,index:v().number};const Of=Lf;function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pf.apply(null,arguments)}const If=e=>{const t=(0,o.d4)(Qe.Lf),a=(0,o.d4)(Qe.Pf),r=(0,n.useMemo)((()=>(0,xt.jb)(a)?"mobile":"desktop"),[a]),l=(0,n.useMemo)((()=>(0,xt.jb)(a)?bf.A:ff.A),[a]);return n.createElement(de.A,Pf({alignItems:"center",justifyContent:"flex-start","data-at":"nf-db-info"},e),n.createElement(de.A,{alignItems:"center",mr:4},n.createElement(Zt.A,{mr:1},n.createElement(hr(),{db:t})),n.createElement(fr.A,{size:200,color:"gray-500","data-at":"db-name"},n.createElement(Xt.A,{id:`db.${(0,xt.m_)(t)}`}))),n.createElement(de.A,{alignItems:"center"},n.createElement(Zt.A,{mr:1},n.createElement(l,{color:"gray-500"})),n.createElement(fr.A,{size:200,color:"gray-500","data-at":"device-name"},n.createElement(Xt.A,{id:`device.${r}`}))))},Mf=()=>{const{gaNoData:e}=Qb(),t=(0,o.d4)(Qe.Lf),a=(0,o.d4)(Qe.Pf),r=(0,o.d4)(xo),l=(0,o.d4)(Sl.qG),i=(0,o.wA)(),s=(0,n.useCallback)((()=>i(Fb())),[i]),c="domain"===l?.searchType;return(0,n.useEffect)((()=>{c&&s(),e()}),[e,c,s]),n.createElement(Zt.A,{mt:4,"data-at":"nothing-found"},n.createElement(fr.A,{fontSize:"19px",tag:"h5",fontWeight:500,mb:2,mt:0,"data-at":"nothing-found-title"},n.createElement(Xt.A,{id:"global.notFound.title"})),n.createElement(If,{mb:8}),n.createElement(Ub,null,c&&n.createElement(hf,{isLoaded:r}),c&&n.createElement(wf,{deviceType:a,currentDB:t,isLoaded:r}),n.createElement(Rf,null),n.createElement(Of,null)))},Df=()=>(0,o.d4)(po)?n.createElement(n.Fragment,null,n.createElement(Dm,null),n.createElement(Db,null)):n.createElement(Mf,null),Ff="keyword_gap",Nf=()=>{const e=(0,o.d4)(zl),t=!(0,o.d4)(Ro)&&!e;return(()=>{const e=(0,o.d4)(_o),t=(0,o.d4)(zl),a=(0,o.d4)(Ro),r=(0,o.d4)(Sl.yo),l=!a&&!t;(0,n.useEffect)((()=>{if(!a||e){let t=yl;l?t=hl:e&&(t=gl),Dt.A.track(Dt.A.eventName.show,{item_location:Ff,status:t,item_label:r.map((e=>e.searchType)).join("_"),type:`${r.length}x`,state:r.map((e=>e.keywordType)).join("_")})}}),[l,e,r,a])})(),n.createElement(qm,{direction:"column","data-path":Ff},n.createElement($m,null),n.createElement(Zt.A,{wMin:1044,wMax:1670},n.createElement(gs,null)),n.createElement(ta.A,{orientation:"horizontal",theme:"default",use:"primary"}),n.createElement(Um,{wMin:980,wMax:1606,mx:8,mb:24},n.createElement(Ee,{pageType:"report"},n.createElement(de.A,{my:4},n.createElement(pc,{gaAction:"Report"}))),n.createElement(ta.A,{orientation:"horizontal",theme:"default",use:"primary"}),n.createElement(Mb,null,n.createElement(jm,null),t?n.createElement(Df,null):n.createElement(n.Fragment,null,n.createElement(Dm,null),n.createElement(de.A,{mb:4},n.createElement($d,null),n.createElement(Lp,{ml:4})),n.createElement(Ob,null)))))},jf=(0,ce.default)(Zt.A)`
  filter: blur(5px);
  opacity: 0.3;
  pointer-events: none;
`,$f=()=>n.createElement(Ee,{pageType:"report"},n.createElement(jf,null,n.createElement(gs,{searchItem:"test.com"}),n.createElement("div",{className:"fake_report-module__content___OVOJp"},n.createElement(pc,null))));var qf=a(555);const Uf=e=>e.limits.hasLimit,Vf=e=>e.limits.errCode;class zf extends n.PureComponent{componentDidMount(){const{notReactComponent:e}=this.props;e&&e((e=>{this.el=e}))}componentWillUnmount(){const{destroy:e}=this.props;this.el&&e(this.el)}render(){return null}}zf.propTypes={notReactComponent:v().func.isRequired,destroy:v().func.isRequired};const Kf=zf,Bf=()=>n.createElement(Kf,{notReactComponent:i.BillingUI.limitPopup,destroy:e=>e.remove()}),Jf=()=>n.createElement(Kf,{notReactComponent:i.BillingUI.trialPopup,destroy:e=>e.remove()}),Wf=(0,ke.VP)("setLimitError",(e=>({errCode:e}))),Gf=(0,ke.VP)("requestClearLimitError"),Yf=(0,ke.VP)("clearLimitError"),Hf=()=>void(window.location=`${window.location.origin}/analytics/keywordgap/`),Qf=(e,t)=>t?ei:"historical"===e?i.USER_ROLES.guru:i.USER_ROLES.pro,Zf=()=>{const e=(0,o.d4)(st),t=(0,o.d4)(Vf),a=(e=>({[qf.ERROR_CODE.historicalDataPermission]:"limitBlock.cancelBtnModal",[qf.ERROR_CODE.productTypePermission]:"limitBlock.goToStartPage"}[e]||null))(t),r=((e,t=null)=>({[qf.ERROR_CODE.productTypePermission]:i.USER_ROLES.guru}[e]||t))(t,P.A.productGroup),l=(e=>{const t=(0,o.wA)();return(0,n.useMemo)((()=>e===qf.ERROR_CODE.productTypePermission?Hf:()=>t(Gf())),[e,t])})(t);return((e,t,a,r,l)=>{const o=(e=>({[qf.ERROR_CODE.historicalDataPermission]:"historical",[qf.ERROR_CODE.productTypePermission]:"pla",[qf.ERROR_CODE.reportLimitsExceeded]:"report_per_day"}[e]))(t);switch(l){case i.USER_ROLES.guest:return n.createElement(Bf,null);case i.USER_ROLES.free:case i.USER_ROLES.appCenter:return t===qf.ERROR_CODE.reportLimitsExceeded?n.createElement(Jf,null):n.createElement(li,{planType:Qf(o,e),limitContext:o,cancelText:a,onCancel:r,needSticky:!0});case i.USER_ROLES.pro:case i.USER_ROLES.guru:case i.USER_ROLES.business:return n.createElement(li,{planType:i.USER_ROLES.next(l),limitContext:o,cancelText:a,onCancel:r,needSticky:!0});default:return null}})(e,t,a,l,r)},Xf=(0,n.memo)(Zf),eE=(0,ce.default)(Zt.A)`
  position: absolute;
  top: 50px;
  left: 50%;
  transform: translate(-50%, 0);
  padding-left: 200px;
`,tE=()=>n.createElement(n.Fragment,null,n.createElement(eE,null,n.createElement(Xf,null)),n.createElement(br.NoInteractionWrapper,null,n.createElement($f,null))),aE=n.memo(tE),rE=(0,a(42791).bY)(Object.values({desktop:"(min-width: 1101px)",tablet:"(max-width: 1100px)",mobile:"(max-width: 414px)"})),nE=()=>{const e=!(0,o.d4)(Sl.Ij),t=(0,o.d4)(Uf);return(e=>{const{formatMessage:t}=(0,pe.A)(),a=(0,o.d4)(Sl.zP),r=t({id:"pageTitle.landing"}),n=t({id:"pageTitle.report"},{FIRST_DOMAIN:_t(a)});document.title=e?r:n})(e),((e=!0)=>{const t=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e&&!t.current&&(f({category:"keyword-gap:report",action:"show:report",label:"report:show"}),t.current=!0)}),[e])})(!e&&!t),e?n.createElement(rE,null,n.createElement(Cl,null)):t?n.createElement(aE,null):n.createElement(Nf,null)},lE=()=>((0,n.useEffect)((()=>{(0,Sb.configure)(Number(P.A.id),P.A.apiKey,P.A.locale,"keyword_gap")}),[]),null),oE=(0,ce.default)(de.A)`
  min-height: 100%;
  padding: 0 0;
  flex-direction: column;
  font-family: Inter, sans-serif;
  background-color: #f4f5f9;
  flex-grow: 1;
`;var iE=a(82960),sE=a(32742),cE=a(64251),dE=a(17183);const pE=e=>{if(null==e)return null;let t,a;return"string"==typeof e?[t,a]=e.split("-"):(t=e?.from,a=e?.to),t=Math.abs(parseInt(t,10)),a=Math.abs(parseInt(a,10)),t||a?[Number.isNaN(t)?null:t,Number.isNaN(a)?null:a].join("-"):""},uE=e=>null!=e&&null!=e.advancedApplied?encodeURIComponent(JSON.stringify({search:e.search,volume:e.volume,kd:e.keywordDifficulty,intent:e.intent,position:e.position,advanced:e.advancedApplied})):null,mE=e=>{try{const t=decodeURIComponent(e),a=JSON.parse(t),r=a?.advanced??{};return{search:a?.search,volume:pE(a?.volume),keywordDifficulty:pE(a?.kd),position:a?.position,intent:a?.intent,advanced:r,advancedApplied:r}}catch(t){return console.error("deserialize filter error",{filterStr:e},t),{search:"",volume:"",keywordDifficulty:"",position:"",intent:"",advanced:"",advancedApplied:""}}},yE={db:null,defaultDb:null,searchItem:null,searchType:"domain",date:null,dateType:aa.J5.daily,isLive:null,device:aa.W.desktop,currency:y.get("currency")||"usd",currencyType:y.get("currencyType")||"default",scope:"domain",nextParams:null},gE={constants:na,reducer:(e=yE,t)=>{switch(t.type){case ca.getType():return{...e,db:t.payload.db};case fa.getType():return{...e,defaultDb:{...t.payload}};case pa.getType():return{...e,date:t.payload.date,dateType:t.payload.dateType,isLive:t.payload.isLive};case ga.getType():return{...e,currency:t.payload.currency,currencyType:(a=t.payload.currency,"usd"===a?"default":"local")};case la.SET_SEARCH_ITEM:return console.warn("Do not use this!"),{...e,searchItem:t.searchItem};case la.SET_DOMAIN:{if(!t.domain)return e;const a=Ne.Ay.toASCII(function(e=""){return e!==decodeURIComponent(e)}(t.domain)?decodeURI(t.domain):t.domain);return{...e,domain:a.toLowerCase(),searchItem:a.toLowerCase()}}case ha.getType():return{...e,nextParams:t.payload.nextParams};case ba.getType():{const{nextParams:t}=e;return{...e,...t,nextParams:null}}case da.getType():return{...e,device:t.payload.device};case la.SET_DB_AND_DEVICE:return{...e,db:t.db,device:t.device};default:return e}var a}},hE={reducer:(0,ke.vy)({[Wf]:(e,{errCode:t})=>({...e,hasLimit:!0,errCode:t}),[Yf]:e=>({...e,hasLimit:!1,errCode:null})},{hasLimit:!1,errCode:null})},bE={mode:"simple",keywordType:"organic",intersectionType:"common",nextIntersectionType:null,intersectionSetByUser:!1},fE={constants:r,reducer:(e=bE,t)=>{switch(t.type){case Gn.getType():return{...e,mode:t.payload.mode};case Yn.getType():return{...e,keywordType:t.payload.keywordType};case Hn.getType():return{...e,nextIntersectionType:t.payload.intersectionType};case Qn.getType():return{...e,intersectionType:t.payload.intersectionType,nextIntersectionType:null,intersectionSetByUser:t.payload.intersectionSetByUser};case Xn.getType():return{...e,intersectionSetByUser:!1};default:return e}}},EE={data:[]},kE={constants:Ue,reducer:(e=EE,t)=>{switch(t.type){case tl.getType():return{...e,data:t.payload.targets};case rl.getType():return{data:t.payload.targets};default:return e}}},vE=(0,ke.VP)("resetLoadingStatusGlobal"),wE=e=>({id:e}),TE=e=>{const t=e.toUpperCase(),a=(0,ke.VP)(`${t}/startLoading`,wE),r=(0,ke.VP)(`${t}/stopLoading`,wE),n=(0,ke.VP)(`${t}/resetLoading`,wE),l=(0,ke.VP)(`${t}/setError`,wE),o=(0,ke.VP)(`${t}/resetError`,wE);return{actions:{startLoading:a,stopLoading:r,resetLoading:n,setError:l,resetError:o},reducer:(0,ke.vy)({[a]:e=>({...e,isLoading:!0}),[r]:e=>({...e,isLoading:!1}),[l]:e=>({...e,hasError:!0}),[o]:e=>({...e,hasError:!1}),[vE]:e=>({...e,isLoading:null}),[n]:e=>({...e,isLoading:null})},{isLoading:null,hasError:!1})}},{actions:AE,reducer:CE}=TE("statusDbsReducer"),{actions:SE,reducer:xE}=TE("statusTimepointsReducer"),{actions:RE,reducer:_E}=TE("statusCurrenciesReducer"),LE=(0,ke.vy)({[we]:(e,{data:t})=>{return{...e,databases:(a=t,a.reduce(((e,t)=>(e[t.code]=t,e)),{}))};var a},[Ae]:(e,{data:t,db:a,device:r})=>({...e,timepoints:{...e.timepoints,[`${a}/${r}`]:t}}),[Te]:(e,{data:t,date:a})=>{return{...e,currencies:{...e.currencies,[a]:(r=t,r.reduce(((e,t)=>(e[(({currencyCode:e})=>[e].join("/"))({...t})]=t,e)),{}))}};var r},[Se]:(e,{db:t})=>({...e,databases:{...e.databases,[t]:{...e.databases[t],available:!0}}})},{}),OE=(0,iE.HY)({data:LE,statusDbs:CE,statusTimepoints:xE,statusCurrencies:_E}),PE={field:"volume",direction:"desc"},IE={sorting:PE,currentPage:1,prevPage:1,selectedKeywords:{},limitError:!1},ME=(0,ke.vy)({[by]:(e,{field:t,direction:a})=>({...e,sorting:{field:t,direction:a}}),[fy]:(e,{limitError:t})=>({...e,limitError:t}),[vy]:(e,{page:t})=>({...e,prevPage:e.currentPage,currentPage:t}),[wy]:(e,{page:t})=>({...e,prevPage:t}),[Ay]:(e,{id:t,params:a})=>{const r=bo(a),n=e.selectedKeywords?.[r]??[];let l;return l=n.find((e=>e===t))?n.filter((e=>e!==t)):[...n,t],{...e,selectedKeywords:{...e.selectedKeywords,[r]:l}}},[Cy]:(e,{ids:t,params:a})=>{const r=bo(a),n=e.selectedKeywords?.[r]??[],l=new Set([...n,...t]);return{...e,selectedKeywords:{...e.selectedKeywords,[r]:[...l]}}},[Sy]:(e,{ids:t,params:a})=>{const r=bo(a),n=e.selectedKeywords?.[r]??[],l=t?n.filter((e=>!t.includes(e))):[];return{...e,selectedKeywords:{...e.selectedKeywords,[r]:l}}}},IE),DE=ME,{actions:FE,reducer:NE}=TE("statusKeywordsTotalReducer"),jE=(0,ke.vy)({[Vd]:(e,{data:t})=>({...t})},{}),$E=(0,iE.HY)({data:jE,status:NE}),qE=((0,ke.VP)("requestTopKeywords"),(0,ke.VP)("getDataSuccess",((e,t)=>({data:e,id:t})))),{actions:UE,reducer:VE}=TE("keywords_top"),zE=(0,ke.vy)({[qE]:(e,{data:t})=>({...t})},{}),KE=(0,iE.HY)({data:zE,status:VE});class BE{constructor(e){this.id=e.id,this.keyword=e.keyword,this.intents=e.intents,this.volume=Number(e.volume),this.keywordDifficulty=Number(e.keywordDifficulty),this.cpc=Number(e.cpc),this.comp=Number(e.comp),this.results=Number(e.results),this.positions=e.positions,this.urls=e.urls?.map(_t)}}const{actions:JE,reducer:WE}=TE("statusKeywordsReducer"),GE=(0,ke.vy)({[Fy]:(e,{data:t})=>{const a=t.map((e=>new BE(e))).reduce(((e,t)=>(e[t.id]=t,e)),{});return{...e,...a}}},[]),YE=(0,ke.vy)({[Fy]:(e,{data:t,pageParams:a})=>{const r=bo(a);return{...e,[r]:{...e[r],[a.page]:t.map((({id:e})=>e))}}}},{}),HE=(0,iE.HY)({data:GE,status:WE,meta:YE}),{actions:QE,reducer:ZE}=TE("statusRanksReducer"),XE=(0,ke.vy)({[Nb]:(e,t)=>t},[]),ek=(0,iE.HY)({data:XE,status:ZE});var tk=a(43561);const ak=e=>({keyword:im,keywordType:null,volume:om,cpc:om,comp:om,results:om}[e]),rk=e=>({keywordType:[...sm]}[e]),nk=(e,t)=>Object.values(e).some((e=>cm.every((a=>e[a]===t[a])))),lk=(0,tk.customAlphabet)("1234567890qwertyuiopasdfghjklzxcvbnm",5),ok=null,ik=()=>({id:lk(),isIncludes:!0,field:"keyword",criteria:"containing",value:""}),sk=({setFilter:e,clearFilter:t})=>(0,ke.vy)({[e]:(e,{value:t})=>t,[t]:()=>ok,[bd]:()=>ok},ok),ck=()=>{const e=ik();return{[e.id]:e,order:[e.id]}},dk=(0,ke.vy)({[Ld]:ck,[bd]:ck,[xd]:e=>{const t=ik();return{...e,[t.id]:t,order:[...e.order,t.id]}},[Rd]:(e,{id:t})=>{const{[t]:a,...r}=e;return{...r,order:r.order.filter((e=>e!==t))}},[_d]:(e,{id:t,name:a,value:r})=>{const{[t]:n,...l}=e;return{...l,[t]:{...n,[a]:r}}},[Ad]:(e,{data:t})=>({...t,order:Object.keys(t)})},{order:[]}),pk=(0,ke.vy)({[Sd]:(e,{filters:t})=>({...t}),[Ld]:()=>Object.create({})},{}),uk=(0,iE.HY)({position:sk(Ed),volume:sk(kd),keywordDifficulty:sk(wd),intent:sk(Td),search:sk(vd),advanced:dk,advancedApplied:pk}),mk={data:(0,iE.HY)({reportConfig:OE,keywordsTotal:$E,keywordsTop:KE,keywords:HE,ranks:ek}),kgTable:DE,filters:uk};var yk=a(90167);function*gk({payload:{dbString:e}}){let t;do{t=yield(0,yk.Lt)(Qe.dW),null==t&&(yield(0,yk.cb)(10))}while(null==t);const a=(0,xt.um)((0,xt.pe)(e||t?.db)),r=a.db;yield(0,yk.yJ)(oa(r)),yield(0,yk.yJ)(ca(r)),""===(new M(window.location.search).get("device")||"")&&(yield(0,yk.yJ)(da(a.isMobile?aa.W.mobile:aa.W.desktop)))}function*hk({payload:{deviceString:e}}){const t=e;yield(0,yk.yJ)(ia(t)),yield(0,yk.yJ)(da(t))}function*bk({payload:{dateString:e}}){try{const t={date:null,dateType:null,isLive:!0};if(!e||8!==e.length&&6!==e.length)t.date=(0,wt.A)(new Date,"yyyyMMdd"),t.dateType=aa.J5.daily;else{const a=e.length<8?aa.J5.monthly:aa.J5.daily;t.date=a===aa.J5.daily?e:`${e}15`,t.dateType=a,t.isLive=a===aa.J5.daily}yield(0,yk.yJ)(sa(t.date,t.dateType,t.isLive)),yield(0,yk.yJ)(pa(t.date,t.dateType,t.isLive))}catch(e){console.warn(e)}}function*fk({payload:{db:e}}){const t=yield(0,yk.Lt)(Qe.Pf);yield(0,yk.yJ)(fa({db:e,isMobile:t===aa.W.mobile}))}function*Ek({payload:{dbString:e}}){const t=yield(0,yk.Lt)(Qe.Lf),a=(0,xt.um)((0,xt.pe)(e));null==t&&(yield(0,yk.yJ)(ca(a.db)),yield(0,yk.yJ)(oa(a.db))),yield(0,yk.yJ)(fa(a))}function*kk(){yield(0,yk.Q7)([(0,yk.jP)(Ea,Ek),(0,yk.p8)(ua.getType(),bk),(0,yk.p8)(ma.getType(),gk),(0,yk.p8)(ya.getType(),hk),(0,yk.p8)([ca.getType(),oa.getType()],fk)])}const vk=async({requestId:e,date:t,isLive:a})=>{const r={requestId:e,report:ut.REPORT_NAME.gap},n={date:(0,pt.dateStringToObject)(t,a)};return(await kt.fetchData("/Currency/Rates",r,n)).rates},wk=[qf.ERROR_CODE.reportLimitsExceeded,qf.ERROR_CODE.historicalDataPermission,qf.ERROR_CODE.productTypePermission,qf.ERROR_CODE.authError,qf.ERROR_CODE.keywordsTypePermission,qf.ERROR_CODE.filtersPermission];function*Tk({startLoading:e,stopLoading:t,resetLoading:a,setError:r,resetError:n,selectError:l,selectLoading:o,success:i,method:s,data:c,needToken:d=!0,onError:p}){if(yield(0,yk.Lt)(o)){const{timeout:e}=yield(0,yk.O4)({prevTaskStopped:yield(0,yk.s)([t.getType(),a.getType()]),timeout:yield(0,yk.cb)(50)});if(e)return}try{let t;yield(0,yk.yJ)(e()),(yield(0,yk.Lt)(l))&&(yield(0,yk.yJ)(n())),t=d?yield(0,yk.T1)(hs.withRequestId,s,c):yield(0,yk.T1)(s,c);const a=i(t);if(Array.isArray(a))for(const e of a)yield(0,yk.yJ)(e);else yield(0,yk.yJ)(i(t))}catch(e){console.warn(e),wk.includes(e.code)&&(yield(0,yk.yJ)(Wf(e.code))),yield(0,yk.yJ)(r(e)),p&&(yield(0,yk.cH)(p,e))}finally{(yield(0,yk.KW)())?yield(0,yk.yJ)(a()):yield(0,yk.yJ)(t())}}(0,ke.VP)("reportConfigUpdateRequest");const Ak=(0,ke.VP)("reportConfigUpdated"),Ck=(e,t)=>[...e.daily,...e.monthly].includes(t),Sk=({db:e,defaultDb:t,date:a})=>(Boolean(e)||Boolean(t?.db))&&Boolean(a);function*xk(e){yield(0,yk.yJ)(ba()),yield(0,yk.yJ)(Ak(e))}function*Rk(e){yield(0,yk.T1)(Tk,{...AE,selectError:e=>e.data.reportConfig.statusDbs.hasError,selectLoading:e=>e.data.reportConfig.statusDbs.isLoading,success:we,method:Iy,data:{...e},needToken:!1})}function*_k(){yield(0,yk.T1)(Rk)}function*Lk(e){(yield(0,yk.Lt)(Ka))||(yield(0,yk.T1)(Rk,e))}function*Ok({payload:e}){const t=yield(0,yk.Lt)(Qe.Lf),a=yield(0,yk.Lt)(Qe.Pf);if("il"===t&&0===a){const a=`${t}-ext`;if(e.data.find((({code:e})=>e===a))){const e=new M(window.location.search);e.set("db",a),window.location.replace(`${window.location.pathname}?${e.toString()}`)}}}function*Pk(e){yield(0,yk.T1)(Tk,{...RE,selectError:e=>e.data.reportConfig.statusCurrencies.hasError,selectLoading:e=>e.data.reportConfig.statusCurrencies.isLoading,success:t=>Te(t,e.date,e.isLive),method:vk,data:{...e}})}function*Ik(e){(yield(0,yk.Lt)(nr,e.date,e.isLive))||(yield(0,yk.T1)(Pk,e))}function*Mk(e){yield(0,yk.T1)(Tk,{...SE,selectError:e=>e.data.reportConfig.statusTimepoints.hasError,selectLoading:e=>e.data.reportConfig.statusTimepoints.isLoading,success:t=>Ae(t,e.db||e.defaultDb?.db,e.device,e.dateType),method:My,data:{...e,db:e.db||e.defaultDb?.db},*onError(e){e?.code===qf.ERROR_CODE.validationError&&(yield(0,yk.cb)(150),yield(0,yk.yJ)(ia(aa.W.desktop)))}})}function*Dk(e){(yield(0,yk.Lt)(rr,e.db,e.device))||(yield(0,yk.T1)(Mk,e))}function*Fk(e){Sk(e)&&(yield(0,yk.Zy)(xk,e),yield(0,yk.T1)(Lk,e),yield(0,yk.T1)(Dk,e),yield(0,yk.T1)(Ik,e))}function*Nk(e){const t={...e,db:e.db||e.defaultDb?.db},a=e.device,r=yield(0,yk.Lt)(Ra);return r||null==r||(yield(0,yk.Lt)(Ha,e.db||e.defaultDb?.db)).includes(a)||(t.device=aa.W.desktop),t}let jk={};const $k=(e,t)=>{const a=Object.keys(t).reduce(((a,r)=>a&&((e,t,a)=>"date"===a?t.date?.payload?.dateType===aa.J5.daily?t.date?.payload?.dateType===e.dateType:t.date?.payload?.date===e.date:t[a]?.payload?.[a]===e[a])(e,t,r)),!0);return a};function*qk(){let e;for(;;){const t=yield(0,yk.O4)({db:(0,yk.s)(oa),device:(0,yk.s)(ia),date:(0,yk.s)(sa)});if($k(jk,t)){t.date?.payload?.date!==jk.date&&"date"===Object.keys(t)[0]&&(yield(0,yk.yJ)(pa(t.date?.payload?.date,t.date?.payload?.dateType,t.date?.payload?.isLive)));continue}e&&(yield(0,yk.ZT)(e));let a=yield(0,yk.Lt)(ho);for(const e of Object.values(t))e&&(a={...a,...e.payload});jk=yield(0,yk.T1)(Nk,a),yield(0,yk.yJ)(ha(jk)),e=yield(0,yk.Zy)(Fk,jk)}}function*Uk({payload:{data:e,dateType:t}}){const a=yield(0,yk.Lt)(Qe.pp);Ck(e,a)||(yield(0,yk.yJ)(sa(e[t===aa.J5.daily?"daily":"monthly"][0],t,t===aa.J5.daily)))}function*Vk(){const e=yield(0,yk.Lt)(ho);yield(0,yk.T1)(Fk,e)}function*zk(){(yield(0,yk.Lt)(Da))&&(yield(0,yk.yJ)(Ce()))}const Kk=()=>null!=new M(window.location.search).get("filter"),Bk=({targets:e,db:t,defaultDb:a})=>e.length>=2&&(null!==t||null!==a?.db);let Jk=!1;function*Wk(){yield(0,yk.s)(Id.getType()),Jk=!0}function*Gk(){for(;;){yield(0,yk.s)("*");const e=yield(0,yk.Lt)(ho);if(Bk(e))break}Kk()&&!Jk&&(yield(0,yk.s)(Id.getType())),yield(0,yk.Zy)(qk);const e=yield(0,yk.Lt)(ho);jk=yield(0,yk.T1)(Nk,e),yield(0,yk.T1)(Fk,jk)}function*Yk(){yield(0,yk.Q7)([(0,yk.Zy)(Wk),(0,yk.Zy)(Gk),(0,yk.p8)(ve.getType(),_k),(0,yk.p8)(Ae.getType(),Uk),(0,yk.p8)(we.getType(),Ok),(0,yk.p8)(Ce.getType(),Vk),(0,yk.p8)(tl.getType(),zk)])}const Hk=e=>"number"==typeof e,Qk=e=>{const t=Hk(e)?"searchItems":e;return ih.get(t)},Zk={asc:"desc",desc:"asc"};function*Xk(e){const t=yield(0,yk.Lt)(yo),a=e.payload.field;if(t!==a){const e=Qk(a);yield(0,yk.yJ)(by(a,e))}else{const e=yield(0,yk.Lt)(go);yield(0,yk.yJ)(by(a,Zk[e]))}}function*ev({payload:e}){const{targets:t}=e,a=yield(0,yk.Lt)(yo);Hk(a)&&(t?.[a]?.searchItem||(yield(0,yk.yJ)(hy(PE.field))))}function*tv(e){yield(0,yk.yJ)(vy(e.payload.page))}function*av(e){yield(0,yk.O4)([(0,yk.s)(jy.getType()),(0,yk.s)(Fy.getType())]);const t=!P.A.hasProduct();yield(0,yk.yJ)(Qn({...e.payload,intersectionType:t?Jn[0]:e.payload.intersectionType}))}function*rv({payload:{id:e}}){const t=yield(0,yk.Lt)(ho);yield(0,yk.yJ)(Ay(e,t))}function*nv(){const e=yield(0,yk.Lt)(ho),t=yield(0,yk.Lt)(ny),a=yield(0,yk.Lt)(To);t?yield(0,yk.yJ)(Sy(a,e)):yield(0,yk.yJ)(Cy(a,e))}function*lv(){const e=yield(0,yk.Lt)(ho);yield(0,yk.yJ)(Sy(null,e))}function*ov(){yield(0,yk.yJ)(fy(!1))}function*iv(){yield(0,yk.yJ)(vy(1)),yield(0,yk.yJ)(wy(1))}function*sv(){yield(0,yk.Q7)([(0,yk.p8)(hy.getType(),Xk),(0,yk.p8)(ky.getType(),tv),(0,yk.p8)(Fy.getType(),ov),(0,yk.p8)([Ak.getType(),Yn.getType(),Hn.getType()],iv),(0,yk.p8)(Hn.getType(),av),(0,yk.p8)(Ty.getType(),rv),(0,yk.p8)(xy.getType(),nv),(0,yk.p8)(Ry.getType(),lv),(0,yk.p8)(tl.getType(),ev)])}const cv=async({requestId:e,targets:t,isLive:a,date:r,db:n,device:l,filter:o})=>{const i={requestId:e,report:ut.REPORT_NAME.gap},{positionFilter:s,restFilters:c,positionFilterType:d}=yb(o),p={targets:ub(t,s,d),date:a?null:(0,pt.dateStringToObject)(r),database:(0,pt.prepareDatabase)(n,l),filters:c};return(await kt.fetchData("/Gap/KeywordsTotals",i,p)).targetKeywords.map((e=>{const t=new Map;for(const[a,r]of Object.entries(e))t.set(a,Number(r));return Object.fromEntries(t)}))},dv=async({requestId:e,targets:t,isLive:a,date:r,db:n,device:l,filter:o})=>{const i={requestId:e,report:ut.REPORT_NAME.gap},{positionFilter:s,restFilters:c,positionFilterType:d}=yb(o),p={targets:ub(t,s,d),date:a?null:(0,pt.dateStringToObject)(r),database:(0,pt.prepareDatabase)(n,l),filters:c};return(await kt.fetchData("/Gap/Overlaps",i,p)).overlaps.map((e=>({...e,commonKeywords:Number(e.commonKeywords)})))},pv=async e=>{const t=await Promise.all([dv(e),cv(e)]),[a,r]=t;return{overlaps:a,targetsKeywords:r}},uv=async({requestId:e,db:t,device:a,date:r,isLive:n,targets:l,type:o=ye.SJ.common,filter:i={},page:s=1,pageSize:c=100,sortField:d="volume",sortDirection:p="desc",columnsSet:u=[]})=>{const m={report:ut.REPORT_NAME.gap,requestId:e},{positionFilter:y,restFilters:g,positionFilterType:h}=yb(i),b={targets:ub(l,y,h),date:n?null:(0,pt.dateStringToObject)(r),database:(0,pt.prepareDatabase)(t,a),type:ut.KEYWORDS_TYPE[o],range:{limit:c,offset:(s-1)*c},columns:u.length>0?u:[ut.KEYWORDS_LIST_COLUMN.keyword,ut.KEYWORDS_LIST_COLUMN.intent,ut.KEYWORDS_LIST_COLUMN.volume,ut.KEYWORDS_LIST_COLUMN.keywordDifficulty,ut.KEYWORDS_LIST_COLUMN.cpc,ut.KEYWORDS_LIST_COLUMN.comp,ut.KEYWORDS_LIST_COLUMN.positions,ut.KEYWORDS_LIST_COLUMN.urls,ut.KEYWORDS_LIST_COLUMN.results],order:{column:ut.KEYWORDS_LIST_ORDER_COLUMN[pb(d)],direction:ut.ORDER_DIRECTION[p]},filters:g};return(await kt.fetchData("/Gap/KeywordsList",m,b)).keywords.map((e=>({...e,positions:e.targetsPosition,comp:e.competitionDensity,intents:e.intents.map((e=>ut.INTENT_SPEC_RESPONSE[e])),urls:e.targetsUrl})))},mv=async e=>{const{targets:t=[]}=e,a={...e,pageSize:5,sortField:"volume",sortDirection:"desc",columnsSet:[ut.KEYWORDS_LIST_COLUMN.keyword,ut.KEYWORDS_LIST_COLUMN.intent,ut.KEYWORDS_LIST_COLUMN.volume,ut.KEYWORDS_LIST_COLUMN.keywordDifficulty,ut.KEYWORDS_LIST_COLUMN.cpc]};if(t.every((e=>"organic"===e.dataType))){const e=await Promise.all([uv({...a,type:ye.SJ.missing}),uv({...a,type:ye.SJ.weak})]),[t,r]=e;return{missing:t,weak:r}}return{common:await uv({...a,type:ye.SJ.common})}};function*yv(e){yield(0,yk.T1)(Tk,{...FE,selectError:e=>e.data.keywordsTotal.status.hasError,selectLoading:e=>e.data.keywordsTotal.status.isLoading,success:e=>Vd(e),method:pv,data:{...e}})}function*gv(e){const{code:t}=e.payload.id;t===qf.ERROR_CODE.productTypePermission&&(yield(0,yk.yJ)(Wf(t)))}function*hv(e){const t=yield(0,yk.Lt)(ho),a=e.type===tl.getType()&&e?.payload?.isLanding;t.targets.length<ye.an||a||(yield(0,yk.T1)(yv,t))}function*bv(){yield(0,yk.Q7)([(0,yk.p8)([tl.getType(),Ak.getType(),Od.getType()],hv),(0,yk.p8)([FE.setError.getType()],gv)])}function*fv({payload:{params:e}}){yield(0,yk.T1)(Tk,{...JE,selectError:e=>e.data.keywords.status.hasError,selectLoading:e=>e.data.keywords.status.isLoading,success:t=>Fy(t?.map((e=>({...e,id:(0,tk.nanoid)(),positions:e.positions.map((e=>0===e?null:e)),intents:e?.intents.map((e=>Mo.INTENT_IDS.getType(e)))??[]})))??[],e),method:uv,data:{...e}})}function*Ev(e,t={}){const a=e?.payload?.reload,r={...yield(0,yk.Lt)(ho),...t};if(!(r.targets.length<ye.an))return(yield(0,yk.Lt)(Co,r))&&!a?(yield(0,yk.yJ)(jy()),void(yield(0,yk.yJ)(ky(r.page)))):(yield(0,yk.yJ)(Ny(r)),yield(0,yk.s)(JE.stopLoading.getType()),void(yield(0,yk.yJ)(ky(r.page))))}function*kv({payload:{page:e}}){(0,yy.isTableLimited)({userRole:P.A.productGroup,page:e})?yield(0,yk.yJ)(fy(!0)):(yield(0,yk.yJ)(fy(!1)),yield(0,yk.T1)(Ev,null,{page:e}))}function*vv({payload:{intersectionType:e}}){yield(0,yk.T1)(Ev,null,{page:1,type:e})}function*wv({payload:{field:e,direction:t}}){yield(0,yk.T1)(Ev,null,{sortField:e,sortDirection:t})}function*Tv(e){const{code:t}=e.payload.id;t===qf.ERROR_CODE.filtersPermission&&(yield(0,yk.yJ)(Wf(t)))}function*Av(){for(;;){const{payload:e}=yield(0,yk.s)(Vd);e&&0!==e?.data?.targetsKeywords?.length&&(yield(0,yk.T1)(Ev,null,{page:1}))}}function*Cv(){yield(0,yk.Q7)([(0,yk.p8)(Dy.getType(),Ev),(0,yk.p8)(Ey.getType(),kv),(0,yk.p8)(Hn.getType(),vv),(0,yk.p8)(Ny.getType(),fv),(0,yk.p8)(by.getType(),wv),(0,yk.Zy)(Av),(0,yk.p8)([JE.setError.getType()],Tv)])}const Sv=async({requestId:e,searchItem:t,searchType:a,date:r,dateType:n})=>{const l={requestId:e,report:ut.REPORT_NAME.gap},o={target:{type:ut.TARGET_TYPE[a],value:t},date:(0,pt.dateStringToObject)(r,n===St.Daily),database:"worldwide",range:{limit:200,offset:0},columns:[ut.SUMMARY_COLUMN.organicPositions,ut.SUMMARY_COLUMN.adwordsPositions,ut.SUMMARY_COLUMN.plaPositions,ut.SUMMARY_COLUMN.database],order:{column:ut.SUMMARY_COLUMN.organicPositions,direction:ut.ORDER_DIRECTION.desc}};return(await kt.fetchData("/Summary/Overview",l,o)).metrics};function*xv(){const e=yield(0,yk.Lt)(Qe.pp),t=yield(0,yk.Lt)(Qe.Lk),{searchItem:a,searchType:r}=yield(0,yk.Lt)(Sl.qG);yield(0,yk.T1)(Tk,{...QE,selectError:e=>e.data.ranks.status.hasError,selectLoading:e=>e.data.ranks.status.isLoading,success:e=>Nb(e),needToken:!1,method:Sv,data:{date:e,dateType:t,searchItem:a,searchType:r}})}function*Rv(){yield(0,yk.Q7)([(0,yk.p8)(Fb.getType(),xv)])}function*_v(e){yield(0,yk.T1)(Tk,{...UE,selectError:Yl,selectLoading:Wl,success:e=>qE(e),method:mv,data:{...e}})}function*Lv(e){const{code:t}=e.payload.id;t===qf.ERROR_CODE.productTypePermission&&(yield(0,yk.yJ)(Wf(t)))}function*Ov(e){const t=yield(0,yk.Lt)(ho),a=e.type===tl.getType()&&e?.payload?.isLanding;t.targets.length<ye.an||a||(yield(0,yk.T1)(_v,t))}function*Pv(){yield(0,yk.Q7)([(0,yk.p8)([tl.getType(),Ak.getType(),Od.getType()],Ov),(0,yk.p8)([UE.setError.getType()],Lv)])}function*Iv(e){const t=e.payload.name.toLowerCase(),{value:a}=e.payload;yield(0,yk.yJ)(Md[t].setFilter(a))}function*Mv(){yield(0,yk.yJ)(Od())}function*Dv(){yield(0,yk.yJ)(Sd({})),yield(0,yk.yJ)(Od())}function*Fv(){const e=yield(0,yk.Lt)(oo);0===Object.keys(e).filter((e=>"order"!==e)).length&&(yield(0,yk.yJ)(xd()))}function*Nv(e){const{skipGa:t}=e.payload,a=yield(0,yk.Lt)(oo),r={},n=[];for(const e of Object.values(a))null==e.id||null==e.value||""===e.value||nk(r,e)?n.push(e):r[e.id]=e;if(0!==Object.values(r).length){for(const e of n)e?.id&&(yield(0,yk.yJ)(Rd(e.id)));0!==Object.keys(r).length&&(yield(0,yk.yJ)(Sd(r)),yield(0,yk.yJ)(Od()),t||Vu(r))}else yield(0,yk.yJ)(Ld())}function*jv(e){const t=yield(0,yk.Lt)(io,e),a=ak(t.field);null==a?yield(0,yk.yJ)(_d(e,"criteria",null)):a.includes(t.criteria)||(yield(0,yk.yJ)(_d(e,"criteria",a[0])))}function*$v(e){const t=yield(0,yk.Lt)(io,e),a=rk(t.field);null==a?yield(0,yk.yJ)(_d(e,"value",null)):a.includes(t.value)||(yield(0,yk.yJ)(_d(e,"value",a[0])))}function*qv({payload:{id:e,name:t}}){"field"===t&&(yield(0,yk.Zy)(jv,e),yield(0,yk.Zy)($v,e))}function*Uv({payload:{data:e}}){null!=e?(yield(0,yk.yJ)(kd.setFilter(e?.volume)),yield(0,yk.yJ)(Ed.setFilter(e?.position)),yield(0,yk.yJ)(vd.setFilter(e?.search)),yield(0,yk.yJ)(wd.setFilter(e?.keywordDifficulty)),yield(0,yk.yJ)(Td.setFilter(e?.intent)),Object.keys(e?.advanced??{}).length>0&&(yield(0,yk.yJ)(Ad(e?.advanced)),yield(0,yk.yJ)(Cd(!0))),yield(0,yk.yJ)(Id())):yield(0,yk.yJ)(Id())}function*Vv(){yield(0,yk.Q7)([(0,yk.p8)((({type:e})=>e.includes("/requestSetFilter")),Iv),(0,yk.p8)(Ld,Dv),(0,yk.p8)(bd,Dv),(0,yk.Zy)(Fv),(0,yk.p8)((({type:e})=>e.includes("/clearFilter")),Mv),(0,yk.p8)(Cd,Nv),(0,yk.p8)(_d,qv),(0,yk.p8)(Pd,Uv)])}const zv=(e,t)=>((e,t)=>e?Aa()(t,(t=>void 0!==e[t]&&e[t]>0)):null)(e,t);function*Kv(){const e=yield(0,yk.Lt)(Ll),t=!P.A.hasProduct();if(e||t)return;const a=yield(0,yk.Lt)(Ul),r=yield(0,yk.Lt)(Ol),n=zv(a,Jn);null!=n&&r!==n&&(yield(0,yk.yJ)(Hn({intersectionType:n})))}function*Bv({payload:{type:e}}){Jn.includes(e)&&(yield(0,yk.yJ)(Qn({intersectionType:e,intersectionSetByUser:!0})))}function*Jv(){yield(0,yk.Q7)([(0,yk.p8)([Vd.getType()],Kv),(0,yk.p8)(Zn.getType(),Bv)])}function*Wv(){try{yield(0,yk.yJ)(sa(At(),aa.J5.daily,!0)),yield(0,yk.s)([Ak.getType()]),yield(0,yk.yJ)(Yf())}catch(e){console.warn(e)}}function*Gv(){yield(0,yk.Q7)([(0,yk.jP)(Gf,Wv)])}const Yv=e=>{const[t,a,r]=e.split(":");return{searchItem:decodeURIComponent(t),searchType:a||"domain",keywordType:r||ye.N$}},Hv=e=>{const t=e.split("|").map(Yv).slice(0,ye.$D);return[...t,...(a=t.length,[...Array(ye.$D-a)].map((()=>(0,Ue.Competitor)())))];var a};function*Qv({payload:{targets:e}}){const t=yield(0,yk.Lt)(Sl.lG),a=yield(0,yk.Lt)(Ll),r=e.map((({searchItem:e})=>e)).filter((e=>!!e));if(t.join("")!==r.join("")&&t.length>0)yield(0,yk.yJ)(tl(e));else{yield(0,yk.yJ)(rl(e));const t=e.filter((e=>!!e.searchItem)).map((e=>e.keywordType)),a=new Set(t);if(a.size>1)yield(0,yk.yJ)(Gn(ye.vV.advanced));else if(!a.has(ye.N$)){const e=t[0];yield(0,yk.yJ)(Yn(e))}}a||(yield(0,yk.yJ)(Xn()))}function*Zv(){for(;;){const[e,t,a,r]=yield(0,yk.O4)([(0,yk.s)(nl.getType()),(0,yk.s)(ll.getType()),(0,yk.s)(ol.getType()),(0,yk.s)(il.getType())]),n=yield(0,yk.Lt)(Sl.N3),[l]=n;if((e||t||a)&&(yield(0,yk.yJ)(al([{searchItem:e?decodeURIComponent(e?.payload.q):l.searchItem,searchType:t?.payload?.searchType||l.searchType,keywordType:a?.payload?.keywordType||l.keywordType},...n.slice(1)]))),r){const e=Hv(r.payload.compareWith);yield(0,yk.yJ)(al([l,...e]))}}}function*Xv(){const e=new M(location.search),[t,a,r,n]=yield(0,yk.Q7)([e.get("q")&&(0,yk.s)(nl.getType()),e.get("searchType")&&(0,yk.s)(ll.getType()),e.get("keywordType")&&(0,yk.s)(ol.getType()),e.get("compareWith")&&(0,yk.s)(il.getType())]);if(!t)return void(yield(0,yk.cH)(Zv));const l=t?.payload.q,o=a?.payload.searchType??"domain",i=r?.payload.keywordType??ye.N$,s=n?.payload.compareWith??"",c=Hv(s);yield(0,yk.yJ)(al([{searchItem:decodeURIComponent(l),searchType:o||"domain",keywordType:i||ye.N$},...c])),yield(0,yk.cH)(Zv)}function*ew(){yield(0,yk.Q7)([(0,yk.p8)(al.getType(),Qv),(0,yk.Zy)(Xv)])}function*tw(){yield(0,yk.T1)(Be.init),yield(0,yk.T1)(Be.changeVisibility);const e=Be.api.getSearchbarData();e?yield(0,yk.yJ)(Ea(e.db)):yield(0,yk.yJ)(Ea("us"))}function*aw(){yield(0,yk.Q7)([(0,yk.cH)(tw)])}function*rw(){try{if(!P.A.isAuthorized())return;const{db:e,defaultDb:t}=yield(0,yk.Lt)(Qe.eF),a=yield(0,yk.T1)(Py,{database:e||t?.db||xt.nR});yield(0,yk.yJ)(et(a))}catch(e){console.warn(e)}}function*nw(){yield(0,yk.T1)(rw)}const lw=a(21081),ow=(0,sE.Ay)({onError:e=>{cE.Cp(e)}});(0,a(97633).A)({projectID:163,publicKey:"0ef824d8c8da4a0a947c3587131d258c",url:p().sentry_url,environment:"prod",release:"keyword-gap@9752af52",user:P.A}),c.listen((({action:e})=>{"PUSH"===e&&b()}));const iw=function(e={},t){const a=[ow],r=[(0,iE.Tw)(...a)],n=iE.Zz,l=(0,iE.y$)(function(e={}){return(0,iE.HY)({...mk,page:gE.reducer,limits:hE.reducer,[rt]:nt,keyword_gap:fE.reducer,targets:kE.reducer,...e})}(),{...e},n(...r));"prod"!==lw.PROD&&(window.__RED_TEST_STORE_DATA__=l),ow.run(aw),ow.run(kk),ow.run(Yk),ow.run(sv),ow.run(bv),ow.run(Pv),ow.run(Cv),ow.run(Rv),ow.run(Vv),ow.run(Jv),ow.run(Gv),ow.run(ew),ow.run(nw);return function({store:e,params:t,replaceState:a,initialTruth:r,history:n=(0,s.zR)()}){const{dispatch:l}=e;let o,i=!1,c=!1;function d(e){return Object.hasOwnProperty.call(e,"location")?e.location:Object.hasOwnProperty.call(e,"getCurrentLocation")?e.getCurrentLocation():void 0}function p(e){const a=new dE.A(e.search),r={};return Object.keys(t).forEach((e=>{const{defaultValue:n,stringToValue:l=e=>e}=t[e],o=a.get(e),i=null===o?n:l(o);r[e]=i})),r}function u({replaceState:a}){if(c)return;const r=e.getState(),l=d(n),s=new dE.A(l.search);Object.keys(t).forEach((e=>{const{selector:a,defaultValue:n,valueToString:l=e=>`${e}`}=t[e],i=a(r);i===n?s.delete(e):s.set(e,l(i)),o[e]=i}));const p=`?${s}`;if(p!==(l.search||"?")){i=!0;const e={pathname:l.pathname,search:p,hash:l.hash,state:l.state};a?n.replace(e):n.push(e),i=!1}}function m(a){if(void 0!==a.location&&(a=a.location),i)return;const r=e.getState(),n=p(a),s=[];Object.keys(n).forEach((e=>{const a=n[e];if(void 0===o||o[e]!==a){const{selector:n,action:l}=t[e];n(r)!==a&&s.push(l(a))}})),o=n,c=!0,s.forEach((e=>{l(e)})),c=!1,u({replaceState:!0})}const y=n.listen(m),g=e.subscribe((()=>u({replaceState:a})));"location"===r?m(d(n)):o=p(d(n)),"store"===r&&u({replaceState:!0})}({store:l,initialTruth:"location",params:{db:{selector:e=>e.page.db,action:e=>ma(e),defaultValue:null},device:{selector:e=>e.page.device,action:e=>ya(e),stringToValue:e=>({desktop:0,mobile:1,0:0,1:1}[e]),valueToString:e=>({0:"desktop",1:"mobile"}[e]),defaultValue:0},date:{selector:e=>(0,Qe.aZ)(e),action:e=>ua(e),defaultValue:Ct()},q:{selector:Sl.zP,action:e=>nl(e),defaultValue:""},searchType:{selector:Sl.rq,action:e=>ll(e),defaultValue:void 0},keywordType:{selector:Sl.Ih,action:e=>ol(e),defaultValue:void 0},rankType:{selector:Ol,action:Zn,defaultValue:""},compareWith:{selector:e=>(0,Sl.mi)(e),action:e=>il(e),defaultValue:""},filter:{selector:co,action:Pd,stringToValue:mE,valueToString:uE,defaultValue:null},currency:{defaultValue:Sa,selector:er,action:e=>ga(e),stringToValue:e=>3!==e.length?Sa:e}},history:t}),l.runSaga=ow.run,l.injectedReducers={},l.injectedSagas={},l}({},c),sw=document.getElementById("keyword-gap-app");var cw;cw=()=>((0,n.useEffect)((()=>{b()}),[]),n.createElement(oE,{"data-at":"keyword-gap"},n.createElement(lE,null),n.createElement(nE,null))),(0,l.H)(sw).render(n.createElement(S,{locale:ne},n.createElement(o.Kq,{store:iw},n.createElement(se,null,n.createElement(cw,null)))))},41486:(e,t,a)=>{"use strict";a.d(t,{$D:()=>n,CT:()=>s,Kv:()=>o,N$:()=>l,SJ:()=>d,an:()=>r,vM:()=>i,vV:()=>c});const r=2,n=4,l="organic",o={searchItem:"",searchType:"domain",keywordType:l},i=["domain","url","subdomain","subfolder"],s=["organic","adwords","pla"],c={simple:"simple",advanced:"advanced"},d={common:"common",missing:"missing",weak:"weak",strong:"strong",untapped:"untapped",unique:"unique",total:"total"}},4676:(e,t,a)=>{"use strict";a.d(t,{$G:()=>o,Ac:()=>l,G2:()=>n});var r=a(90136);const n="keyword_gap.table.add_to_list",l=e=>{r.A.track(r.A.eventName.click,{item_location:`${n}.click`,item_label:`${e}`,type:"button"})},o=()=>{r.A.track(r.A.eventName.click,{item_location:`${n}.click`,item_label:"1",type:"icon"})}},82658:(e,t,a)=>{"use strict";a.d(t,{Z0:()=>d,jb:()=>c,lg:()=>s,m_:()=>p,nR:()=>m,pe:()=>y,qF:()=>u,um:()=>i});var r=a(89961);const n=/^mobile-[a-z]{2}$/,l=/-ext$/,o=/^mobile-/,i=e=>({isMobile:n.test(e),db:e?.replace(o,"")}),s=e=>o.test(e),c=e=>1===e,d=(e,t)=>c(t)?(e=>`mobile-${e}`)(e):e,p=(e,t=!0)=>{let a=e;return o.test(a)&&(a=a.replace(o,"")),t&&l.test(a)&&(a=a.replace(l,"")),a},u=e=>s(e)?r.W.mobile:r.W.desktop,m="us",y=e=>["null",null,"undefined",void 0,""].some((t=>t===e))?m:e},55497:(e,t,a)=>{"use strict";let r;a.d(t,{A:()=>n}),r=new(a(97673).User);const n=r},90136:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const r=new(a(97673).GA4)("keyword_gap",void 0)},89961:(e,t,a)=>{"use strict";a.d(t,{J5:()=>n,W:()=>r,a4:()=>l});const r={mobile:1,desktop:0,ToString(e){switch(e){case 0:default:return"desktop";case 1:return"mobile"}},ToValue(e){switch(e){case"desktop":default:return 0;case"mobile":return 1}}},n={daily:0,monthly:1,ToString(e){switch(e){case 0:default:return"daily";case 1:return"monthly"}}},l=[1e3,10]},20827:e=>{e.exports={static_url:"https://static.semrush.com/keyword-gap/",spectrumUrl:"https://www.semrush.com/spectrum/v1",exportUrl:"https://www.semrush.com/spectrum-export/v1",sentry_url:"www.semrush.com/_sentry",isProd:!0,feedbackBackendUrl:"https://feedback.semrush.com",feedbackEmail:"domain-analytics-feedback@semrush.com",gaCategory:"Keyword Gap"}},67072:(e,t,a)=>{"use strict";a.r(t),a.d(t,{stateKey:()=>r});const r="page"},64683:(e,t,a)=>{"use strict";a.d(t,{Ke:()=>E,Lf:()=>u,Lk:()=>g,Pf:()=>f,VG:()=>h,aZ:()=>b,al:()=>k,dW:()=>m,eF:()=>v,pp:()=>y});var r=a(1081),n=a(58156),l=a.n(n),o=a(42534),i=a(89961),s=a(55497),c=a(67072);const d=e=>e[c.stateKey]?e[c.stateKey]:{},p=(e,t)=>l()(d(e).nextParams,t,null)||d(e)[t],u=e=>p(e,"db"),m=e=>d(e).defaultDb,y=e=>p(e,"date"),g=e=>p(e,"dateType"),h=e=>p(e,"isLive"),b=e=>{const t=y(e),a=g(e);return t?t.slice(0,t.length-(a===i.J5.monthly?2:0)):null},f=e=>p(e,"device"),E=e=>d(e).currencyType,k=(0,r.Mz)([o.Dv],(e=>!!s.A.isSearchTypesLimited()&&e.some((({type:e})=>"domain"!==e)))),v=(0,r.Mz)([u,m,e=>p(e,"domain"),e=>d(e).scope,y,g,f,e=>d(e).currency,e=>p(e,"searchType"),e=>p(e,"searchItem")],((e,t,a,r,n,l,o,i,s,c)=>({db:e,defaultDb:t,domain:a,scope:r,date:n,dateType:l,device:o,currency:i,searchType:s,searchItem:c})))},7053:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Competitor:()=>o,SEARCH_TYPES:()=>l,stateKey:()=>n});var r=a(41486);const n="targets",l={domain:"domain",subdomain:"subdomain",url:"url",subfolder:"subfolder"},o=()=>({...r.Kv})},42534:(e,t,a)=>{"use strict";a.d(t,{Dv:()=>o,G9:()=>y,Ih:()=>c,Ij:()=>f,N3:()=>l,S3:()=>h,lG:()=>b,mi:()=>d,qG:()=>u,rq:()=>s,yo:()=>p,zP:()=>i,zW:()=>g});var r=a(1081),n=a(7053);const l=e=>(e=>e[n.stateKey]?e[n.stateKey]:{})(e).data||[],o=(0,r.Mz)(l,(e=>e.map((e=>({value:e.searchItem,type:e.searchType,dataType:e.keywordType}))))),i=(0,r.Mz)(l,(e=>e?.[0]?.searchItem??"")),s=(0,r.Mz)(l,(e=>e?.[0]?.searchType)),c=(0,r.Mz)(l,(e=>e?.[0]?.keywordType)),d=(0,r.Mz)(l,(([,...e])=>e?.reduce(((e,{searchItem:t,searchType:a,keywordType:r})=>(t&&e.push(`${encodeURIComponent(t)}:${a}:${r}`),e)),[])?.join("|")??"")),p=((0,r.Mz)(l,(e=>e.length?e:"")),(0,r.Mz)(l,(e=>e.filter((e=>""!==e.searchItem))))),u=(0,r.Mz)(p,(e=>e.length>0?e[0]:{})),m=(0,r.Mz)(l,(e=>e.map((e=>e.keywordType)).join("_"))),y=(0,r.Mz)(m,(e=>e)),g=(0,r.Mz)([l],(e=>e?.[0]?.keywordType??"organic")),h=(0,r.Mz)([l],(e=>1===new Set(e.filter((({searchItem:e})=>e)).map((({keywordType:e})=>e))).size)),b=(0,r.Mz)(l,(e=>e.filter((e=>e.searchItem.length)).map((({searchItem:e})=>e)))),f=(0,r.Mz)(b,(e=>e?.length>1))},21081:e=>{e.exports={DEV:"dev",RC:"rc",PROD:"prod",STAGE:"stage"}}}]);
//# sourceMappingURL=857.071a515c01a19d8a72a3.js.map